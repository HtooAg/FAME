"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/me/route";
exports.ids = ["app/api/auth/me/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "@google-cloud/storage":
/*!****************************************!*\
  !*** external "@google-cloud/storage" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@google-cloud/storage");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fme%2Froute&page=%2Fapi%2Fauth%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fme%2Froute.ts&appDir=C%3A%5CUsers%5CASUS%5COneDrive%5CDesktop%5CFAME%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CASUS%5COneDrive%5CDesktop%5CFAME&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fme%2Froute&page=%2Fapi%2Fauth%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fme%2Froute.ts&appDir=C%3A%5CUsers%5CASUS%5COneDrive%5CDesktop%5CFAME%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CASUS%5COneDrive%5CDesktop%5CFAME&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_ASUS_OneDrive_Desktop_FAME_app_api_auth_me_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/me/route.ts */ \"(rsc)/./app/api/auth/me/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_Users_ASUS_OneDrive_Desktop_FAME_app_api_auth_me_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\nC_Users_ASUS_OneDrive_Desktop_FAME_app_api_auth_me_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/me/route\",\n        pathname: \"/api/auth/me\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/me/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\FAME\\\\app\\\\api\\\\auth\\\\me\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_ASUS_OneDrive_Desktop_FAME_app_api_auth_me_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/me/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbWUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZtZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZtZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBU1VTJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDRkFNRSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDQVNVUyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q0ZBTUUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzQjtBQUNuRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvPzA3NjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcQVNVU1xcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXEZBTUVcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXG1lXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9tZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvbWVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvbWUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxBU1VTXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcRkFNRVxcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxcbWVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvbWUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fme%2Froute&page=%2Fapi%2Fauth%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fme%2Froute.ts&appDir=C%3A%5CUsers%5CASUS%5COneDrive%5CDesktop%5CFAME%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CASUS%5COneDrive%5CDesktop%5CFAME&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/me/route.ts":
/*!**********************************!*\
  !*** ./app/api/auth/me/route.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_gcs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/gcs */ \"(rsc)/./lib/gcs.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_gcs__WEBPACK_IMPORTED_MODULE_2__]);\n_lib_gcs__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"dev-secret-do-not-use-in-prod\";\n// Force dynamic rendering since this route uses request.cookies\nconst dynamic = \"force-dynamic\";\nasync function GET(request) {\n    try {\n        const token = request.cookies.get(\"auth-token\")?.value;\n        if (!token) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"No token\"\n        }, {\n            status: 401\n        });\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        // First check users index (for approved users)\n        const users = await (0,_lib_gcs__WEBPACK_IMPORTED_MODULE_2__.readJsonFile)(_lib_gcs__WEBPACK_IMPORTED_MODULE_2__.paths.usersIndex, []);\n        let user = users.find((u)=>u.id === decoded.userId);\n        console.log(\"User lookup result:\", {\n            userId: decoded.userId,\n            found: !!user\n        }); // Debug log\n        // Special handling for super admin\n        if (decoded.role === \"super_admin\") {\n            const adminUser = users.find((u)=>u.role === \"super_admin\" && u.id === decoded.userId);\n            if (adminUser) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    id: adminUser.id,\n                    email: adminUser.email,\n                    name: adminUser.name,\n                    role: \"super_admin\",\n                    accountStatus: \"active\",\n                    subscriptionStatus: \"active\"\n                });\n            }\n        }\n        // If not found in users index, check registrations (for pending users)\n        if (!user) {\n            const registrations = await (0,_lib_gcs__WEBPACK_IMPORTED_MODULE_2__.readJsonDirectory)(_lib_gcs__WEBPACK_IMPORTED_MODULE_2__.paths.registrationStageManagerDir);\n            user = registrations.find((r)=>r.id === decoded.userId);\n            console.log(\"Registration lookup result:\", {\n                userId: decoded.userId,\n                found: !!user\n            }); // Debug log\n        }\n        if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"User not found\"\n        }, {\n            status: 404\n        });\n        // Check account status (super_admin bypasses most checks)\n        if (user.role !== \"super_admin\") {\n            if (user.accountStatus === \"suspended\") {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Account suspended\",\n                    accountStatus: \"suspended\"\n                }, {\n                    status: 403\n                });\n            }\n            if (user.accountStatus === \"deactivated\") {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Account deactivated\",\n                    accountStatus: \"deactivated\"\n                }, {\n                    status: 403\n                });\n            }\n            if (user.accountStatus === \"rejected\") {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Account rejected\",\n                    accountStatus: \"rejected\"\n                }, {\n                    status: 403\n                });\n            }\n            // Allow pending users to get their data but they'll be redirected appropriately\n            if (user.accountStatus === \"pending\") {\n            // Return user data but the frontend will handle redirection\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            id: user.id,\n            email: user.email,\n            name: user.name,\n            role: user.role,\n            eventId: user.eventId,\n            accountStatus: user.accountStatus,\n            subscriptionStatus: user.subscriptionStatus,\n            subscriptionEndDate: user.subscriptionEndDate\n        });\n    } catch (error) {\n        console.error(\"Me error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid token\"\n        }, {\n            status: 401\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxXQUFXO1lBQ3JDLDREQUE0RDtZQUM3RDtRQUNEO1FBRUEsT0FBT2xDLHFEQUFZQSxDQUFDZSxJQUFJLENBQUM7WUFDeEJVLElBQUlILEtBQUtHLEVBQUU7WUFDWE8sT0FBT1YsS0FBS1UsS0FBSztZQUNqQkMsTUFBTVgsS0FBS1csSUFBSTtZQUNmSCxNQUFNUixLQUFLUSxJQUFJO1lBQ2ZTLFNBQVNqQixLQUFLaUIsT0FBTztZQUNyQkwsZUFBZVosS0FBS1ksYUFBYTtZQUNqQ0Msb0JBQW9CYixLQUFLYSxrQkFBa0I7WUFDM0NLLHFCQUFxQmxCLEtBQUtrQixtQkFBbUI7UUFDOUM7SUFDRCxFQUFFLE9BQU94QixPQUFPO1FBQ2ZXLFFBQVFYLEtBQUssQ0FBQyxhQUFhQTtRQUMzQixPQUFPaEIscURBQVlBLENBQUNlLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ3BFO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vYXBwL2FwaS9hdXRoL21lL3JvdXRlLnRzP2M3MjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuaW1wb3J0IHsgcmVhZEpzb25GaWxlLCByZWFkSnNvbkRpcmVjdG9yeSwgcGF0aHMgfSBmcm9tIFwiQC9saWIvZ2NzXCI7XHJcblxyXG5jb25zdCBKV1RfU0VDUkVUID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCBcImRldi1zZWNyZXQtZG8tbm90LXVzZS1pbi1wcm9kXCI7XHJcblxyXG4vLyBGb3JjZSBkeW5hbWljIHJlbmRlcmluZyBzaW5jZSB0aGlzIHJvdXRlIHVzZXMgcmVxdWVzdC5jb29raWVzXHJcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcblx0dHJ5IHtcclxuXHRcdGNvbnN0IHRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldChcImF1dGgtdG9rZW5cIik/LnZhbHVlO1xyXG5cdFx0aWYgKCF0b2tlbilcclxuXHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiTm8gdG9rZW5cIiB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG5cclxuXHRcdGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBhbnk7XHJcblxyXG5cdFx0Ly8gRmlyc3QgY2hlY2sgdXNlcnMgaW5kZXggKGZvciBhcHByb3ZlZCB1c2VycylcclxuXHRcdGNvbnN0IHVzZXJzID0gYXdhaXQgcmVhZEpzb25GaWxlPGFueVtdPihwYXRocy51c2Vyc0luZGV4LCBbXSk7XHJcblx0XHRsZXQgdXNlciA9IHVzZXJzLmZpbmQoKHUpID0+IHUuaWQgPT09IGRlY29kZWQudXNlcklkKTtcclxuXHJcblx0XHRjb25zb2xlLmxvZyhcIlVzZXIgbG9va3VwIHJlc3VsdDpcIiwge1xyXG5cdFx0XHR1c2VySWQ6IGRlY29kZWQudXNlcklkLFxyXG5cdFx0XHRmb3VuZDogISF1c2VyLFxyXG5cdFx0fSk7IC8vIERlYnVnIGxvZ1xyXG5cclxuXHRcdC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHN1cGVyIGFkbWluXHJcblx0XHRpZiAoZGVjb2RlZC5yb2xlID09PSBcInN1cGVyX2FkbWluXCIpIHtcclxuXHRcdFx0Y29uc3QgYWRtaW5Vc2VyID0gdXNlcnMuZmluZChcclxuXHRcdFx0XHQodSkgPT4gdS5yb2xlID09PSBcInN1cGVyX2FkbWluXCIgJiYgdS5pZCA9PT0gZGVjb2RlZC51c2VySWRcclxuXHRcdFx0KTtcclxuXHRcdFx0aWYgKGFkbWluVXNlcikge1xyXG5cdFx0XHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcblx0XHRcdFx0XHRpZDogYWRtaW5Vc2VyLmlkLFxyXG5cdFx0XHRcdFx0ZW1haWw6IGFkbWluVXNlci5lbWFpbCxcclxuXHRcdFx0XHRcdG5hbWU6IGFkbWluVXNlci5uYW1lLFxyXG5cdFx0XHRcdFx0cm9sZTogXCJzdXBlcl9hZG1pblwiLFxyXG5cdFx0XHRcdFx0YWNjb3VudFN0YXR1czogXCJhY3RpdmVcIixcclxuXHRcdFx0XHRcdHN1YnNjcmlwdGlvblN0YXR1czogXCJhY3RpdmVcIixcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIG5vdCBmb3VuZCBpbiB1c2VycyBpbmRleCwgY2hlY2sgcmVnaXN0cmF0aW9ucyAoZm9yIHBlbmRpbmcgdXNlcnMpXHJcblx0XHRpZiAoIXVzZXIpIHtcclxuXHRcdFx0Y29uc3QgcmVnaXN0cmF0aW9ucyA9IGF3YWl0IHJlYWRKc29uRGlyZWN0b3J5PGFueT4oXHJcblx0XHRcdFx0cGF0aHMucmVnaXN0cmF0aW9uU3RhZ2VNYW5hZ2VyRGlyXHJcblx0XHRcdCk7XHJcblx0XHRcdHVzZXIgPSByZWdpc3RyYXRpb25zLmZpbmQoKHIpID0+IHIuaWQgPT09IGRlY29kZWQudXNlcklkKTtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJSZWdpc3RyYXRpb24gbG9va3VwIHJlc3VsdDpcIiwge1xyXG5cdFx0XHRcdHVzZXJJZDogZGVjb2RlZC51c2VySWQsXHJcblx0XHRcdFx0Zm91bmQ6ICEhdXNlcixcclxuXHRcdFx0fSk7IC8vIERlYnVnIGxvZ1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdXNlcilcclxuXHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG5cdFx0XHRcdHsgZXJyb3I6IFwiVXNlciBub3QgZm91bmRcIiB9LFxyXG5cdFx0XHRcdHsgc3RhdHVzOiA0MDQgfVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdC8vIENoZWNrIGFjY291bnQgc3RhdHVzIChzdXBlcl9hZG1pbiBieXBhc3NlcyBtb3N0IGNoZWNrcylcclxuXHRcdGlmICh1c2VyLnJvbGUgIT09IFwic3VwZXJfYWRtaW5cIikge1xyXG5cdFx0XHRpZiAodXNlci5hY2NvdW50U3RhdHVzID09PSBcInN1c3BlbmRlZFwiKSB7XHJcblx0XHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG5cdFx0XHRcdFx0eyBlcnJvcjogXCJBY2NvdW50IHN1c3BlbmRlZFwiLCBhY2NvdW50U3RhdHVzOiBcInN1c3BlbmRlZFwiIH0sXHJcblx0XHRcdFx0XHR7IHN0YXR1czogNDAzIH1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodXNlci5hY2NvdW50U3RhdHVzID09PSBcImRlYWN0aXZhdGVkXCIpIHtcclxuXHRcdFx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGVycm9yOiBcIkFjY291bnQgZGVhY3RpdmF0ZWRcIixcclxuXHRcdFx0XHRcdFx0YWNjb3VudFN0YXR1czogXCJkZWFjdGl2YXRlZFwiLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHsgc3RhdHVzOiA0MDMgfVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh1c2VyLmFjY291bnRTdGF0dXMgPT09IFwicmVqZWN0ZWRcIikge1xyXG5cdFx0XHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0ZXJyb3I6IFwiQWNjb3VudCByZWplY3RlZFwiLFxyXG5cdFx0XHRcdFx0XHRhY2NvdW50U3RhdHVzOiBcInJlamVjdGVkXCIsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0eyBzdGF0dXM6IDQwMyB9XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQWxsb3cgcGVuZGluZyB1c2VycyB0byBnZXQgdGhlaXIgZGF0YSBidXQgdGhleSdsbCBiZSByZWRpcmVjdGVkIGFwcHJvcHJpYXRlbHlcclxuXHRcdFx0aWYgKHVzZXIuYWNjb3VudFN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcclxuXHRcdFx0XHQvLyBSZXR1cm4gdXNlciBkYXRhIGJ1dCB0aGUgZnJvbnRlbmQgd2lsbCBoYW5kbGUgcmVkaXJlY3Rpb25cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcblx0XHRcdGlkOiB1c2VyLmlkLFxyXG5cdFx0XHRlbWFpbDogdXNlci5lbWFpbCxcclxuXHRcdFx0bmFtZTogdXNlci5uYW1lLFxyXG5cdFx0XHRyb2xlOiB1c2VyLnJvbGUsXHJcblx0XHRcdGV2ZW50SWQ6IHVzZXIuZXZlbnRJZCxcclxuXHRcdFx0YWNjb3VudFN0YXR1czogdXNlci5hY2NvdW50U3RhdHVzLFxyXG5cdFx0XHRzdWJzY3JpcHRpb25TdGF0dXM6IHVzZXIuc3Vic2NyaXB0aW9uU3RhdHVzLFxyXG5cdFx0XHRzdWJzY3JpcHRpb25FbmREYXRlOiB1c2VyLnN1YnNjcmlwdGlvbkVuZERhdGUsXHJcblx0XHR9KTtcclxuXHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0Y29uc29sZS5lcnJvcihcIk1lIGVycm9yOlwiLCBlcnJvcik7XHJcblx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJJbnZhbGlkIHRva2VuXCIgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuXHR9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImp3dCIsInJlYWRKc29uRmlsZSIsInJlYWRKc29uRGlyZWN0b3J5IiwicGF0aHMiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsImR5bmFtaWMiLCJHRVQiLCJyZXF1ZXN0IiwidG9rZW4iLCJjb29raWVzIiwiZ2V0IiwidmFsdWUiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJkZWNvZGVkIiwidmVyaWZ5IiwidXNlcnMiLCJ1c2Vyc0luZGV4IiwidXNlciIsImZpbmQiLCJ1IiwiaWQiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwiZm91bmQiLCJyb2xlIiwiYWRtaW5Vc2VyIiwiZW1haWwiLCJuYW1lIiwiYWNjb3VudFN0YXR1cyIsInN1YnNjcmlwdGlvblN0YXR1cyIsInJlZ2lzdHJhdGlvbnMiLCJyZWdpc3RyYXRpb25TdGFnZU1hbmFnZXJEaXIiLCJyIiwiZXZlbnRJZCIsInN1YnNjcmlwdGlvbkVuZERhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/me/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/build-context.ts":
/*!******************************!*\
  !*** ./lib/build-context.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuildContext: () => (/* binding */ BuildContext)\n/* harmony export */ });\n/**\r\n * Build context detection utility\r\n * Helps determine if code is running during build time vs runtime\r\n */ class BuildContext {\n    static{\n        this._isBuilding = null;\n    }\n    /**\r\n\t * Detect if we're currently in a build context\r\n\t */ static isBuilding() {\n        if (this._isBuilding !== null) {\n            return this._isBuilding;\n        }\n        // Check for explicit build environment variable\n        if (false) {}\n        // Check process arguments for build command\n        const processArgs = process.argv.join(\" \");\n        const isBuildCommand = processArgs.includes(\"next build\") || processArgs.includes(\"npm run build\") || processArgs.includes(\"yarn build\");\n        // Check various build-time indicators\n        const buildIndicators = [\n            // Next.js build phases\n            process.env.NEXT_PHASE === \"phase-production-build\",\n            process.env.NEXT_PHASE === \"phase-production-server\",\n            // Build-specific environment variables\n            process.env.BUILDING === \"true\",\n            // Check if we're in static generation\n            process.env.__NEXT_PRIVATE_PREBUNDLED_REACT === \"next\",\n            // Process arguments check\n            isBuildCommand\n        ];\n        // Check if we're in a build context by examining the call stack\n        const stack = new Error().stack || \"\";\n        const buildStackIndicators = [\n            \"next/dist/build\",\n            \"next/dist/server/lib/router-server\",\n            \"getStaticProps\",\n            \"getServerSideProps\",\n            \"generateStaticParams\",\n            \"static-generation\"\n        ];\n        const hasStackIndicator = buildStackIndicators.some((indicator)=>stack.includes(indicator));\n        this._isBuilding = buildIndicators.some(Boolean) || hasStackIndicator;\n        return this._isBuilding;\n    }\n    /**\r\n\t * Check if we're in runtime (not building)\r\n\t */ static isRuntime() {\n        return !this.isBuilding();\n    }\n    /**\r\n\t * Force set build context (for testing)\r\n\t */ static setBuildContext(isBuilding) {\n        this._isBuilding = isBuilding;\n    }\n    /**\r\n\t * Reset build context detection\r\n\t */ static reset() {\n        this._isBuilding = null;\n    }\n    /**\r\n\t * Get environment info for debugging\r\n\t */ static getEnvironmentInfo() {\n        return {\n            NODE_ENV: \"development\",\n            NEXT_PHASE: process.env.NEXT_PHASE,\n            BUILDING: process.env.BUILDING,\n            NEXT_BUILD_SKIP_WEBSOCKET: \"false\",\n            VERCEL: process.env.VERCEL,\n            hasWindow: \"undefined\" !== \"undefined\",\n            hasRequestContext: typeof globalThis !== \"undefined\" && globalThis.__NEXT_REQUEST_CONTEXT__,\n            processArgs: process.argv.join(\" \"),\n            isBuilding: this.isBuilding(),\n            isRuntime: this.isRuntime()\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYnVpbGQtY29udGV4dC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7OztDQUdDLEdBRU0sTUFBTUE7O2FBQ0dDLGNBQThCOztJQUU3Qzs7RUFFQyxHQUNELE9BQU9DLGFBQXNCO1FBQzVCLElBQUksSUFBSSxDQUFDRCxXQUFXLEtBQUssTUFBTTtZQUM5QixPQUFPLElBQUksQ0FBQ0EsV0FBVztRQUN4QjtRQUVBLGdEQUFnRDtRQUNoRCxJQUFJRSxLQUFnRCxFQUFFLEVBR3JEO1FBRUQsNENBQTRDO1FBQzVDLE1BQU1HLGNBQWNILFFBQVFJLElBQUksQ0FBQ0MsSUFBSSxDQUFDO1FBQ3RDLE1BQU1DLGlCQUNMSCxZQUFZSSxRQUFRLENBQUMsaUJBQ3JCSixZQUFZSSxRQUFRLENBQUMsb0JBQ3JCSixZQUFZSSxRQUFRLENBQUM7UUFFdEIsc0NBQXNDO1FBQ3RDLE1BQU1DLGtCQUFrQjtZQUN2Qix1QkFBdUI7WUFDdkJSLFFBQVFDLEdBQUcsQ0FBQ1EsVUFBVSxLQUFLO1lBQzNCVCxRQUFRQyxHQUFHLENBQUNRLFVBQVUsS0FBSztZQUMzQix1Q0FBdUM7WUFDdkNULFFBQVFDLEdBQUcsQ0FBQ1MsUUFBUSxLQUFLO1lBQ3pCLHNDQUFzQztZQUN0Q1YsUUFBUUMsR0FBRyxDQUFDVSwrQkFBK0IsS0FBSztZQUNoRCwwQkFBMEI7WUFDMUJMO1NBQ0E7UUFFRCxnRUFBZ0U7UUFDaEUsTUFBTU0sUUFBUSxJQUFJQyxRQUFRRCxLQUFLLElBQUk7UUFDbkMsTUFBTUUsdUJBQXVCO1lBQzVCO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtTQUNBO1FBRUQsTUFBTUMsb0JBQW9CRCxxQkFBcUJFLElBQUksQ0FBQyxDQUFDQyxZQUNwREwsTUFBTUwsUUFBUSxDQUFDVTtRQUdoQixJQUFJLENBQUNuQixXQUFXLEdBQUdVLGdCQUFnQlEsSUFBSSxDQUFDRSxZQUFZSDtRQUVwRCxPQUFPLElBQUksQ0FBQ2pCLFdBQVc7SUFDeEI7SUFFQTs7RUFFQyxHQUNELE9BQU9xQixZQUFxQjtRQUMzQixPQUFPLENBQUMsSUFBSSxDQUFDcEIsVUFBVTtJQUN4QjtJQUVBOztFQUVDLEdBQ0QsT0FBT3FCLGdCQUFnQnJCLFVBQW1CLEVBQVE7UUFDakQsSUFBSSxDQUFDRCxXQUFXLEdBQUdDO0lBQ3BCO0lBRUE7O0VBRUMsR0FDRCxPQUFPc0IsUUFBYztRQUNwQixJQUFJLENBQUN2QixXQUFXLEdBQUc7SUFDcEI7SUFFQTs7RUFFQyxHQUNELE9BQU93QixxQkFBMEM7UUFDaEQsT0FBTztZQUNOQyxVQXhGSDtZQXlGR2QsWUFBWVQsUUFBUUMsR0FBRyxDQUFDUSxVQUFVO1lBQ2xDQyxVQUFVVixRQUFRQyxHQUFHLENBQUNTLFFBQVE7WUFDOUJSLDJCQUEyQkYsT0FBcUM7WUFDaEV3QixRQUFReEIsUUFBUUMsR0FBRyxDQUFDdUIsTUFBTTtZQUMxQkMsV0FBVyxnQkFBa0I7WUFDN0JDLG1CQUNDLE9BQU9DLGVBQWUsZUFDdEIsV0FBb0JDLHdCQUF3QjtZQUM3Q3pCLGFBQWFILFFBQVFJLElBQUksQ0FBQ0MsSUFBSSxDQUFDO1lBQy9CTixZQUFZLElBQUksQ0FBQ0EsVUFBVTtZQUMzQm9CLFdBQVcsSUFBSSxDQUFDQSxTQUFTO1FBQzFCO0lBQ0Q7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9saWIvYnVpbGQtY29udGV4dC50cz9mYTlmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCdWlsZCBjb250ZXh0IGRldGVjdGlvbiB1dGlsaXR5XHJcbiAqIEhlbHBzIGRldGVybWluZSBpZiBjb2RlIGlzIHJ1bm5pbmcgZHVyaW5nIGJ1aWxkIHRpbWUgdnMgcnVudGltZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBCdWlsZENvbnRleHQge1xyXG5cdHByaXZhdGUgc3RhdGljIF9pc0J1aWxkaW5nOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdC8qKlxyXG5cdCAqIERldGVjdCBpZiB3ZSdyZSBjdXJyZW50bHkgaW4gYSBidWlsZCBjb250ZXh0XHJcblx0ICovXHJcblx0c3RhdGljIGlzQnVpbGRpbmcoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAodGhpcy5faXNCdWlsZGluZyAhPT0gbnVsbCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5faXNCdWlsZGluZztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDaGVjayBmb3IgZXhwbGljaXQgYnVpbGQgZW52aXJvbm1lbnQgdmFyaWFibGVcclxuXHRcdGlmIChwcm9jZXNzLmVudi5ORVhUX0JVSUxEX1NLSVBfV0VCU09DS0VUID09PSBcInRydWVcIikge1xyXG5cdFx0XHR0aGlzLl9pc0J1aWxkaW5nID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2hlY2sgcHJvY2VzcyBhcmd1bWVudHMgZm9yIGJ1aWxkIGNvbW1hbmRcclxuXHRcdGNvbnN0IHByb2Nlc3NBcmdzID0gcHJvY2Vzcy5hcmd2LmpvaW4oXCIgXCIpO1xyXG5cdFx0Y29uc3QgaXNCdWlsZENvbW1hbmQgPVxyXG5cdFx0XHRwcm9jZXNzQXJncy5pbmNsdWRlcyhcIm5leHQgYnVpbGRcIikgfHxcclxuXHRcdFx0cHJvY2Vzc0FyZ3MuaW5jbHVkZXMoXCJucG0gcnVuIGJ1aWxkXCIpIHx8XHJcblx0XHRcdHByb2Nlc3NBcmdzLmluY2x1ZGVzKFwieWFybiBidWlsZFwiKTtcclxuXHJcblx0XHQvLyBDaGVjayB2YXJpb3VzIGJ1aWxkLXRpbWUgaW5kaWNhdG9yc1xyXG5cdFx0Y29uc3QgYnVpbGRJbmRpY2F0b3JzID0gW1xyXG5cdFx0XHQvLyBOZXh0LmpzIGJ1aWxkIHBoYXNlc1xyXG5cdFx0XHRwcm9jZXNzLmVudi5ORVhUX1BIQVNFID09PSBcInBoYXNlLXByb2R1Y3Rpb24tYnVpbGRcIixcclxuXHRcdFx0cHJvY2Vzcy5lbnYuTkVYVF9QSEFTRSA9PT0gXCJwaGFzZS1wcm9kdWN0aW9uLXNlcnZlclwiLFxyXG5cdFx0XHQvLyBCdWlsZC1zcGVjaWZpYyBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuXHRcdFx0cHJvY2Vzcy5lbnYuQlVJTERJTkcgPT09IFwidHJ1ZVwiLFxyXG5cdFx0XHQvLyBDaGVjayBpZiB3ZSdyZSBpbiBzdGF0aWMgZ2VuZXJhdGlvblxyXG5cdFx0XHRwcm9jZXNzLmVudi5fX05FWFRfUFJJVkFURV9QUkVCVU5ETEVEX1JFQUNUID09PSBcIm5leHRcIixcclxuXHRcdFx0Ly8gUHJvY2VzcyBhcmd1bWVudHMgY2hlY2tcclxuXHRcdFx0aXNCdWlsZENvbW1hbmQsXHJcblx0XHRdO1xyXG5cclxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIGluIGEgYnVpbGQgY29udGV4dCBieSBleGFtaW5pbmcgdGhlIGNhbGwgc3RhY2tcclxuXHRcdGNvbnN0IHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2sgfHwgXCJcIjtcclxuXHRcdGNvbnN0IGJ1aWxkU3RhY2tJbmRpY2F0b3JzID0gW1xyXG5cdFx0XHRcIm5leHQvZGlzdC9idWlsZFwiLFxyXG5cdFx0XHRcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3JvdXRlci1zZXJ2ZXJcIixcclxuXHRcdFx0XCJnZXRTdGF0aWNQcm9wc1wiLFxyXG5cdFx0XHRcImdldFNlcnZlclNpZGVQcm9wc1wiLFxyXG5cdFx0XHRcImdlbmVyYXRlU3RhdGljUGFyYW1zXCIsXHJcblx0XHRcdFwic3RhdGljLWdlbmVyYXRpb25cIixcclxuXHRcdF07XHJcblxyXG5cdFx0Y29uc3QgaGFzU3RhY2tJbmRpY2F0b3IgPSBidWlsZFN0YWNrSW5kaWNhdG9ycy5zb21lKChpbmRpY2F0b3IpID0+XHJcblx0XHRcdHN0YWNrLmluY2x1ZGVzKGluZGljYXRvcilcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5faXNCdWlsZGluZyA9IGJ1aWxkSW5kaWNhdG9ycy5zb21lKEJvb2xlYW4pIHx8IGhhc1N0YWNrSW5kaWNhdG9yO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLl9pc0J1aWxkaW5nO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgd2UncmUgaW4gcnVudGltZSAobm90IGJ1aWxkaW5nKVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBpc1J1bnRpbWUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gIXRoaXMuaXNCdWlsZGluZygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRm9yY2Ugc2V0IGJ1aWxkIGNvbnRleHQgKGZvciB0ZXN0aW5nKVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBzZXRCdWlsZENvbnRleHQoaXNCdWlsZGluZzogYm9vbGVhbik6IHZvaWQge1xyXG5cdFx0dGhpcy5faXNCdWlsZGluZyA9IGlzQnVpbGRpbmc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXNldCBidWlsZCBjb250ZXh0IGRldGVjdGlvblxyXG5cdCAqL1xyXG5cdHN0YXRpYyByZXNldCgpOiB2b2lkIHtcclxuXHRcdHRoaXMuX2lzQnVpbGRpbmcgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGVudmlyb25tZW50IGluZm8gZm9yIGRlYnVnZ2luZ1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXRFbnZpcm9ubWVudEluZm8oKTogUmVjb3JkPHN0cmluZywgYW55PiB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHROT0RFX0VOVjogcHJvY2Vzcy5lbnYuTk9ERV9FTlYsXHJcblx0XHRcdE5FWFRfUEhBU0U6IHByb2Nlc3MuZW52Lk5FWFRfUEhBU0UsXHJcblx0XHRcdEJVSUxESU5HOiBwcm9jZXNzLmVudi5CVUlMRElORyxcclxuXHRcdFx0TkVYVF9CVUlMRF9TS0lQX1dFQlNPQ0tFVDogcHJvY2Vzcy5lbnYuTkVYVF9CVUlMRF9TS0lQX1dFQlNPQ0tFVCxcclxuXHRcdFx0VkVSQ0VMOiBwcm9jZXNzLmVudi5WRVJDRUwsXHJcblx0XHRcdGhhc1dpbmRvdzogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIixcclxuXHRcdFx0aGFzUmVxdWVzdENvbnRleHQ6XHJcblx0XHRcdFx0dHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuXHRcdFx0XHQoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fTkVYVF9SRVFVRVNUX0NPTlRFWFRfXyxcclxuXHRcdFx0cHJvY2Vzc0FyZ3M6IHByb2Nlc3MuYXJndi5qb2luKFwiIFwiKSxcclxuXHRcdFx0aXNCdWlsZGluZzogdGhpcy5pc0J1aWxkaW5nKCksXHJcblx0XHRcdGlzUnVudGltZTogdGhpcy5pc1J1bnRpbWUoKSxcclxuXHRcdH07XHJcblx0fVxyXG59XHJcbiJdLCJuYW1lcyI6WyJCdWlsZENvbnRleHQiLCJfaXNCdWlsZGluZyIsImlzQnVpbGRpbmciLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9CVUlMRF9TS0lQX1dFQlNPQ0tFVCIsInByb2Nlc3NBcmdzIiwiYXJndiIsImpvaW4iLCJpc0J1aWxkQ29tbWFuZCIsImluY2x1ZGVzIiwiYnVpbGRJbmRpY2F0b3JzIiwiTkVYVF9QSEFTRSIsIkJVSUxESU5HIiwiX19ORVhUX1BSSVZBVEVfUFJFQlVORExFRF9SRUFDVCIsInN0YWNrIiwiRXJyb3IiLCJidWlsZFN0YWNrSW5kaWNhdG9ycyIsImhhc1N0YWNrSW5kaWNhdG9yIiwic29tZSIsImluZGljYXRvciIsIkJvb2xlYW4iLCJpc1J1bnRpbWUiLCJzZXRCdWlsZENvbnRleHQiLCJyZXNldCIsImdldEVudmlyb25tZW50SW5mbyIsIk5PREVfRU5WIiwiVkVSQ0VMIiwiaGFzV2luZG93IiwiaGFzUmVxdWVzdENvbnRleHQiLCJnbG9iYWxUaGlzIiwiX19ORVhUX1JFUVVFU1RfQ09OVEVYVF9fIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/build-context.ts\n");

/***/ }),

/***/ "(rsc)/./lib/build-logger.ts":
/*!*****************************!*\
  !*** ./lib/build-logger.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuildLogger: () => (/* binding */ BuildLogger),\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel),\n/* harmony export */   buildLogger: () => (/* binding */ buildLogger)\n/* harmony export */ });\n/* harmony import */ var _build_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./build-context */ \"(rsc)/./lib/build-context.ts\");\n/**\r\n * Enhanced logging utility for build processes\r\n * Provides structured logging with context awareness\r\n */ \nvar LogLevel;\n(function(LogLevel) {\n    LogLevel[LogLevel[\"DEBUG\"] = 0] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 1] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 2] = \"WARN\";\n    LogLevel[LogLevel[\"ERROR\"] = 3] = \"ERROR\";\n})(LogLevel || (LogLevel = {}));\nclass BuildLogger {\n    static{\n        this.instance = null;\n    }\n    constructor(){\n        this.logs = [];\n        this.minLevel = 1;\n        // Set log level based on environment\n        if (true) {\n            this.minLevel = 0;\n        } else {}\n    }\n    static getInstance() {\n        if (!this.instance) {\n            this.instance = new BuildLogger();\n        }\n        return this.instance;\n    }\n    shouldLog(level) {\n        return level >= this.minLevel;\n    }\n    createLogEntry(level, context, message, data) {\n        return {\n            timestamp: new Date().toISOString(),\n            level,\n            context,\n            message,\n            data,\n            buildContext: _build_context__WEBPACK_IMPORTED_MODULE_0__.BuildContext.getEnvironmentInfo()\n        };\n    }\n    formatMessage(entry) {\n        const levelNames = [\n            \"DEBUG\",\n            \"INFO\",\n            \"WARN\",\n            \"ERROR\"\n        ];\n        const levelName = levelNames[entry.level];\n        const buildStatus = entry.buildContext?.isBuilding ? \"[BUILD]\" : \"[RUNTIME]\";\n        let message = `${entry.timestamp} ${buildStatus} ${levelName} [${entry.context}] ${entry.message}`;\n        if (entry.data) {\n            message += ` ${JSON.stringify(entry.data)}`;\n        }\n        return message;\n    }\n    log(level, context, message, data) {\n        if (!this.shouldLog(level)) {\n            return;\n        }\n        const entry = this.createLogEntry(level, context, message, data);\n        this.logs.push(entry);\n        const formattedMessage = this.formatMessage(entry);\n        // Output to console based on level\n        switch(level){\n            case 0:\n                console.debug(formattedMessage);\n                break;\n            case 1:\n                console.log(formattedMessage);\n                break;\n            case 2:\n                console.warn(formattedMessage);\n                break;\n            case 3:\n                console.error(formattedMessage);\n                break;\n        }\n    }\n    debug(context, message, data) {\n        this.log(0, context, message, data);\n    }\n    info(context, message, data) {\n        this.log(1, context, message, data);\n    }\n    warn(context, message, data) {\n        this.log(2, context, message, data);\n    }\n    error(context, message, data) {\n        this.log(3, context, message, data);\n    }\n    // Specialized logging methods for build processes\n    buildStep(step, message, data) {\n        this.info(\"BUILD-STEP\", `${step}: ${message}`, data);\n    }\n    serviceStatus(service, status, message, data) {\n        const level = status === \"error\" ? 3 : 1;\n        this.log(level, \"SERVICE\", `${service} is ${status}${message ? `: ${message}` : \"\"}`, data);\n    }\n    routeStatus(route, type, message) {\n        this.info(\"ROUTE\", `${route} configured as ${type}${message ? `: ${message}` : \"\"}`);\n    }\n    performanceMetric(metric, value, unit) {\n        this.info(\"PERFORMANCE\", `${metric}: ${value}${unit}`);\n    }\n    // Get logs for analysis\n    getLogs(level) {\n        if (level !== undefined) {\n            return this.logs.filter((log)=>log.level >= level);\n        }\n        return [\n            ...this.logs\n        ];\n    }\n    // Get build summary\n    getBuildSummary() {\n        const errorCount = this.logs.filter((log)=>log.level === 3).length;\n        const warningCount = this.logs.filter((log)=>log.level === 2).length;\n        return {\n            totalLogs: this.logs.length,\n            errorCount,\n            warningCount,\n            buildContext: _build_context__WEBPACK_IMPORTED_MODULE_0__.BuildContext.getEnvironmentInfo()\n        };\n    }\n    // Clear logs (useful for testing)\n    clear() {\n        this.logs = [];\n    }\n}\n// Export singleton instance\nconst buildLogger = BuildLogger.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDakQsSUFBSSxDQUFDK0MsTUFBTSxDQUNsQyxDQUFDdEIsTUFBUUEsSUFBSWxCLEtBQUssUUFDakIyQyxNQUFNO1FBQ1IsTUFBTUMsZUFBZSxJQUFJLENBQUNuRCxJQUFJLENBQUMrQyxNQUFNLENBQ3BDLENBQUN0QixNQUFRQSxJQUFJbEIsS0FBSyxRQUNqQjJDLE1BQU07UUFFUixPQUFPO1lBQ05FLFdBQVcsSUFBSSxDQUFDcEQsSUFBSSxDQUFDa0QsTUFBTTtZQUMzQkQ7WUFDQUU7WUFDQXBDLGNBQWNuQix3REFBWUEsQ0FBQ29CLGtCQUFrQjtRQUM5QztJQUNEO0lBRUEsa0NBQWtDO0lBQ2xDcUMsUUFBYztRQUNiLElBQUksQ0FBQ3JELElBQUksR0FBRyxFQUFFO0lBQ2Y7QUFDRDtBQUVBLDRCQUE0QjtBQUNyQixNQUFNc0QsY0FBY3hELFlBQVlPLFdBQVcsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9saWIvYnVpbGQtbG9nZ2VyLnRzP2I0MjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEVuaGFuY2VkIGxvZ2dpbmcgdXRpbGl0eSBmb3IgYnVpbGQgcHJvY2Vzc2VzXHJcbiAqIFByb3ZpZGVzIHN0cnVjdHVyZWQgbG9nZ2luZyB3aXRoIGNvbnRleHQgYXdhcmVuZXNzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQnVpbGRDb250ZXh0IH0gZnJvbSBcIi4vYnVpbGQtY29udGV4dFwiO1xyXG5cclxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xyXG5cdERFQlVHID0gMCxcclxuXHRJTkZPID0gMSxcclxuXHRXQVJOID0gMixcclxuXHRFUlJPUiA9IDMsXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTG9nRW50cnkge1xyXG5cdHRpbWVzdGFtcDogc3RyaW5nO1xyXG5cdGxldmVsOiBMb2dMZXZlbDtcclxuXHRjb250ZXh0OiBzdHJpbmc7XHJcblx0bWVzc2FnZTogc3RyaW5nO1xyXG5cdGRhdGE/OiBhbnk7XHJcblx0YnVpbGRDb250ZXh0PzogYW55O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQnVpbGRMb2dnZXIge1xyXG5cdHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBCdWlsZExvZ2dlciB8IG51bGwgPSBudWxsO1xyXG5cdHByaXZhdGUgbG9nczogTG9nRW50cnlbXSA9IFtdO1xyXG5cdHByaXZhdGUgbWluTGV2ZWw6IExvZ0xldmVsID0gTG9nTGV2ZWwuSU5GTztcclxuXHJcblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8vIFNldCBsb2cgbGV2ZWwgYmFzZWQgb24gZW52aXJvbm1lbnRcclxuXHRcdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XHJcblx0XHRcdHRoaXMubWluTGV2ZWwgPSBMb2dMZXZlbC5ERUJVRztcclxuXHRcdH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTkVYVF9CVUlMRF9WRVJCT1NFID09PSBcInRydWVcIikge1xyXG5cdFx0XHR0aGlzLm1pbkxldmVsID0gTG9nTGV2ZWwuREVCVUc7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQnVpbGRMb2dnZXIge1xyXG5cdFx0aWYgKCF0aGlzLmluc3RhbmNlKSB7XHJcblx0XHRcdHRoaXMuaW5zdGFuY2UgPSBuZXcgQnVpbGRMb2dnZXIoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzaG91bGRMb2cobGV2ZWw6IExvZ0xldmVsKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gbGV2ZWwgPj0gdGhpcy5taW5MZXZlbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlTG9nRW50cnkoXHJcblx0XHRsZXZlbDogTG9nTGV2ZWwsXHJcblx0XHRjb250ZXh0OiBzdHJpbmcsXHJcblx0XHRtZXNzYWdlOiBzdHJpbmcsXHJcblx0XHRkYXRhPzogYW55XHJcblx0KTogTG9nRW50cnkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcblx0XHRcdGxldmVsLFxyXG5cdFx0XHRjb250ZXh0LFxyXG5cdFx0XHRtZXNzYWdlLFxyXG5cdFx0XHRkYXRhLFxyXG5cdFx0XHRidWlsZENvbnRleHQ6IEJ1aWxkQ29udGV4dC5nZXRFbnZpcm9ubWVudEluZm8oKSxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGZvcm1hdE1lc3NhZ2UoZW50cnk6IExvZ0VudHJ5KTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IGxldmVsTmFtZXMgPSBbXCJERUJVR1wiLCBcIklORk9cIiwgXCJXQVJOXCIsIFwiRVJST1JcIl07XHJcblx0XHRjb25zdCBsZXZlbE5hbWUgPSBsZXZlbE5hbWVzW2VudHJ5LmxldmVsXTtcclxuXHRcdGNvbnN0IGJ1aWxkU3RhdHVzID0gZW50cnkuYnVpbGRDb250ZXh0Py5pc0J1aWxkaW5nXHJcblx0XHRcdD8gXCJbQlVJTERdXCJcclxuXHRcdFx0OiBcIltSVU5USU1FXVwiO1xyXG5cclxuXHRcdGxldCBtZXNzYWdlID0gYCR7ZW50cnkudGltZXN0YW1wfSAke2J1aWxkU3RhdHVzfSAke2xldmVsTmFtZX0gWyR7ZW50cnkuY29udGV4dH1dICR7ZW50cnkubWVzc2FnZX1gO1xyXG5cclxuXHRcdGlmIChlbnRyeS5kYXRhKSB7XHJcblx0XHRcdG1lc3NhZ2UgKz0gYCAke0pTT04uc3RyaW5naWZ5KGVudHJ5LmRhdGEpfWA7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG1lc3NhZ2U7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvZyhcclxuXHRcdGxldmVsOiBMb2dMZXZlbCxcclxuXHRcdGNvbnRleHQ6IHN0cmluZyxcclxuXHRcdG1lc3NhZ2U6IHN0cmluZyxcclxuXHRcdGRhdGE/OiBhbnlcclxuXHQpOiB2b2lkIHtcclxuXHRcdGlmICghdGhpcy5zaG91bGRMb2cobGV2ZWwpKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbnRyeSA9IHRoaXMuY3JlYXRlTG9nRW50cnkobGV2ZWwsIGNvbnRleHQsIG1lc3NhZ2UsIGRhdGEpO1xyXG5cdFx0dGhpcy5sb2dzLnB1c2goZW50cnkpO1xyXG5cclxuXHRcdGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoZW50cnkpO1xyXG5cclxuXHRcdC8vIE91dHB1dCB0byBjb25zb2xlIGJhc2VkIG9uIGxldmVsXHJcblx0XHRzd2l0Y2ggKGxldmVsKSB7XHJcblx0XHRcdGNhc2UgTG9nTGV2ZWwuREVCVUc6XHJcblx0XHRcdFx0Y29uc29sZS5kZWJ1Zyhmb3JtYXR0ZWRNZXNzYWdlKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBMb2dMZXZlbC5JTkZPOlxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGZvcm1hdHRlZE1lc3NhZ2UpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIExvZ0xldmVsLldBUk46XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKGZvcm1hdHRlZE1lc3NhZ2UpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIExvZ0xldmVsLkVSUk9SOlxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZm9ybWF0dGVkTWVzc2FnZSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRkZWJ1Zyhjb250ZXh0OiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xyXG5cdFx0dGhpcy5sb2coTG9nTGV2ZWwuREVCVUcsIGNvbnRleHQsIG1lc3NhZ2UsIGRhdGEpO1xyXG5cdH1cclxuXHJcblx0aW5mbyhjb250ZXh0OiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xyXG5cdFx0dGhpcy5sb2coTG9nTGV2ZWwuSU5GTywgY29udGV4dCwgbWVzc2FnZSwgZGF0YSk7XHJcblx0fVxyXG5cclxuXHR3YXJuKGNvbnRleHQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XHJcblx0XHR0aGlzLmxvZyhMb2dMZXZlbC5XQVJOLCBjb250ZXh0LCBtZXNzYWdlLCBkYXRhKTtcclxuXHR9XHJcblxyXG5cdGVycm9yKGNvbnRleHQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XHJcblx0XHR0aGlzLmxvZyhMb2dMZXZlbC5FUlJPUiwgY29udGV4dCwgbWVzc2FnZSwgZGF0YSk7XHJcblx0fVxyXG5cclxuXHQvLyBTcGVjaWFsaXplZCBsb2dnaW5nIG1ldGhvZHMgZm9yIGJ1aWxkIHByb2Nlc3Nlc1xyXG5cdGJ1aWxkU3RlcChzdGVwOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xyXG5cdFx0dGhpcy5pbmZvKFwiQlVJTEQtU1RFUFwiLCBgJHtzdGVwfTogJHttZXNzYWdlfWAsIGRhdGEpO1xyXG5cdH1cclxuXHJcblx0c2VydmljZVN0YXR1cyhcclxuXHRcdHNlcnZpY2U6IHN0cmluZyxcclxuXHRcdHN0YXR1czogXCJlbmFibGVkXCIgfCBcImRpc2FibGVkXCIgfCBcImVycm9yXCIsXHJcblx0XHRtZXNzYWdlPzogc3RyaW5nLFxyXG5cdFx0ZGF0YT86IGFueVxyXG5cdCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgbGV2ZWwgPSBzdGF0dXMgPT09IFwiZXJyb3JcIiA/IExvZ0xldmVsLkVSUk9SIDogTG9nTGV2ZWwuSU5GTztcclxuXHRcdHRoaXMubG9nKFxyXG5cdFx0XHRsZXZlbCxcclxuXHRcdFx0XCJTRVJWSUNFXCIsXHJcblx0XHRcdGAke3NlcnZpY2V9IGlzICR7c3RhdHVzfSR7bWVzc2FnZSA/IGA6ICR7bWVzc2FnZX1gIDogXCJcIn1gLFxyXG5cdFx0XHRkYXRhXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0cm91dGVTdGF0dXMoXHJcblx0XHRyb3V0ZTogc3RyaW5nLFxyXG5cdFx0dHlwZTogXCJzdGF0aWNcIiB8IFwiZHluYW1pY1wiLFxyXG5cdFx0bWVzc2FnZT86IHN0cmluZ1xyXG5cdCk6IHZvaWQge1xyXG5cdFx0dGhpcy5pbmZvKFxyXG5cdFx0XHRcIlJPVVRFXCIsXHJcblx0XHRcdGAke3JvdXRlfSBjb25maWd1cmVkIGFzICR7dHlwZX0ke21lc3NhZ2UgPyBgOiAke21lc3NhZ2V9YCA6IFwiXCJ9YFxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdHBlcmZvcm1hbmNlTWV0cmljKG1ldHJpYzogc3RyaW5nLCB2YWx1ZTogbnVtYmVyLCB1bml0OiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdHRoaXMuaW5mbyhcIlBFUkZPUk1BTkNFXCIsIGAke21ldHJpY306ICR7dmFsdWV9JHt1bml0fWApO1xyXG5cdH1cclxuXHJcblx0Ly8gR2V0IGxvZ3MgZm9yIGFuYWx5c2lzXHJcblx0Z2V0TG9ncyhsZXZlbD86IExvZ0xldmVsKTogTG9nRW50cnlbXSB7XHJcblx0XHRpZiAobGV2ZWwgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5sb2dzLmZpbHRlcigobG9nKSA9PiBsb2cubGV2ZWwgPj0gbGV2ZWwpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFsuLi50aGlzLmxvZ3NdO1xyXG5cdH1cclxuXHJcblx0Ly8gR2V0IGJ1aWxkIHN1bW1hcnlcclxuXHRnZXRCdWlsZFN1bW1hcnkoKToge1xyXG5cdFx0dG90YWxMb2dzOiBudW1iZXI7XHJcblx0XHRlcnJvckNvdW50OiBudW1iZXI7XHJcblx0XHR3YXJuaW5nQ291bnQ6IG51bWJlcjtcclxuXHRcdGJ1aWxkQ29udGV4dDogYW55O1xyXG5cdFx0ZHVyYXRpb24/OiBudW1iZXI7XHJcblx0fSB7XHJcblx0XHRjb25zdCBlcnJvckNvdW50ID0gdGhpcy5sb2dzLmZpbHRlcihcclxuXHRcdFx0KGxvZykgPT4gbG9nLmxldmVsID09PSBMb2dMZXZlbC5FUlJPUlxyXG5cdFx0KS5sZW5ndGg7XHJcblx0XHRjb25zdCB3YXJuaW5nQ291bnQgPSB0aGlzLmxvZ3MuZmlsdGVyKFxyXG5cdFx0XHQobG9nKSA9PiBsb2cubGV2ZWwgPT09IExvZ0xldmVsLldBUk5cclxuXHRcdCkubGVuZ3RoO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRvdGFsTG9nczogdGhpcy5sb2dzLmxlbmd0aCxcclxuXHRcdFx0ZXJyb3JDb3VudCxcclxuXHRcdFx0d2FybmluZ0NvdW50LFxyXG5cdFx0XHRidWlsZENvbnRleHQ6IEJ1aWxkQ29udGV4dC5nZXRFbnZpcm9ubWVudEluZm8oKSxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvLyBDbGVhciBsb2dzICh1c2VmdWwgZm9yIHRlc3RpbmcpXHJcblx0Y2xlYXIoKTogdm9pZCB7XHJcblx0XHR0aGlzLmxvZ3MgPSBbXTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcclxuZXhwb3J0IGNvbnN0IGJ1aWxkTG9nZ2VyID0gQnVpbGRMb2dnZXIuZ2V0SW5zdGFuY2UoKTtcclxuIl0sIm5hbWVzIjpbIkJ1aWxkQ29udGV4dCIsIkxvZ0xldmVsIiwiQnVpbGRMb2dnZXIiLCJpbnN0YW5jZSIsImxvZ3MiLCJtaW5MZXZlbCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX0JVSUxEX1ZFUkJPU0UiLCJnZXRJbnN0YW5jZSIsInNob3VsZExvZyIsImxldmVsIiwiY3JlYXRlTG9nRW50cnkiLCJjb250ZXh0IiwibWVzc2FnZSIsImRhdGEiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJidWlsZENvbnRleHQiLCJnZXRFbnZpcm9ubWVudEluZm8iLCJmb3JtYXRNZXNzYWdlIiwiZW50cnkiLCJsZXZlbE5hbWVzIiwibGV2ZWxOYW1lIiwiYnVpbGRTdGF0dXMiLCJpc0J1aWxkaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvZyIsInB1c2giLCJmb3JtYXR0ZWRNZXNzYWdlIiwiY29uc29sZSIsImRlYnVnIiwid2FybiIsImVycm9yIiwiaW5mbyIsImJ1aWxkU3RlcCIsInN0ZXAiLCJzZXJ2aWNlU3RhdHVzIiwic2VydmljZSIsInN0YXR1cyIsInJvdXRlU3RhdHVzIiwicm91dGUiLCJ0eXBlIiwicGVyZm9ybWFuY2VNZXRyaWMiLCJtZXRyaWMiLCJ2YWx1ZSIsInVuaXQiLCJnZXRMb2dzIiwidW5kZWZpbmVkIiwiZmlsdGVyIiwiZ2V0QnVpbGRTdW1tYXJ5IiwiZXJyb3JDb3VudCIsImxlbmd0aCIsIndhcm5pbmdDb3VudCIsInRvdGFsTG9ncyIsImNsZWFyIiwiYnVpbGRMb2dnZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/build-logger.ts\n");

/***/ }),

/***/ "(rsc)/./lib/gcs.ts":
/*!********************!*\
  !*** ./lib/gcs.ts ***!
  \********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GCSManager: () => (/* binding */ GCSManager),\n/* harmony export */   createArtistDataStructure: () => (/* binding */ createArtistDataStructure),\n/* harmony export */   deleteFromArrayFile: () => (/* binding */ deleteFromArrayFile),\n/* harmony export */   gcsManager: () => (/* binding */ gcsManager),\n/* harmony export */   paths: () => (/* binding */ paths),\n/* harmony export */   readJsonDirectory: () => (/* binding */ readJsonDirectory),\n/* harmony export */   readJsonFile: () => (/* binding */ readJsonFile),\n/* harmony export */   upsertArrayFile: () => (/* binding */ upsertArrayFile),\n/* harmony export */   writeJsonFile: () => (/* binding */ writeJsonFile)\n/* harmony export */ });\n/* harmony import */ var _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./google-cloud-storage */ \"(rsc)/./lib/google-cloud-storage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__]);\n_google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// Google Cloud Storage utility functions\n// Note: This is a simplified implementation for demonstration\n// In production, you would use the actual Google Cloud Storage SDK\n\n// File paths configuration\nconst paths = {\n    usersIndex: \"users/index.json\",\n    registrationStageManagerDir: \"registrations/stage-managers\",\n    registrationArtistDir: \"registrations/artists\",\n    eventsIndex: \"events/index.json\",\n    stageManagersIndex: \"stage-managers/index.json\",\n    superAdminsIndex: \"super-admins/index.json\",\n    globalArtistsIndex: \"artists/index.json\",\n    stageManagerCounter: \"counters/stage-manager.json\",\n    userByRole: (role, id)=>`users/${role}/${id}.json`,\n    registrationStageManagerFile: (name, id)=>`registrations/stage-managers/${name}-${id}.json`,\n    registrationArtistFile: (name, id)=>`registrations/artists/${name}-${id}.json`,\n    eventFile: (eventId)=>`events/${eventId}.json`,\n    artistFile: (artistId)=>`artists/${artistId}.json`,\n    artistsIndex: (eventId)=>`events/${eventId}/artists/index.json`,\n    stageManagerFile: (stageManagerId)=>`stage-managers/${stageManagerId}.json`,\n    // Emergency paths used by API routes\n    emergencyActive: (eventId)=>`events/${eventId}/emergency/active.json`,\n    emergencyLogDir: (eventId)=>`events/${eventId}/emergency/logs`,\n    emergencyLogFile: (eventId, id)=>`events/${eventId}/emergency/logs/${id}.json`\n};\nclass GCSManager {\n    constructor(bucketName = \"artist-event-storage\"){\n        this.bucketName = bucketName;\n    }\n    /**\r\n\t * Upload a file to Google Cloud Storage\r\n\t */ async uploadFile(file, folder, artistId) {\n        try {\n            // Generate unique filename\n            const timestamp = Date.now();\n            const randomId = Math.random().toString(36).substring(2, 9);\n            const extension = file.name.split(\".\").pop();\n            const filename = `${timestamp}_${randomId}.${extension}`;\n            // Convert File to Buffer\n            const arrayBuffer = await file.arrayBuffer();\n            const buffer = Buffer.from(arrayBuffer);\n            // Upload to Google Cloud Storage\n            const result = await _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].uploadFile(buffer, filename, `${folder}/${artistId}`, file.type);\n            return {\n                url: result.url,\n                filename: result.filename,\n                size: file.size,\n                contentType: file.type\n            };\n        } catch (error) {\n            console.error(\"Error uploading file to Google Cloud Storage:\", error);\n            throw new Error(\"Failed to upload file to Google Cloud Storage\");\n        }\n    }\n    /**\r\n\t * Upload multiple files\r\n\t */ async uploadFiles(files, folder, artistId) {\n        const uploadPromises = files.map((file)=>this.uploadFile(file, folder, artistId));\n        return Promise.all(uploadPromises);\n    }\n    /**\r\n\t * Delete a file from Google Cloud Storage\r\n\t */ async deleteFile(filename) {\n        try {\n            await _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteFile(filename);\n        } catch (error) {\n            console.error(\"Error deleting file from Google Cloud Storage:\", error);\n            throw new Error(\"Failed to delete file from Google Cloud Storage\");\n        }\n    }\n    /**\r\n\t * Get a signed URL for file access\r\n\t */ async getSignedUrl(filename, expiresIn = 3600) {\n        try {\n            return await _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getSignedUrl(filename, expiresIn);\n        } catch (error) {\n            console.error(\"Error generating signed URL from Google Cloud Storage:\", error);\n            throw new Error(\"Failed to generate signed URL from Google Cloud Storage\");\n        }\n    }\n}\n// Export a default instance\nconst gcsManager = new GCSManager();\nasync function readJsonFile(path, defaultValue = null) {\n    try {\n        const data = await _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].readJSON(path);\n        return data !== null ? data : defaultValue;\n    } catch (error) {\n        console.error(\"Error reading JSON file from Google Cloud Storage:\", error);\n        return defaultValue;\n    }\n}\n/**\r\n * Write JSON file to Google Cloud Storage\r\n */ async function writeJsonFile(path, data) {\n    try {\n        await _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].saveJSON(data, path);\n    } catch (error) {\n        console.error(\"Error writing JSON file to Google Cloud Storage:\", error);\n        throw new Error(\"Failed to write JSON file to Google Cloud Storage\");\n    }\n}\n/**\r\n * Read all JSON files from a directory in Google Cloud Storage\r\n */ async function readJsonDirectory(dirPath) {\n    try {\n        const files = await _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].listFiles(dirPath);\n        const jsonFiles = files.filter((file)=>file.endsWith(\".json\"));\n        const results = [];\n        for (const file of jsonFiles){\n            const data = await _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__[\"default\"].readJSON(file);\n            if (data !== null) {\n                results.push(data);\n            }\n        }\n        return results;\n    } catch (error) {\n        console.error(\"Error reading JSON directory from Google Cloud Storage:\", error);\n        return [];\n    }\n}\n/**\r\n * Upsert (insert or update) an item in an array file\r\n */ async function upsertArrayFile(path, item, matchField = \"id\") {\n    try {\n        const existingData = await readJsonFile(path, []);\n        const array = existingData || [];\n        const existingIndex = array.findIndex((existing)=>existing[matchField] === item[matchField]);\n        if (existingIndex >= 0) {\n            // Update existing item\n            array[existingIndex] = {\n                ...array[existingIndex],\n                ...item\n            };\n        } else {\n            // Add new item\n            array.push(item);\n        }\n        await writeJsonFile(path, array);\n    } catch (error) {\n        console.error(\"Error upserting array file:\", error);\n        throw new Error(\"Failed to upsert array file\");\n    }\n}\n/**\r\n * Delete an item from an array file\r\n */ async function deleteFromArrayFile(path, itemId, matchField = \"id\") {\n    try {\n        const existingData = await readJsonFile(path, []);\n        const array = existingData || [];\n        const filteredArray = array.filter((item)=>item[matchField] !== itemId);\n        await writeJsonFile(path, filteredArray);\n    } catch (error) {\n        console.error(\"Error deleting from array file:\", error);\n        throw new Error(\"Failed to delete from array file\");\n    }\n}\n// Helper function to organize artist data in GCS-like structure\nfunction createArtistDataStructure(artistData) {\n    const artistId = artistData.id;\n    const eventId = artistData.eventId;\n    return {\n        // Main artist data\n        profile: {\n            path: `artists/${artistId}/profile.json`,\n            data: {\n                id: artistData.id,\n                artistName: artistData.artistName,\n                realName: artistData.realName,\n                email: artistData.email,\n                phone: artistData.phone,\n                style: artistData.style,\n                performanceType: artistData.performanceType,\n                performanceDuration: artistData.performanceDuration,\n                biography: artistData.biography,\n                createdAt: artistData.createdAt,\n                status: artistData.status\n            }\n        },\n        // Technical specifications\n        technical: {\n            path: `artists/${artistId}/technical.json`,\n            data: {\n                costumeColor: artistData.costumeColor,\n                customCostumeColor: artistData.customCostumeColor,\n                lightColorSingle: artistData.lightColorSingle,\n                lightColorTwo: artistData.lightColorTwo,\n                lightColorThree: artistData.lightColorThree,\n                lightRequests: artistData.lightRequests,\n                stagePositionStart: artistData.stagePositionStart,\n                stagePositionEnd: artistData.stagePositionEnd,\n                customStagePosition: artistData.customStagePosition\n            }\n        },\n        // Social media and links\n        social: {\n            path: `artists/${artistId}/social.json`,\n            data: {\n                socialMedia: artistData.socialMedia,\n                showLink: artistData.showLink\n            }\n        },\n        // Notes and communications\n        notes: {\n            path: `artists/${artistId}/notes.json`,\n            data: {\n                mcNotes: artistData.mcNotes,\n                stageManagerNotes: artistData.stageManagerNotes,\n                specialRequirements: artistData.specialRequirements\n            }\n        },\n        // Music tracks metadata\n        music: {\n            path: `artists/${artistId}/music.json`,\n            data: {\n                tracks: artistData.musicTracks?.map((track)=>({\n                        song_title: track.song_title,\n                        duration: track.duration,\n                        notes: track.notes,\n                        is_main_track: track.is_main_track,\n                        tempo: track.tempo,\n                        file_path: `artists/${artistId}/music/${track.song_title.replace(/[^a-zA-Z0-9]/g, \"_\")}.mp3`\n                    })) || []\n            }\n        },\n        // Gallery metadata\n        gallery: {\n            path: `artists/${artistId}/gallery.json`,\n            data: {\n                files: artistData.galleryFiles?.map((file, index)=>({\n                        name: file.name,\n                        type: file.type,\n                        file_path: file.type === \"video\" ? `artists/${artistId}/videos/${file.name}` : `artists/${artistId}/images/${file.name}`\n                    })) || []\n            }\n        },\n        // Event association\n        event: {\n            path: `events/${eventId}/artists/${artistId}.json`,\n            data: {\n                artistId: artistData.id,\n                artistName: artistData.artistName,\n                eventId: artistData.eventId,\n                eventName: artistData.eventName,\n                status: artistData.status,\n                registrationDate: artistData.createdAt\n            }\n        }\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLFFBQVEsRUFBRS9HLFNBQVMsT0FBTyxFQUFFMEcsTUFBTUMsVUFBVSxDQUFDSyxPQUFPLENBQy9ELGlCQUNBLEtBQ0MsSUFBSSxDQUFDO29CQUNSLE9BQU8sRUFBRTtZQUNYO1FBQ0Q7UUFDQSxtQkFBbUI7UUFDbkJDLFNBQVM7WUFDUmpFLE1BQU0sQ0FBQyxRQUFRLEVBQUVoRCxTQUFTLGFBQWEsQ0FBQztZQUN4Q2tELE1BQU07Z0JBQ0xaLE9BQ0NvQyxXQUFXd0MsWUFBWSxFQUFFMUUsSUFDeEIsQ0FBQzdCLE1BQVd3RyxRQUFtQjt3QkFDOUJ4SCxNQUFNZ0IsS0FBS2hCLElBQUk7d0JBQ2ZtQyxNQUFNbkIsS0FBS21CLElBQUk7d0JBQ2ZpRixXQUNDcEcsS0FBS21CLElBQUksS0FBSyxVQUNYLENBQUMsUUFBUSxFQUFFOUIsU0FBUyxRQUFRLEVBQUVXLEtBQUtoQixJQUFJLENBQUMsQ0FBQyxHQUN6QyxDQUFDLFFBQVEsRUFBRUssU0FBUyxRQUFRLEVBQUVXLEtBQUtoQixJQUFJLENBQUMsQ0FBQztvQkFDOUMsT0FDSSxFQUFFO1lBQ1Q7UUFDRDtRQUNBLG9CQUFvQjtRQUNwQnlILE9BQU87WUFDTnBFLE1BQU0sQ0FBQyxPQUFPLEVBQUVsRCxRQUFRLFNBQVMsRUFBRUUsU0FBUyxLQUFLLENBQUM7WUFDbERrRCxNQUFNO2dCQUNMbEQsVUFBVTBFLFdBQVdqRixFQUFFO2dCQUN2Qm1GLFlBQVlGLFdBQVdFLFVBQVU7Z0JBQ2pDOUUsU0FBUzRFLFdBQVc1RSxPQUFPO2dCQUMzQnVILFdBQVczQyxXQUFXMkMsU0FBUztnQkFDL0JoQyxRQUFRWCxXQUFXVyxNQUFNO2dCQUN6QmlDLGtCQUFrQjVDLFdBQVdVLFNBQVM7WUFDdkM7UUFDRDtJQUNEO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2djcy50cz9iMWExIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEdvb2dsZSBDbG91ZCBTdG9yYWdlIHV0aWxpdHkgZnVuY3Rpb25zXHJcbi8vIE5vdGU6IFRoaXMgaXMgYSBzaW1wbGlmaWVkIGltcGxlbWVudGF0aW9uIGZvciBkZW1vbnN0cmF0aW9uXHJcbi8vIEluIHByb2R1Y3Rpb24sIHlvdSB3b3VsZCB1c2UgdGhlIGFjdHVhbCBHb29nbGUgQ2xvdWQgU3RvcmFnZSBTREtcclxuXHJcbmltcG9ydCBHQ1NTZXJ2aWNlIGZyb20gXCIuL2dvb2dsZS1jbG91ZC1zdG9yYWdlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVVcGxvYWRSZXN1bHQge1xyXG5cdHVybDogc3RyaW5nO1xyXG5cdGZpbGVuYW1lOiBzdHJpbmc7XHJcblx0c2l6ZTogbnVtYmVyO1xyXG5cdGNvbnRlbnRUeXBlOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIEZpbGUgcGF0aHMgY29uZmlndXJhdGlvblxyXG5leHBvcnQgY29uc3QgcGF0aHMgPSB7XHJcblx0dXNlcnNJbmRleDogXCJ1c2Vycy9pbmRleC5qc29uXCIsXHJcblx0cmVnaXN0cmF0aW9uU3RhZ2VNYW5hZ2VyRGlyOiBcInJlZ2lzdHJhdGlvbnMvc3RhZ2UtbWFuYWdlcnNcIixcclxuXHRyZWdpc3RyYXRpb25BcnRpc3REaXI6IFwicmVnaXN0cmF0aW9ucy9hcnRpc3RzXCIsXHJcblx0ZXZlbnRzSW5kZXg6IFwiZXZlbnRzL2luZGV4Lmpzb25cIixcclxuXHRzdGFnZU1hbmFnZXJzSW5kZXg6IFwic3RhZ2UtbWFuYWdlcnMvaW5kZXguanNvblwiLFxyXG5cdHN1cGVyQWRtaW5zSW5kZXg6IFwic3VwZXItYWRtaW5zL2luZGV4Lmpzb25cIixcclxuXHRnbG9iYWxBcnRpc3RzSW5kZXg6IFwiYXJ0aXN0cy9pbmRleC5qc29uXCIsXHJcblx0c3RhZ2VNYW5hZ2VyQ291bnRlcjogXCJjb3VudGVycy9zdGFnZS1tYW5hZ2VyLmpzb25cIixcclxuXHR1c2VyQnlSb2xlOiAocm9sZTogc3RyaW5nLCBpZDogc3RyaW5nKSA9PiBgdXNlcnMvJHtyb2xlfS8ke2lkfS5qc29uYCxcclxuXHRyZWdpc3RyYXRpb25TdGFnZU1hbmFnZXJGaWxlOiAobmFtZTogc3RyaW5nLCBpZDogbnVtYmVyKSA9PlxyXG5cdFx0YHJlZ2lzdHJhdGlvbnMvc3RhZ2UtbWFuYWdlcnMvJHtuYW1lfS0ke2lkfS5qc29uYCxcclxuXHRyZWdpc3RyYXRpb25BcnRpc3RGaWxlOiAobmFtZTogc3RyaW5nLCBpZDogc3RyaW5nKSA9PlxyXG5cdFx0YHJlZ2lzdHJhdGlvbnMvYXJ0aXN0cy8ke25hbWV9LSR7aWR9Lmpzb25gLFxyXG5cdGV2ZW50RmlsZTogKGV2ZW50SWQ6IHN0cmluZykgPT4gYGV2ZW50cy8ke2V2ZW50SWR9Lmpzb25gLFxyXG5cdGFydGlzdEZpbGU6IChhcnRpc3RJZDogc3RyaW5nKSA9PiBgYXJ0aXN0cy8ke2FydGlzdElkfS5qc29uYCxcclxuXHRhcnRpc3RzSW5kZXg6IChldmVudElkOiBzdHJpbmcpID0+IGBldmVudHMvJHtldmVudElkfS9hcnRpc3RzL2luZGV4Lmpzb25gLFxyXG5cdHN0YWdlTWFuYWdlckZpbGU6IChzdGFnZU1hbmFnZXJJZDogc3RyaW5nKSA9PlxyXG5cdFx0YHN0YWdlLW1hbmFnZXJzLyR7c3RhZ2VNYW5hZ2VySWR9Lmpzb25gLFxyXG5cdC8vIEVtZXJnZW5jeSBwYXRocyB1c2VkIGJ5IEFQSSByb3V0ZXNcclxuXHRlbWVyZ2VuY3lBY3RpdmU6IChldmVudElkOiBzdHJpbmcpID0+IGBldmVudHMvJHtldmVudElkfS9lbWVyZ2VuY3kvYWN0aXZlLmpzb25gLFxyXG5cdGVtZXJnZW5jeUxvZ0RpcjogKGV2ZW50SWQ6IHN0cmluZykgPT4gYGV2ZW50cy8ke2V2ZW50SWR9L2VtZXJnZW5jeS9sb2dzYCxcclxuXHRlbWVyZ2VuY3lMb2dGaWxlOiAoZXZlbnRJZDogc3RyaW5nLCBpZDogc3RyaW5nKSA9PlxyXG5cdFx0YGV2ZW50cy8ke2V2ZW50SWR9L2VtZXJnZW5jeS9sb2dzLyR7aWR9Lmpzb25gLFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEdDU01hbmFnZXIge1xyXG5cdHByaXZhdGUgYnVja2V0TmFtZTogc3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihidWNrZXROYW1lOiBzdHJpbmcgPSBcImFydGlzdC1ldmVudC1zdG9yYWdlXCIpIHtcclxuXHRcdHRoaXMuYnVja2V0TmFtZSA9IGJ1Y2tldE5hbWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGxvYWQgYSBmaWxlIHRvIEdvb2dsZSBDbG91ZCBTdG9yYWdlXHJcblx0ICovXHJcblx0YXN5bmMgdXBsb2FkRmlsZShcclxuXHRcdGZpbGU6IEZpbGUsXHJcblx0XHRmb2xkZXI6IHN0cmluZyxcclxuXHRcdGFydGlzdElkOiBzdHJpbmdcclxuXHQpOiBQcm9taXNlPEZpbGVVcGxvYWRSZXN1bHQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEdlbmVyYXRlIHVuaXF1ZSBmaWxlbmFtZVxyXG5cdFx0XHRjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG5cdFx0XHRjb25zdCByYW5kb21JZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KTtcclxuXHRcdFx0Y29uc3QgZXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKTtcclxuXHRcdFx0Y29uc3QgZmlsZW5hbWUgPSBgJHt0aW1lc3RhbXB9XyR7cmFuZG9tSWR9LiR7ZXh0ZW5zaW9ufWA7XHJcblxyXG5cdFx0XHQvLyBDb252ZXJ0IEZpbGUgdG8gQnVmZmVyXHJcblx0XHRcdGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xyXG5cdFx0XHRjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcik7XHJcblxyXG5cdFx0XHQvLyBVcGxvYWQgdG8gR29vZ2xlIENsb3VkIFN0b3JhZ2VcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgR0NTU2VydmljZS51cGxvYWRGaWxlKFxyXG5cdFx0XHRcdGJ1ZmZlcixcclxuXHRcdFx0XHRmaWxlbmFtZSxcclxuXHRcdFx0XHRgJHtmb2xkZXJ9LyR7YXJ0aXN0SWR9YCxcclxuXHRcdFx0XHRmaWxlLnR5cGVcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0dXJsOiByZXN1bHQudXJsLFxyXG5cdFx0XHRcdGZpbGVuYW1lOiByZXN1bHQuZmlsZW5hbWUsXHJcblx0XHRcdFx0c2l6ZTogZmlsZS5zaXplLFxyXG5cdFx0XHRcdGNvbnRlbnRUeXBlOiBmaWxlLnR5cGUsXHJcblx0XHRcdH07XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFxyXG5cdFx0XHRcdFwiRXJyb3IgdXBsb2FkaW5nIGZpbGUgdG8gR29vZ2xlIENsb3VkIFN0b3JhZ2U6XCIsXHJcblx0XHRcdFx0ZXJyb3JcclxuXHRcdFx0KTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwbG9hZCBmaWxlIHRvIEdvb2dsZSBDbG91ZCBTdG9yYWdlXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBsb2FkIG11bHRpcGxlIGZpbGVzXHJcblx0ICovXHJcblx0YXN5bmMgdXBsb2FkRmlsZXMoXHJcblx0XHRmaWxlczogRmlsZVtdLFxyXG5cdFx0Zm9sZGVyOiBzdHJpbmcsXHJcblx0XHRhcnRpc3RJZDogc3RyaW5nXHJcblx0KTogUHJvbWlzZTxGaWxlVXBsb2FkUmVzdWx0W10+IHtcclxuXHRcdGNvbnN0IHVwbG9hZFByb21pc2VzID0gZmlsZXMubWFwKChmaWxlKSA9PlxyXG5cdFx0XHR0aGlzLnVwbG9hZEZpbGUoZmlsZSwgZm9sZGVyLCBhcnRpc3RJZClcclxuXHRcdCk7XHJcblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwodXBsb2FkUHJvbWlzZXMpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVsZXRlIGEgZmlsZSBmcm9tIEdvb2dsZSBDbG91ZCBTdG9yYWdlXHJcblx0ICovXHJcblx0YXN5bmMgZGVsZXRlRmlsZShmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRhd2FpdCBHQ1NTZXJ2aWNlLmRlbGV0ZUZpbGUoZmlsZW5hbWUpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XHRcIkVycm9yIGRlbGV0aW5nIGZpbGUgZnJvbSBHb29nbGUgQ2xvdWQgU3RvcmFnZTpcIixcclxuXHRcdFx0XHRlcnJvclxyXG5cdFx0XHQpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVsZXRlIGZpbGUgZnJvbSBHb29nbGUgQ2xvdWQgU3RvcmFnZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBhIHNpZ25lZCBVUkwgZm9yIGZpbGUgYWNjZXNzXHJcblx0ICovXHJcblx0YXN5bmMgZ2V0U2lnbmVkVXJsKFxyXG5cdFx0ZmlsZW5hbWU6IHN0cmluZyxcclxuXHRcdGV4cGlyZXNJbjogbnVtYmVyID0gMzYwMFxyXG5cdCk6IFByb21pc2U8c3RyaW5nPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gYXdhaXQgR0NTU2VydmljZS5nZXRTaWduZWRVcmwoZmlsZW5hbWUsIGV4cGlyZXNJbik7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFxyXG5cdFx0XHRcdFwiRXJyb3IgZ2VuZXJhdGluZyBzaWduZWQgVVJMIGZyb20gR29vZ2xlIENsb3VkIFN0b3JhZ2U6XCIsXHJcblx0XHRcdFx0ZXJyb3JcclxuXHRcdFx0KTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxyXG5cdFx0XHRcdFwiRmFpbGVkIHRvIGdlbmVyYXRlIHNpZ25lZCBVUkwgZnJvbSBHb29nbGUgQ2xvdWQgU3RvcmFnZVwiXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4vLyBFeHBvcnQgYSBkZWZhdWx0IGluc3RhbmNlXHJcbmV4cG9ydCBjb25zdCBnY3NNYW5hZ2VyID0gbmV3IEdDU01hbmFnZXIoKTtcclxuXHJcbi8qKlxyXG4gKiBSZWFkIEpTT04gZmlsZSBmcm9tIEdvb2dsZSBDbG91ZCBTdG9yYWdlXHJcbiAqL1xyXG4vLyBPdmVybG9hZHMgZW5zdXJlIG5vbi1udWxsYWJsZSByZXR1cm4gd2hlbiBhIG5vbi1udWxsIGRlZmF1bHQgaXMgcHJvdmlkZWRcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRKc29uRmlsZTxUPihwYXRoOiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPjtcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRKc29uRmlsZTxUPihcclxuXHRwYXRoOiBzdHJpbmcsXHJcblx0ZGVmYXVsdFZhbHVlOiBUXHJcbik6IFByb21pc2U8VD47XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkSnNvbkZpbGU8VD4oXHJcblx0cGF0aDogc3RyaW5nLFxyXG5cdGRlZmF1bHRWYWx1ZTogVCB8IG51bGwgPSBudWxsXHJcbik6IFByb21pc2U8VCB8IG51bGw+IHtcclxuXHR0cnkge1xyXG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IEdDU1NlcnZpY2UucmVhZEpTT04ocGF0aCk7XHJcblx0XHRyZXR1cm4gZGF0YSAhPT0gbnVsbCA/IChkYXRhIGFzIFQpIDogKGRlZmF1bHRWYWx1ZSBhcyBUIHwgbnVsbCk7XHJcblx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoXHJcblx0XHRcdFwiRXJyb3IgcmVhZGluZyBKU09OIGZpbGUgZnJvbSBHb29nbGUgQ2xvdWQgU3RvcmFnZTpcIixcclxuXHRcdFx0ZXJyb3JcclxuXHRcdCk7XHJcblx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlIGFzIFQgfCBudWxsO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFdyaXRlIEpTT04gZmlsZSB0byBHb29nbGUgQ2xvdWQgU3RvcmFnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlSnNvbkZpbGUocGF0aDogc3RyaW5nLCBkYXRhOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHR0cnkge1xyXG5cdFx0YXdhaXQgR0NTU2VydmljZS5zYXZlSlNPTihkYXRhLCBwYXRoKTtcclxuXHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XCJFcnJvciB3cml0aW5nIEpTT04gZmlsZSB0byBHb29nbGUgQ2xvdWQgU3RvcmFnZTpcIixcclxuXHRcdFx0ZXJyb3JcclxuXHRcdCk7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gd3JpdGUgSlNPTiBmaWxlIHRvIEdvb2dsZSBDbG91ZCBTdG9yYWdlXCIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWQgYWxsIEpTT04gZmlsZXMgZnJvbSBhIGRpcmVjdG9yeSBpbiBHb29nbGUgQ2xvdWQgU3RvcmFnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRKc29uRGlyZWN0b3J5PFQ+KGRpclBhdGg6IHN0cmluZyk6IFByb21pc2U8VFtdPiB7XHJcblx0dHJ5IHtcclxuXHRcdGNvbnN0IGZpbGVzID0gYXdhaXQgR0NTU2VydmljZS5saXN0RmlsZXMoZGlyUGF0aCk7XHJcblx0XHRjb25zdCBqc29uRmlsZXMgPSBmaWxlcy5maWx0ZXIoKGZpbGUpID0+IGZpbGUuZW5kc1dpdGgoXCIuanNvblwiKSk7XHJcblxyXG5cdFx0Y29uc3QgcmVzdWx0czogVFtdID0gW107XHJcblx0XHRmb3IgKGNvbnN0IGZpbGUgb2YganNvbkZpbGVzKSB7XHJcblx0XHRcdGNvbnN0IGRhdGEgPSBhd2FpdCBHQ1NTZXJ2aWNlLnJlYWRKU09OKGZpbGUpO1xyXG5cdFx0XHRpZiAoZGF0YSAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdHJlc3VsdHMucHVzaChkYXRhIGFzIFQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdHM7XHJcblx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoXHJcblx0XHRcdFwiRXJyb3IgcmVhZGluZyBKU09OIGRpcmVjdG9yeSBmcm9tIEdvb2dsZSBDbG91ZCBTdG9yYWdlOlwiLFxyXG5cdFx0XHRlcnJvclxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBbXTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcHNlcnQgKGluc2VydCBvciB1cGRhdGUpIGFuIGl0ZW0gaW4gYW4gYXJyYXkgZmlsZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwc2VydEFycmF5RmlsZTxUIGV4dGVuZHMgeyBpZDogc3RyaW5nIH0+KFxyXG5cdHBhdGg6IHN0cmluZyxcclxuXHRpdGVtOiBULFxyXG5cdG1hdGNoRmllbGQ6IGtleW9mIFQgPSBcImlkXCIgYXMga2V5b2YgVFxyXG4pOiBQcm9taXNlPHZvaWQ+IHtcclxuXHR0cnkge1xyXG5cdFx0Y29uc3QgZXhpc3RpbmdEYXRhID0gYXdhaXQgcmVhZEpzb25GaWxlPFRbXT4ocGF0aCwgW10pO1xyXG5cdFx0Y29uc3QgYXJyYXkgPSBleGlzdGluZ0RhdGEgfHwgW107XHJcblxyXG5cdFx0Y29uc3QgZXhpc3RpbmdJbmRleCA9IGFycmF5LmZpbmRJbmRleChcclxuXHRcdFx0KGV4aXN0aW5nKSA9PiBleGlzdGluZ1ttYXRjaEZpZWxkXSA9PT0gaXRlbVttYXRjaEZpZWxkXVxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7XHJcblx0XHRcdC8vIFVwZGF0ZSBleGlzdGluZyBpdGVtXHJcblx0XHRcdGFycmF5W2V4aXN0aW5nSW5kZXhdID0geyAuLi5hcnJheVtleGlzdGluZ0luZGV4XSwgLi4uaXRlbSB9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gQWRkIG5ldyBpdGVtXHJcblx0XHRcdGFycmF5LnB1c2goaXRlbSk7XHJcblx0XHR9XHJcblxyXG5cdFx0YXdhaXQgd3JpdGVKc29uRmlsZShwYXRoLCBhcnJheSk7XHJcblx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cHNlcnRpbmcgYXJyYXkgZmlsZTpcIiwgZXJyb3IpO1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwc2VydCBhcnJheSBmaWxlXCIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIERlbGV0ZSBhbiBpdGVtIGZyb20gYW4gYXJyYXkgZmlsZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUZyb21BcnJheUZpbGU8VCBleHRlbmRzIHsgaWQ6IHN0cmluZyB9PihcclxuXHRwYXRoOiBzdHJpbmcsXHJcblx0aXRlbUlkOiBzdHJpbmcsXHJcblx0bWF0Y2hGaWVsZDoga2V5b2YgVCA9IFwiaWRcIiBhcyBrZXlvZiBUXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG5cdHRyeSB7XHJcblx0XHRjb25zdCBleGlzdGluZ0RhdGEgPSBhd2FpdCByZWFkSnNvbkZpbGU8VFtdPihwYXRoLCBbXSk7XHJcblx0XHRjb25zdCBhcnJheSA9IGV4aXN0aW5nRGF0YSB8fCBbXTtcclxuXHJcblx0XHRjb25zdCBmaWx0ZXJlZEFycmF5ID0gYXJyYXkuZmlsdGVyKFxyXG5cdFx0XHQoaXRlbSkgPT4gaXRlbVttYXRjaEZpZWxkXSAhPT0gaXRlbUlkXHJcblx0XHQpO1xyXG5cclxuXHRcdGF3YWl0IHdyaXRlSnNvbkZpbGUocGF0aCwgZmlsdGVyZWRBcnJheSk7XHJcblx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmcm9tIGFycmF5IGZpbGU6XCIsIGVycm9yKTtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWxldGUgZnJvbSBhcnJheSBmaWxlXCIpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIG9yZ2FuaXplIGFydGlzdCBkYXRhIGluIEdDUy1saWtlIHN0cnVjdHVyZVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXJ0aXN0RGF0YVN0cnVjdHVyZShhcnRpc3REYXRhOiBhbnkpIHtcclxuXHRjb25zdCBhcnRpc3RJZCA9IGFydGlzdERhdGEuaWQ7XHJcblx0Y29uc3QgZXZlbnRJZCA9IGFydGlzdERhdGEuZXZlbnRJZDtcclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdC8vIE1haW4gYXJ0aXN0IGRhdGFcclxuXHRcdHByb2ZpbGU6IHtcclxuXHRcdFx0cGF0aDogYGFydGlzdHMvJHthcnRpc3RJZH0vcHJvZmlsZS5qc29uYCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdGlkOiBhcnRpc3REYXRhLmlkLFxyXG5cdFx0XHRcdGFydGlzdE5hbWU6IGFydGlzdERhdGEuYXJ0aXN0TmFtZSxcclxuXHRcdFx0XHRyZWFsTmFtZTogYXJ0aXN0RGF0YS5yZWFsTmFtZSxcclxuXHRcdFx0XHRlbWFpbDogYXJ0aXN0RGF0YS5lbWFpbCxcclxuXHRcdFx0XHRwaG9uZTogYXJ0aXN0RGF0YS5waG9uZSxcclxuXHRcdFx0XHRzdHlsZTogYXJ0aXN0RGF0YS5zdHlsZSxcclxuXHRcdFx0XHRwZXJmb3JtYW5jZVR5cGU6IGFydGlzdERhdGEucGVyZm9ybWFuY2VUeXBlLFxyXG5cdFx0XHRcdHBlcmZvcm1hbmNlRHVyYXRpb246IGFydGlzdERhdGEucGVyZm9ybWFuY2VEdXJhdGlvbixcclxuXHRcdFx0XHRiaW9ncmFwaHk6IGFydGlzdERhdGEuYmlvZ3JhcGh5LFxyXG5cdFx0XHRcdGNyZWF0ZWRBdDogYXJ0aXN0RGF0YS5jcmVhdGVkQXQsXHJcblx0XHRcdFx0c3RhdHVzOiBhcnRpc3REYXRhLnN0YXR1cyxcclxuXHRcdFx0fSxcclxuXHRcdH0sXHJcblx0XHQvLyBUZWNobmljYWwgc3BlY2lmaWNhdGlvbnNcclxuXHRcdHRlY2huaWNhbDoge1xyXG5cdFx0XHRwYXRoOiBgYXJ0aXN0cy8ke2FydGlzdElkfS90ZWNobmljYWwuanNvbmAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRjb3N0dW1lQ29sb3I6IGFydGlzdERhdGEuY29zdHVtZUNvbG9yLFxyXG5cdFx0XHRcdGN1c3RvbUNvc3R1bWVDb2xvcjogYXJ0aXN0RGF0YS5jdXN0b21Db3N0dW1lQ29sb3IsXHJcblx0XHRcdFx0bGlnaHRDb2xvclNpbmdsZTogYXJ0aXN0RGF0YS5saWdodENvbG9yU2luZ2xlLFxyXG5cdFx0XHRcdGxpZ2h0Q29sb3JUd286IGFydGlzdERhdGEubGlnaHRDb2xvclR3byxcclxuXHRcdFx0XHRsaWdodENvbG9yVGhyZWU6IGFydGlzdERhdGEubGlnaHRDb2xvclRocmVlLFxyXG5cdFx0XHRcdGxpZ2h0UmVxdWVzdHM6IGFydGlzdERhdGEubGlnaHRSZXF1ZXN0cyxcclxuXHRcdFx0XHRzdGFnZVBvc2l0aW9uU3RhcnQ6IGFydGlzdERhdGEuc3RhZ2VQb3NpdGlvblN0YXJ0LFxyXG5cdFx0XHRcdHN0YWdlUG9zaXRpb25FbmQ6IGFydGlzdERhdGEuc3RhZ2VQb3NpdGlvbkVuZCxcclxuXHRcdFx0XHRjdXN0b21TdGFnZVBvc2l0aW9uOiBhcnRpc3REYXRhLmN1c3RvbVN0YWdlUG9zaXRpb24sXHJcblx0XHRcdH0sXHJcblx0XHR9LFxyXG5cdFx0Ly8gU29jaWFsIG1lZGlhIGFuZCBsaW5rc1xyXG5cdFx0c29jaWFsOiB7XHJcblx0XHRcdHBhdGg6IGBhcnRpc3RzLyR7YXJ0aXN0SWR9L3NvY2lhbC5qc29uYCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdHNvY2lhbE1lZGlhOiBhcnRpc3REYXRhLnNvY2lhbE1lZGlhLFxyXG5cdFx0XHRcdHNob3dMaW5rOiBhcnRpc3REYXRhLnNob3dMaW5rLFxyXG5cdFx0XHR9LFxyXG5cdFx0fSxcclxuXHRcdC8vIE5vdGVzIGFuZCBjb21tdW5pY2F0aW9uc1xyXG5cdFx0bm90ZXM6IHtcclxuXHRcdFx0cGF0aDogYGFydGlzdHMvJHthcnRpc3RJZH0vbm90ZXMuanNvbmAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRtY05vdGVzOiBhcnRpc3REYXRhLm1jTm90ZXMsXHJcblx0XHRcdFx0c3RhZ2VNYW5hZ2VyTm90ZXM6IGFydGlzdERhdGEuc3RhZ2VNYW5hZ2VyTm90ZXMsXHJcblx0XHRcdFx0c3BlY2lhbFJlcXVpcmVtZW50czogYXJ0aXN0RGF0YS5zcGVjaWFsUmVxdWlyZW1lbnRzLFxyXG5cdFx0XHR9LFxyXG5cdFx0fSxcclxuXHRcdC8vIE11c2ljIHRyYWNrcyBtZXRhZGF0YVxyXG5cdFx0bXVzaWM6IHtcclxuXHRcdFx0cGF0aDogYGFydGlzdHMvJHthcnRpc3RJZH0vbXVzaWMuanNvbmAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHR0cmFja3M6XHJcblx0XHRcdFx0XHRhcnRpc3REYXRhLm11c2ljVHJhY2tzPy5tYXAoKHRyYWNrOiBhbnkpID0+ICh7XHJcblx0XHRcdFx0XHRcdHNvbmdfdGl0bGU6IHRyYWNrLnNvbmdfdGl0bGUsXHJcblx0XHRcdFx0XHRcdGR1cmF0aW9uOiB0cmFjay5kdXJhdGlvbixcclxuXHRcdFx0XHRcdFx0bm90ZXM6IHRyYWNrLm5vdGVzLFxyXG5cdFx0XHRcdFx0XHRpc19tYWluX3RyYWNrOiB0cmFjay5pc19tYWluX3RyYWNrLFxyXG5cdFx0XHRcdFx0XHR0ZW1wbzogdHJhY2sudGVtcG8sXHJcblx0XHRcdFx0XHRcdGZpbGVfcGF0aDogYGFydGlzdHMvJHthcnRpc3RJZH0vbXVzaWMvJHt0cmFjay5zb25nX3RpdGxlLnJlcGxhY2UoXHJcblx0XHRcdFx0XHRcdFx0L1teYS16QS1aMC05XS9nLFxyXG5cdFx0XHRcdFx0XHRcdFwiX1wiXHJcblx0XHRcdFx0XHRcdCl9Lm1wM2AsXHJcblx0XHRcdFx0XHR9KSkgfHwgW10sXHJcblx0XHRcdH0sXHJcblx0XHR9LFxyXG5cdFx0Ly8gR2FsbGVyeSBtZXRhZGF0YVxyXG5cdFx0Z2FsbGVyeToge1xyXG5cdFx0XHRwYXRoOiBgYXJ0aXN0cy8ke2FydGlzdElkfS9nYWxsZXJ5Lmpzb25gLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0ZmlsZXM6XHJcblx0XHRcdFx0XHRhcnRpc3REYXRhLmdhbGxlcnlGaWxlcz8ubWFwKFxyXG5cdFx0XHRcdFx0XHQoZmlsZTogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xyXG5cdFx0XHRcdFx0XHRcdG5hbWU6IGZpbGUubmFtZSxcclxuXHRcdFx0XHRcdFx0XHR0eXBlOiBmaWxlLnR5cGUsXHJcblx0XHRcdFx0XHRcdFx0ZmlsZV9wYXRoOlxyXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZS50eXBlID09PSBcInZpZGVvXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0PyBgYXJ0aXN0cy8ke2FydGlzdElkfS92aWRlb3MvJHtmaWxlLm5hbWV9YFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ6IGBhcnRpc3RzLyR7YXJ0aXN0SWR9L2ltYWdlcy8ke2ZpbGUubmFtZX1gLFxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0KSB8fCBbXSxcclxuXHRcdFx0fSxcclxuXHRcdH0sXHJcblx0XHQvLyBFdmVudCBhc3NvY2lhdGlvblxyXG5cdFx0ZXZlbnQ6IHtcclxuXHRcdFx0cGF0aDogYGV2ZW50cy8ke2V2ZW50SWR9L2FydGlzdHMvJHthcnRpc3RJZH0uanNvbmAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRhcnRpc3RJZDogYXJ0aXN0RGF0YS5pZCxcclxuXHRcdFx0XHRhcnRpc3ROYW1lOiBhcnRpc3REYXRhLmFydGlzdE5hbWUsXHJcblx0XHRcdFx0ZXZlbnRJZDogYXJ0aXN0RGF0YS5ldmVudElkLFxyXG5cdFx0XHRcdGV2ZW50TmFtZTogYXJ0aXN0RGF0YS5ldmVudE5hbWUsXHJcblx0XHRcdFx0c3RhdHVzOiBhcnRpc3REYXRhLnN0YXR1cyxcclxuXHRcdFx0XHRyZWdpc3RyYXRpb25EYXRlOiBhcnRpc3REYXRhLmNyZWF0ZWRBdCxcclxuXHRcdFx0fSxcclxuXHRcdH0sXHJcblx0fTtcclxufVxyXG4iXSwibmFtZXMiOlsiR0NTU2VydmljZSIsInBhdGhzIiwidXNlcnNJbmRleCIsInJlZ2lzdHJhdGlvblN0YWdlTWFuYWdlckRpciIsInJlZ2lzdHJhdGlvbkFydGlzdERpciIsImV2ZW50c0luZGV4Iiwic3RhZ2VNYW5hZ2Vyc0luZGV4Iiwic3VwZXJBZG1pbnNJbmRleCIsImdsb2JhbEFydGlzdHNJbmRleCIsInN0YWdlTWFuYWdlckNvdW50ZXIiLCJ1c2VyQnlSb2xlIiwicm9sZSIsImlkIiwicmVnaXN0cmF0aW9uU3RhZ2VNYW5hZ2VyRmlsZSIsIm5hbWUiLCJyZWdpc3RyYXRpb25BcnRpc3RGaWxlIiwiZXZlbnRGaWxlIiwiZXZlbnRJZCIsImFydGlzdEZpbGUiLCJhcnRpc3RJZCIsImFydGlzdHNJbmRleCIsInN0YWdlTWFuYWdlckZpbGUiLCJzdGFnZU1hbmFnZXJJZCIsImVtZXJnZW5jeUFjdGl2ZSIsImVtZXJnZW5jeUxvZ0RpciIsImVtZXJnZW5jeUxvZ0ZpbGUiLCJHQ1NNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJidWNrZXROYW1lIiwidXBsb2FkRmlsZSIsImZpbGUiLCJmb2xkZXIiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwicmFuZG9tSWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJleHRlbnNpb24iLCJzcGxpdCIsInBvcCIsImZpbGVuYW1lIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwicmVzdWx0IiwidHlwZSIsInVybCIsInNpemUiLCJjb250ZW50VHlwZSIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwidXBsb2FkRmlsZXMiLCJmaWxlcyIsInVwbG9hZFByb21pc2VzIiwibWFwIiwiUHJvbWlzZSIsImFsbCIsImRlbGV0ZUZpbGUiLCJnZXRTaWduZWRVcmwiLCJleHBpcmVzSW4iLCJnY3NNYW5hZ2VyIiwicmVhZEpzb25GaWxlIiwicGF0aCIsImRlZmF1bHRWYWx1ZSIsImRhdGEiLCJyZWFkSlNPTiIsIndyaXRlSnNvbkZpbGUiLCJzYXZlSlNPTiIsInJlYWRKc29uRGlyZWN0b3J5IiwiZGlyUGF0aCIsImxpc3RGaWxlcyIsImpzb25GaWxlcyIsImZpbHRlciIsImVuZHNXaXRoIiwicmVzdWx0cyIsInB1c2giLCJ1cHNlcnRBcnJheUZpbGUiLCJpdGVtIiwibWF0Y2hGaWVsZCIsImV4aXN0aW5nRGF0YSIsImFycmF5IiwiZXhpc3RpbmdJbmRleCIsImZpbmRJbmRleCIsImV4aXN0aW5nIiwiZGVsZXRlRnJvbUFycmF5RmlsZSIsIml0ZW1JZCIsImZpbHRlcmVkQXJyYXkiLCJjcmVhdGVBcnRpc3REYXRhU3RydWN0dXJlIiwiYXJ0aXN0RGF0YSIsInByb2ZpbGUiLCJhcnRpc3ROYW1lIiwicmVhbE5hbWUiLCJlbWFpbCIsInBob25lIiwic3R5bGUiLCJwZXJmb3JtYW5jZVR5cGUiLCJwZXJmb3JtYW5jZUR1cmF0aW9uIiwiYmlvZ3JhcGh5IiwiY3JlYXRlZEF0Iiwic3RhdHVzIiwidGVjaG5pY2FsIiwiY29zdHVtZUNvbG9yIiwiY3VzdG9tQ29zdHVtZUNvbG9yIiwibGlnaHRDb2xvclNpbmdsZSIsImxpZ2h0Q29sb3JUd28iLCJsaWdodENvbG9yVGhyZWUiLCJsaWdodFJlcXVlc3RzIiwic3RhZ2VQb3NpdGlvblN0YXJ0Iiwic3RhZ2VQb3NpdGlvbkVuZCIsImN1c3RvbVN0YWdlUG9zaXRpb24iLCJzb2NpYWwiLCJzb2NpYWxNZWRpYSIsInNob3dMaW5rIiwibm90ZXMiLCJtY05vdGVzIiwic3RhZ2VNYW5hZ2VyTm90ZXMiLCJzcGVjaWFsUmVxdWlyZW1lbnRzIiwibXVzaWMiLCJ0cmFja3MiLCJtdXNpY1RyYWNrcyIsInRyYWNrIiwic29uZ190aXRsZSIsImR1cmF0aW9uIiwiaXNfbWFpbl90cmFjayIsInRlbXBvIiwiZmlsZV9wYXRoIiwicmVwbGFjZSIsImdhbGxlcnkiLCJnYWxsZXJ5RmlsZXMiLCJpbmRleCIsImV2ZW50IiwiZXZlbnROYW1lIiwicmVnaXN0cmF0aW9uRGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/gcs.ts\n");

/***/ }),

/***/ "(rsc)/./lib/google-cloud-storage.ts":
/*!*************************************!*\
  !*** ./lib/google-cloud-storage.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GCSService: () => (/* binding */ GCSService),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google-cloud/storage */ \"@google-cloud/storage\");\n/* harmony import */ var _service_isolation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./service-isolation */ \"(rsc)/./lib/service-isolation.ts\");\n/* harmony import */ var _build_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./build-logger */ \"(rsc)/./lib/build-logger.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__]);\n_google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Initialize Google Cloud Storage\nlet storage = null;\nlet bucket = null;\nconst bucketName = process.env.GOOGLE_CLOUD_BUCKET_NAME || \"fame-data\";\n// Initialize Google Cloud Storage only at runtime\nfunction initializeGCS() {\n    if (!_service_isolation__WEBPACK_IMPORTED_MODULE_1__.ServiceIsolation.isServiceEnabled(\"google-cloud-storage\")) {\n        _build_logger__WEBPACK_IMPORTED_MODULE_2__.buildLogger.serviceStatus(\"google-cloud-storage\", \"disabled\", \"Service isolation active\");\n        return false;\n    }\n    if (storage && bucket) {\n        return true; // Already initialized\n    }\n    try {\n        // Try different authentication methods\n        if (process.env.GOOGLE_CLOUD_PROJECT_ID) {\n            const storageConfig = {\n                projectId: process.env.GOOGLE_CLOUD_PROJECT_ID\n            };\n            // Use key file if provided\n            if (process.env.GOOGLE_CLOUD_KEY_FILE) {\n                storageConfig.keyFilename = process.env.GOOGLE_CLOUD_KEY_FILE;\n            } else if (process.env.GOOGLE_CLOUD_CREDENTIALS) {\n                storageConfig.credentials = JSON.parse(process.env.GOOGLE_CLOUD_CREDENTIALS);\n            }\n            storage = new _google_cloud_storage__WEBPACK_IMPORTED_MODULE_0__.Storage(storageConfig);\n            bucket = storage.bucket(bucketName);\n            _build_logger__WEBPACK_IMPORTED_MODULE_2__.buildLogger.serviceStatus(\"google-cloud-storage\", \"enabled\", `Initialized with bucket: ${bucketName}`, {\n                bucketName\n            });\n            return true;\n        } else {\n            console.error(\"Google Cloud Storage not configured: Missing GOOGLE_CLOUD_PROJECT_ID\");\n            return false;\n        }\n    } catch (error) {\n        console.error(\"Failed to initialize Google Cloud Storage:\", error);\n        return false;\n    }\n}\nconst signedUrlCache = new Map();\nclass GCSService {\n    /**\r\n\t * Check if a URL is a blob URL that needs to be replaced\r\n\t */ static isBlobUrl(url) {\n        return typeof url === \"string\" && (url.startsWith(\"blob:\") || url === \"\" || !url);\n    }\n    /**\r\n\t * Clear expired entries from the signed URL cache\r\n\t */ static clearExpiredCache() {\n        const now = Date.now();\n        for (const [key, cached] of signedUrlCache.entries()){\n            if (cached.expiresAt <= now) {\n                signedUrlCache.delete(key);\n            }\n        }\n    }\n    /**\r\n\t * Check if a file exists in Google Cloud Storage\r\n\t */ static async fileExists(path) {\n        try {\n            if (!initializeGCS() || !bucket) {\n                console.log(`GCS not available, returning false for file exists check: ${path}`);\n                return false;\n            }\n            const gcsFile = bucket.file(path);\n            const [exists] = await gcsFile.exists();\n            return exists;\n        } catch (error) {\n            console.error(`Error checking if file exists: ${path}`, error);\n            return false;\n        }\n    }\n    /**\r\n\t * Upload a file to Google Cloud Storage with enhanced error handling\r\n\t */ static async uploadFile(file, filename, folder, contentType) {\n        try {\n            if (!bucket) {\n                throw new Error(\"Google Cloud Storage not initialized\");\n            }\n            const gcsPath = `${folder}/${filename}`;\n            const gcsFile = bucket.file(gcsPath);\n            await gcsFile.save(file, {\n                metadata: {\n                    contentType\n                },\n                public: false\n            });\n            // Generate initial signed URL with proper error handling\n            const signedUrl = await this.getSignedUrl(gcsPath, 24 * 60 * 60);\n            return {\n                url: signedUrl,\n                filename,\n                size: file.length,\n                contentType,\n                gcsPath\n            };\n        } catch (error) {\n            console.error(\"Error uploading file to Google Cloud Storage:\", error);\n            throw new Error(\"Failed to upload file to Google Cloud Storage\");\n        }\n    }\n    /**\r\n\t * Save JSON data to Google Cloud Storage\r\n\t */ static async saveJSON(data, path) {\n        try {\n            if (!initializeGCS() || !bucket) {\n                console.log(`GCS not available, skipping JSON save: ${path}`);\n                return;\n            }\n            const jsonData = JSON.stringify(data, null, 2);\n            const gcsFile = bucket.file(path);\n            await gcsFile.save(jsonData, {\n                metadata: {\n                    contentType: \"application/json\"\n                }\n            });\n            console.log(`JSON data saved to GCS: ${path}`);\n        } catch (error) {\n            console.error(\"Error saving JSON to Google Cloud Storage:\", error);\n            throw new Error(\"Failed to save data to Google Cloud Storage\");\n        }\n    }\n    /**\r\n\t * Read JSON data from Google Cloud Storage\r\n\t */ static async readJSON(path) {\n        try {\n            if (!initializeGCS() || !bucket) {\n                console.log(`GCS not available, returning null for JSON read: ${path}`);\n                return null;\n            }\n            const gcsFile = bucket.file(path);\n            const [exists] = await gcsFile.exists();\n            if (!exists) {\n                console.log(`File not found in GCS: ${path}`);\n                return null;\n            }\n            const [contents] = await gcsFile.download();\n            const data = JSON.parse(contents.toString());\n            console.log(`JSON data read from GCS: ${path}`);\n            return data;\n        } catch (error) {\n            console.error(\"Error reading JSON from Google Cloud Storage:\", error);\n            return null;\n        }\n    }\n    /**\r\n\t * List files in a folder\r\n\t */ static async listFiles(prefix) {\n        try {\n            if (!bucket) {\n                throw new Error(\"Google Cloud Storage not initialized\");\n            }\n            const [files] = await bucket.getFiles({\n                prefix\n            });\n            const fileNames = files.map((file)=>file.name);\n            console.log(`Listed ${fileNames.length} files from GCS with prefix: ${prefix}`);\n            return fileNames;\n        } catch (error) {\n            console.error(\"Error listing files from Google Cloud Storage:\", error);\n            return [];\n        }\n    }\n    /**\r\n\t * Delete a file from Google Cloud Storage\r\n\t */ static async deleteFile(path) {\n        try {\n            if (!bucket) {\n                throw new Error(\"Google Cloud Storage not initialized\");\n            }\n            const gcsFile = bucket.file(path);\n            await gcsFile.delete();\n            console.log(`File deleted from GCS: ${path}`);\n        } catch (error) {\n            console.error(\"Error deleting file from Google Cloud Storage:\", error);\n            throw new Error(\"Failed to delete file from Google Cloud Storage\");\n        }\n    }\n    /**\r\n\t * Get signed URL for file access with caching\r\n\t */ static async getSignedUrl(path, expiresIn = 3600) {\n        try {\n            if (!bucket) {\n                throw new Error(\"Google Cloud Storage not initialized\");\n            }\n            // Clean up expired cache entries periodically\n            this.clearExpiredCache();\n            // Check cache first (with 5-minute buffer before expiration)\n            const cacheKey = `${path}:${expiresIn}`;\n            const cached = signedUrlCache.get(cacheKey);\n            const now = Date.now();\n            if (cached && cached.expiresAt > now + 5 * 60 * 1000) {\n                console.log(`Using cached signed URL for GCS file: ${path}`);\n                return cached.url;\n            }\n            // Generate new signed URL\n            const gcsFile = bucket.file(path);\n            const expirationTime = Date.now() + expiresIn * 1000;\n            const [signedUrl] = await gcsFile.getSignedUrl({\n                action: \"read\",\n                expires: expirationTime\n            });\n            // Cache the URL (expires 5 minutes before actual expiration for safety)\n            signedUrlCache.set(cacheKey, {\n                url: signedUrl,\n                expiresAt: expirationTime - 5 * 60 * 1000\n            });\n            console.log(`Generated and cached signed URL for GCS file: ${path}`);\n            return signedUrl;\n        } catch (error) {\n            console.error(\"Error generating signed URL for Google Cloud Storage:\", error);\n            throw new Error(\"Failed to generate signed URL from Google Cloud Storage\");\n        }\n    }\n    /**\r\n\t * Save artist data in organized folder structure\r\n\t */ static async saveArtistData(artistData) {\n        const artistId = artistData.id;\n        const eventId = artistData.eventId;\n        try {\n            // Debug: Log what performance data is being saved\n            console.log(`🔧 GCS saveArtistData for ${artistId} - Performance fields:`, {\n                performance_order: artistData.performance_order,\n                performance_status: artistData.performance_status,\n                performance_date: artistData.performance_date || artistData.performanceDate\n            });\n            // Save main profile data\n            await this.saveJSON({\n                id: artistData.id,\n                artistName: artistData.artistName,\n                realName: artistData.realName,\n                email: artistData.email,\n                phone: artistData.phone,\n                style: artistData.style,\n                performanceType: artistData.performanceType,\n                performanceDuration: artistData.performanceDuration,\n                biography: artistData.biography,\n                createdAt: artistData.createdAt,\n                updatedAt: artistData.updatedAt,\n                status: artistData.status,\n                statusHistory: artistData.statusHistory,\n                eventId: artistData.eventId,\n                eventName: artistData.eventName,\n                // Performance assignment fields - support both formats\n                performanceDate: artistData.performanceDate || artistData.performance_date,\n                performance_date: artistData.performance_date || artistData.performanceDate,\n                // Performance order and status fields\n                performance_order: artistData.performance_order !== undefined ? artistData.performance_order : null,\n                performance_status: artistData.performance_status || null,\n                // Rehearsal scheduling fields\n                rehearsal_date: artistData.rehearsal_date || null,\n                rehearsal_order: artistData.rehearsal_order || null,\n                rehearsal_completed: artistData.rehearsal_completed || false,\n                quality_rating: artistData.quality_rating || null\n            }, `artists/${artistId}/profile.json`);\n            // Save technical specifications\n            await this.saveJSON({\n                costumeColor: artistData.costumeColor,\n                customCostumeColor: artistData.customCostumeColor,\n                lightColorSingle: artistData.lightColorSingle,\n                lightColorTwo: artistData.lightColorTwo,\n                lightColorThree: artistData.lightColorThree,\n                lightRequests: artistData.lightRequests,\n                stagePositionStart: artistData.stagePositionStart,\n                stagePositionEnd: artistData.stagePositionEnd,\n                customStagePosition: artistData.customStagePosition,\n                equipment: artistData.equipment,\n                specialRequirements: artistData.specialRequirements\n            }, `artists/${artistId}/technical.json`);\n            // Save social media and links\n            await this.saveJSON({\n                socialMedia: artistData.socialMedia,\n                showLink: artistData.showLink\n            }, `artists/${artistId}/social.json`);\n            // Save notes and communications\n            await this.saveJSON({\n                mcNotes: artistData.mcNotes,\n                stageManagerNotes: artistData.stageManagerNotes,\n                notes: artistData.notes\n            }, `artists/${artistId}/notes.json`);\n            // Save music tracks metadata\n            await this.saveJSON({\n                tracks: artistData.musicTracks || []\n            }, `artists/${artistId}/music.json`);\n            // Save gallery metadata\n            await this.saveJSON({\n                files: artistData.galleryFiles || []\n            }, `artists/${artistId}/gallery.json`);\n            // Save event association\n            await this.saveJSON({\n                artistId: artistData.id,\n                artistName: artistData.artistName,\n                eventId: artistData.eventId,\n                eventName: artistData.eventName,\n                status: artistData.status,\n                statusHistory: artistData.statusHistory,\n                registrationDate: artistData.createdAt,\n                updatedAt: artistData.updatedAt,\n                // Performance assignment fields - support both formats\n                performanceDate: artistData.performanceDate || artistData.performance_date,\n                performance_date: artistData.performance_date || artistData.performanceDate,\n                // Performance order and status fields\n                performance_order: artistData.performance_order !== undefined ? artistData.performance_order : null,\n                performance_status: artistData.performance_status || null,\n                // Rehearsal fields\n                rehearsal_completed: artistData.rehearsal_completed,\n                quality_rating: artistData.quality_rating\n            }, `events/${eventId}/artists/${artistId}.json`);\n            console.log(`Artist data saved to storage for artist: ${artistId}`);\n        } catch (error) {\n            console.error(\"Error saving artist data:\", error);\n            throw error;\n        }\n    }\n    /**\r\n\t * Get complete artist data from storage\r\n\t */ static async getArtistData(artistId) {\n        try {\n            const [profile, technical, social, notes, music, gallery] = await Promise.all([\n                this.readJSON(`artists/${artistId}/profile.json`),\n                this.readJSON(`artists/${artistId}/technical.json`),\n                this.readJSON(`artists/${artistId}/social.json`),\n                this.readJSON(`artists/${artistId}/notes.json`),\n                this.readJSON(`artists/${artistId}/music.json`),\n                this.readJSON(`artists/${artistId}/gallery.json`)\n            ]);\n            if (!profile) {\n                return null;\n            }\n            // Debug: Log what performance data is being loaded from profile.json\n            console.log(`🔍 GCS getArtistData for ${artistId} - Profile data loaded:`, {\n                performance_order: profile.performance_order,\n                performance_status: profile.performance_status,\n                performance_date: profile.performance_date || profile.performanceDate,\n                rehearsal_completed: profile.rehearsal_completed\n            });\n            // Enrich media with fresh signed URLs\n            const rawTracks = Array.isArray(music?.tracks) ? music.tracks : [];\n            const musicTracks = await Promise.all(rawTracks.map(async (t)=>{\n                const track = {\n                    ...t\n                };\n                const isBlob = this.isBlobUrl(track.file_url);\n                if ((isBlob || !track.file_url) && track.file_path) {\n                    try {\n                        track.file_url = await this.getSignedUrl(track.file_path, 24 * 60 * 60);\n                    } catch (e) {\n                        console.error(\"Failed to sign music track path:\", track.file_path, e);\n                        // Set to null so UI can handle the error\n                        track.file_url = null;\n                    }\n                }\n                return track;\n            }));\n            const rawFiles = Array.isArray(gallery?.files) ? gallery.files : [];\n            const galleryFiles = await Promise.all(rawFiles.map(async (f)=>{\n                const file = {\n                    ...f\n                };\n                const isBlob = this.isBlobUrl(file.file_url);\n                if ((isBlob || !file.file_url) && file.file_path) {\n                    try {\n                        file.file_url = await this.getSignedUrl(file.file_path, 24 * 60 * 60);\n                    } catch (e) {\n                        console.error(\"Failed to sign gallery file path:\", file.file_path, e);\n                        // Set to null so UI can handle the error\n                        file.file_url = null;\n                    }\n                }\n                return file;\n            }));\n            const mergedData = {\n                ...profile,\n                ...technical,\n                ...social,\n                ...notes,\n                musicTracks,\n                galleryFiles\n            };\n            // Debug: Log what performance data is being returned after merge\n            console.log(`🔍 GCS getArtistData for ${artistId} - Final merged data:`, {\n                performance_order: mergedData.performance_order,\n                performance_status: mergedData.performance_status,\n                performance_date: mergedData.performance_date || mergedData.performanceDate,\n                rehearsal_completed: mergedData.rehearsal_completed\n            });\n            return mergedData;\n        } catch (error) {\n            console.error(\"Error getting artist data:\", error);\n            return null;\n        }\n    }\n    /**\r\n\t * Batch fetch multiple artists efficiently\r\n\t */ static async batchGetArtistData(artistIds) {\n        try {\n            // Batch all file reads for all artists\n            const allFileReads = artistIds.flatMap((artistId)=>[\n                    this.readJSON(`artists/${artistId}/profile.json`),\n                    this.readJSON(`artists/${artistId}/technical.json`),\n                    this.readJSON(`artists/${artistId}/social.json`),\n                    this.readJSON(`artists/${artistId}/notes.json`),\n                    this.readJSON(`artists/${artistId}/music.json`),\n                    this.readJSON(`artists/${artistId}/gallery.json`)\n                ]);\n            // Execute all reads in parallel\n            const allResults = await Promise.all(allFileReads);\n            // Process results for each artist\n            const artists = await Promise.all(artistIds.map(async (artistId, index)=>{\n                const baseIndex = index * 6;\n                const [profile, technical, social, notes, music, gallery] = allResults.slice(baseIndex, baseIndex + 6);\n                if (!profile) {\n                    return null;\n                }\n                // Process media files with lazy loading approach\n                const rawTracks = Array.isArray(music?.tracks) ? music.tracks : [];\n                const rawFiles = Array.isArray(gallery?.files) ? gallery.files : [];\n                // Only generate signed URLs for media that will be immediately visible\n                // For performance, we'll defer URL generation for gallery files\n                const musicTracks = await Promise.all(rawTracks.slice(0, 3).map(async (t)=>{\n                    // Only first 3 tracks\n                    const track = {\n                        ...t\n                    };\n                    if (this.isBlobUrl(track.file_url) && track.file_path) {\n                        try {\n                            track.file_url = await this.getSignedUrl(track.file_path, 24 * 60 * 60);\n                        } catch (e) {\n                            console.error(\"Failed to sign music track path:\", track.file_path, e);\n                            track.file_url = null;\n                        }\n                    }\n                    return track;\n                }));\n                // Add remaining tracks without URLs (lazy loading)\n                const remainingTracks = rawTracks.slice(3).map((t)=>({\n                        ...t,\n                        file_url: t.file_path ? null : t.file_url,\n                        needsUrl: !!t.file_path\n                    }));\n                // For gallery, only process first few images for preview\n                const galleryFiles = rawFiles.slice(0, 6).map((f)=>({\n                        ...f,\n                        url: f.file_path ? null : f.url,\n                        needsUrl: !!f.file_path\n                    }));\n                return {\n                    ...profile,\n                    ...technical,\n                    ...social,\n                    ...notes,\n                    musicTracks: [\n                        ...musicTracks,\n                        ...remainingTracks\n                    ],\n                    galleryFiles,\n                    totalMusicTracks: rawTracks.length,\n                    totalGalleryFiles: rawFiles.length\n                };\n            }));\n            return artists.filter((artist)=>artist !== null);\n        } catch (error) {\n            console.error(\"Error batch getting artist data:\", error);\n            return [];\n        }\n    }\n    /**\r\n\t * Lazy load media URLs for a specific artist\r\n\t */ static async loadArtistMediaUrls(artistId, mediaType, startIndex = 0, count = 10) {\n        try {\n            const mediaData = mediaType === \"music\" ? await this.readJSON(`artists/${artistId}/music.json`) : await this.readJSON(`artists/${artistId}/gallery.json`);\n            const items = mediaType === \"music\" ? Array.isArray(mediaData?.tracks) ? mediaData.tracks : [] : Array.isArray(mediaData?.files) ? mediaData.files : [];\n            const selectedItems = items.slice(startIndex, startIndex + count);\n            // Generate signed URLs for the requested items\n            const itemsWithUrls = await Promise.all(selectedItems.map(async (item)=>{\n                const urlField = mediaType === \"music\" ? \"file_url\" : \"url\";\n                const pathField = mediaType === \"music\" ? \"file_path\" : \"file_path\";\n                if (this.isBlobUrl(item[urlField]) && item[pathField]) {\n                    try {\n                        item[urlField] = await this.getSignedUrl(item[pathField], 24 * 60 * 60);\n                    } catch (e) {\n                        console.error(`Failed to sign ${mediaType} path:`, item[pathField], e);\n                        item[urlField] = null;\n                    }\n                }\n                return item;\n            }));\n            return itemsWithUrls;\n        } catch (error) {\n            console.error(`Error loading ${mediaType} URLs for artist ${artistId}:`, error);\n            return [];\n        }\n    }\n    /**\r\n\t * Get all artists for an event (simplified for demo)\r\n\t */ static async getEventArtists(eventId) {\n        try {\n            // For demo purposes, we'll return a sample artist if no real data exists\n            const sampleArtist = {\n                id: \"artist_1755011489205_xswjcvfdv\",\n                artistName: \"Water Festival Stage\",\n                realName: \"John Wick (Htoo Aung Wai)\",\n                email: \"john@gmail.com\",\n                phone: \"052 211 6024\",\n                style: \"Death Metal\",\n                performanceType: \"other\",\n                performanceDuration: 5,\n                biography: \"I like Death Metal.\",\n                costumeColor: \"red\",\n                lightColorSingle: \"blue\",\n                lightColorTwo: \"magenta\",\n                lightColorThree: \"amber\",\n                stagePositionStart: \"downstage-left\",\n                stagePositionEnd: \"left\",\n                socialMedia: {\n                    instagram: \"https://www.officeolympics.io\",\n                    facebook: \"https://www.officeolympics.io\",\n                    youtube: \"https://www.officeolympics.io\",\n                    tiktok: \"https://www.officeolympics.io\",\n                    website: \"https://www.officeolympics.io\"\n                },\n                eventId,\n                eventName: \"EDM Festival\",\n                status: \"pending\",\n                createdAt: \"2025-08-12T15:11:29.205Z\",\n                musicTracks: [\n                    {\n                        song_title: \"Metal\",\n                        duration: 2,\n                        notes: \"No one\",\n                        is_main_track: true,\n                        tempo: \"medium\"\n                    }\n                ],\n                galleryFiles: []\n            };\n            return [\n                sampleArtist\n            ];\n        } catch (error) {\n            console.error(\"Error getting event artists:\", error);\n            return [];\n        }\n    }\n    // ===== PERFORMANCE ORDER MANAGEMENT FUNCTIONS =====\n    /**\r\n\t * Save timing settings for an event\r\n\t */ static async saveTimingSettings(eventId, settings) {\n        try {\n            const timingData = {\n                eventId,\n                ...settings,\n                updated_at: settings.updated_at || new Date().toISOString()\n            };\n            await this.saveJSON(timingData, `events/${eventId}/timing-settings/settings.json`);\n            console.log(`Timing settings saved for event: ${eventId}`);\n        } catch (error) {\n            console.error(\"Error saving timing settings:\", error);\n            throw new Error(\"Failed to save timing settings to GCS\");\n        }\n    }\n    /**\r\n\t * Get timing settings for an event\r\n\t */ static async getTimingSettings(eventId) {\n        try {\n            const settings = await this.readJSON(`events/${eventId}/timing-settings/settings.json`);\n            console.log(`Timing settings retrieved for event: ${eventId}`);\n            return settings;\n        } catch (error) {\n            console.error(\"Error getting timing settings:\", error);\n            return null;\n        }\n    }\n    /**\r\n\t * Save a cue for a specific performance date\r\n\t */ static async saveCue(eventId, performanceDate, cue) {\n        try {\n            const cueData = {\n                ...cue,\n                eventId,\n                performanceDate,\n                created_at: cue.created_at || new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            };\n            await this.saveJSON(cueData, `events/${eventId}/cues/${performanceDate}/${cue.id}.json`);\n            console.log(`Cue saved: ${cue.id} for event: ${eventId}, date: ${performanceDate}`);\n        } catch (error) {\n            console.error(\"Error saving cue:\", error);\n            throw new Error(\"Failed to save cue to GCS\");\n        }\n    }\n    /**\r\n\t * Get all cues for a specific performance date\r\n\t */ static async getCues(eventId, performanceDate) {\n        try {\n            const prefix = `events/${eventId}/cues/${performanceDate}/`;\n            const fileNames = await this.listFiles(prefix);\n            const cues = await Promise.all(fileNames.map(async (fileName)=>{\n                return await this.readJSON(fileName);\n            }));\n            const validCues = cues.filter((cue)=>cue !== null);\n            console.log(`Retrieved ${validCues.length} cues for event: ${eventId}, date: ${performanceDate}`);\n            return validCues;\n        } catch (error) {\n            console.error(\"Error getting cues:\", error);\n            return [];\n        }\n    }\n    /**\r\n\t * Delete a cue\r\n\t */ static async deleteCue(eventId, performanceDate, cueId) {\n        try {\n            const path = `events/${eventId}/cues/${performanceDate}/${cueId}.json`;\n            await this.deleteFile(path);\n            console.log(`Cue deleted: ${cueId} for event: ${eventId}, date: ${performanceDate}`);\n        } catch (error) {\n            console.error(\"Error deleting cue:\", error);\n            throw new Error(\"Failed to delete cue from GCS\");\n        }\n    }\n    /**\r\n\t * Save show order for a specific performance date\r\n\t */ static async saveShowOrder(eventId, performanceDate, showOrderItems) {\n        try {\n            const showOrderData = {\n                eventId,\n                performanceDate,\n                items: showOrderItems,\n                updated_at: new Date().toISOString()\n            };\n            await this.saveJSON(showOrderData, `events/${eventId}/performance-orders/${performanceDate}/show-order.json`);\n            console.log(`Show order saved for event: ${eventId}, date: ${performanceDate}`);\n        } catch (error) {\n            console.error(\"Error saving show order:\", error);\n            throw new Error(\"Failed to save show order to GCS\");\n        }\n    }\n    /**\r\n\t * Get show order for a specific performance date\r\n\t */ static async getShowOrder(eventId, performanceDate) {\n        try {\n            const showOrder = await this.readJSON(`events/${eventId}/performance-orders/${performanceDate}/show-order.json`);\n            console.log(`Show order retrieved for event: ${eventId}, date: ${performanceDate}`);\n            return showOrder;\n        } catch (error) {\n            console.error(\"Error getting show order:\", error);\n            return null;\n        }\n    }\n    /**\r\n\t * Update artist performance status\r\n\t */ static async updateArtistPerformanceStatus(artistId, eventId, updates) {\n        try {\n            // Get current artist data\n            const currentData = await this.getArtistData(artistId);\n            if (!currentData) {\n                throw new Error(`Artist not found: ${artistId}`);\n            }\n            // Update the profile with new performance data\n            const updatedProfile = {\n                ...currentData,\n                ...updates,\n                // Ensure both field formats are updated\n                performanceDate: updates.performance_date || currentData.performanceDate,\n                performance_date: updates.performance_date || currentData.performance_date,\n                updatedAt: new Date().toISOString()\n            };\n            // Save updated profile\n            await this.saveJSON({\n                id: updatedProfile.id,\n                artistName: updatedProfile.artistName,\n                realName: updatedProfile.realName,\n                email: updatedProfile.email,\n                phone: updatedProfile.phone,\n                style: updatedProfile.style,\n                performanceType: updatedProfile.performanceType,\n                performanceDuration: updatedProfile.performanceDuration,\n                biography: updatedProfile.biography,\n                createdAt: updatedProfile.createdAt,\n                updatedAt: updatedProfile.updatedAt,\n                status: updatedProfile.status,\n                statusHistory: updatedProfile.statusHistory,\n                eventId: updatedProfile.eventId,\n                eventName: updatedProfile.eventName,\n                performanceDate: updates.performance_date || updatedProfile.performanceDate,\n                performance_date: updates.performance_date || updatedProfile.performance_date,\n                rehearsal_date: updatedProfile.rehearsal_date,\n                rehearsal_order: updatedProfile.rehearsal_order,\n                rehearsal_completed: updatedProfile.rehearsal_completed,\n                quality_rating: updatedProfile.quality_rating,\n                performance_status: updates.performance_status || updatedProfile.performance_status,\n                performance_order: updates.performance_order !== undefined ? updates.performance_order : updatedProfile.performance_order\n            }, `artists/${artistId}/profile.json`);\n            // Also update the event association\n            await this.saveJSON({\n                artistId: updatedProfile.id,\n                artistName: updatedProfile.artistName,\n                eventId: updatedProfile.eventId,\n                eventName: updatedProfile.eventName,\n                status: updatedProfile.status,\n                statusHistory: updatedProfile.statusHistory,\n                registrationDate: updatedProfile.createdAt,\n                updatedAt: updatedProfile.updatedAt,\n                performanceDate: updates.performance_date || updatedProfile.performanceDate,\n                performance_date: updates.performance_date || updatedProfile.performance_date,\n                performance_status: updates.performance_status || updatedProfile.performance_status,\n                performance_order: updates.performance_order !== undefined ? updates.performance_order : updatedProfile.performance_order\n            }, `events/${eventId}/artists/${artistId}.json`);\n            console.log(`Artist performance status updated: ${artistId}`);\n        } catch (error) {\n            console.error(\"Error updating artist performance status:\", error);\n            throw new Error(\"Failed to update artist performance status in GCS\");\n        }\n    }\n    // ===== ARTIST STATUS CACHING FUNCTIONS =====\n    /**\r\n\t * Save cache metadata for an event\r\n\t */ static async saveCacheMetadata(eventId, metadata) {\n        try {\n            await this.saveJSON(metadata, `events/${eventId}/artist-statuses/cache-metadata.json`);\n            console.log(`Cache metadata saved for event: ${eventId}`);\n        } catch (error) {\n            console.error(\"Error saving cache metadata:\", error);\n            throw new Error(\"Failed to save cache metadata to GCS\");\n        }\n    }\n    /**\r\n\t * Get cache metadata for an event\r\n\t */ static async getCacheMetadata(eventId) {\n        try {\n            const metadata = await this.readJSON(`events/${eventId}/artist-statuses/cache-metadata.json`);\n            return metadata;\n        } catch (error) {\n            console.error(\"Error getting cache metadata:\", error);\n            return null;\n        }\n    }\n    /**\r\n\t * Save current artist statuses for a performance date\r\n\t */ static async saveCurrentStatuses(eventId, performanceDate, statuses) {\n        try {\n            const statusData = {\n                eventId,\n                performanceDate,\n                statuses,\n                updated_at: new Date().toISOString(),\n                version: Date.now()\n            };\n            await this.saveJSON(statusData, `events/${eventId}/artist-statuses/${performanceDate}/current-statuses.json`);\n            console.log(`Current statuses saved for event: ${eventId}, date: ${performanceDate}`);\n        } catch (error) {\n            console.error(\"Error saving current statuses:\", error);\n            throw new Error(\"Failed to save current statuses to GCS\");\n        }\n    }\n    /**\r\n\t * Get current artist statuses for a performance date\r\n\t */ static async getCurrentStatuses(eventId, performanceDate) {\n        try {\n            const statusData = await this.readJSON(`events/${eventId}/artist-statuses/${performanceDate}/current-statuses.json`);\n            if (!statusData || !Array.isArray(statusData.statuses)) {\n                return [];\n            }\n            console.log(`Retrieved ${statusData.statuses.length} current statuses for event: ${eventId}, date: ${performanceDate}`);\n            return statusData.statuses;\n        } catch (error) {\n            console.error(\"Error getting current statuses:\", error);\n            return [];\n        }\n    }\n    /**\r\n\t * Log status update for audit trail\r\n\t */ static async logStatusUpdate(eventId, performanceDate, updateLog) {\n        try {\n            // Get existing log\n            const logPath = `events/${eventId}/artist-statuses/${performanceDate}/status-log.json`;\n            const existingLog = await this.readJSON(logPath) || {\n                updates: []\n            };\n            // Add new update\n            existingLog.updates.push(updateLog);\n            existingLog.updated_at = new Date().toISOString();\n            // Keep only last 1000 updates to prevent file from growing too large\n            if (existingLog.updates.length > 1000) {\n                existingLog.updates = existingLog.updates.slice(-1000);\n            }\n            await this.saveJSON(existingLog, logPath);\n            console.log(`Status update logged for artist: ${updateLog.artistId}`);\n        } catch (error) {\n            console.error(\"Error logging status update:\", error);\n        // Don't throw error for logging failures\n        }\n    }\n    /**\r\n\t * Get status update log for a performance date\r\n\t */ static async getStatusUpdateLog(eventId, performanceDate, limit) {\n        try {\n            const logData = await this.readJSON(`events/${eventId}/artist-statuses/${performanceDate}/status-log.json`);\n            if (!logData || !Array.isArray(logData.updates)) {\n                return [];\n            }\n            const updates = logData.updates;\n            return limit ? updates.slice(-limit) : updates;\n        } catch (error) {\n            console.error(\"Error getting status update log:\", error);\n            return [];\n        }\n    }\n    /**\r\n\t * Log conflict resolution for debugging\r\n\t */ static async logConflictResolution(eventId, conflictLog) {\n        try {\n            const timestamp = conflictLog.conflictTimestamp.replace(/[:.]/g, \"-\");\n            const logPath = `events/${eventId}/artist-statuses/conflict-resolution/${timestamp}-conflicts.json`;\n            await this.saveJSON(conflictLog, logPath);\n            console.log(`Conflict resolution logged for artist: ${conflictLog.artistId}`);\n        } catch (error) {\n            console.error(\"Error logging conflict resolution:\", error);\n        // Don't throw error for logging failures\n        }\n    }\n    /**\r\n\t * Batch save multiple artist statuses efficiently\r\n\t */ static async batchSaveStatuses(eventId, performanceDate, statuses, userId) {\n        try {\n            // Save current statuses\n            await this.saveCurrentStatuses(eventId, performanceDate, statuses);\n            // Log each status update\n            const updatePromises = statuses.map((status)=>{\n                const updateLog = {\n                    eventId,\n                    artistId: status.artistId,\n                    newStatus: status.performance_status,\n                    performance_order: status.performance_order,\n                    performance_date: status.performance_date,\n                    timestamp: status.timestamp,\n                    userId: userId || \"system\",\n                    source: \"api\",\n                    version: status.version\n                };\n                return this.logStatusUpdate(eventId, performanceDate, updateLog);\n            });\n            await Promise.all(updatePromises);\n            // Update cache metadata\n            const metadata = {\n                eventId,\n                version: Date.now(),\n                lastSync: new Date().toISOString(),\n                totalStatuses: statuses.length,\n                conflictCount: 0\n            };\n            await this.saveCacheMetadata(eventId, metadata);\n            console.log(`Batch saved ${statuses.length} statuses for event: ${eventId}`);\n        } catch (error) {\n            console.error(\"Error batch saving statuses:\", error);\n            throw new Error(\"Failed to batch save statuses to GCS\");\n        }\n    }\n    /**\r\n\t * Get artist status with timestamp-based conflict resolution\r\n\t */ static async getArtistStatusWithConflictResolution(artistId, eventId, localStatus) {\n        try {\n            // Get current artist data\n            const artistData = await this.getArtistData(artistId);\n            if (!artistData) {\n                return null;\n            }\n            // Convert to cached status format\n            const remoteStatus = {\n                artistId,\n                eventId,\n                performance_status: artistData.performance_status || \"not_started\",\n                performance_order: artistData.performance_order,\n                performance_date: artistData.performance_date || artistData.performanceDate,\n                timestamp: artistData.updatedAt || new Date().toISOString(),\n                version: 1,\n                dirty: false\n            };\n            // If no local status, return remote\n            if (!localStatus) {\n                return remoteStatus;\n            }\n            // Resolve conflicts using timestamps\n            const localTime = new Date(localStatus.timestamp).getTime();\n            const remoteTime = new Date(remoteStatus.timestamp).getTime();\n            if (remoteTime > localTime) {\n                // Remote is newer\n                return remoteStatus;\n            } else if (localTime > remoteTime) {\n                // Local is newer\n                return localStatus;\n            } else {\n                // Same timestamp, use version numbers\n                if (remoteStatus.version > localStatus.version) {\n                    return remoteStatus;\n                } else {\n                    return localStatus;\n                }\n            }\n        } catch (error) {\n            console.error(\"Error getting artist status with conflict resolution:\", error);\n            return localStatus || null;\n        }\n    }\n    /**\r\n\t * Cleanup old status logs and conflict resolution files\r\n\t */ static async cleanupOldStatusData(eventId, daysToKeep = 30) {\n        try {\n            const cutoffDate = new Date();\n            cutoffDate.setDate(cutoffDate.getDate() - daysToKeep);\n            const cutoffTimestamp = cutoffDate.toISOString();\n            // List all files in the artist-statuses directory\n            const prefix = `events/${eventId}/artist-statuses/`;\n            const files = await this.listFiles(prefix);\n            const deletePromises = files.filter((fileName)=>{\n                // Extract timestamp from filename if possible\n                const timestampMatch = fileName.match(/(\\d{4}-\\d{2}-\\d{2})/);\n                if (timestampMatch) {\n                    return timestampMatch[1] < cutoffTimestamp.substring(0, 10);\n                }\n                return false;\n            }).map((fileName)=>this.deleteFile(fileName));\n            await Promise.all(deletePromises);\n            console.log(`Cleaned up ${deletePromises.length} old status files for event: ${eventId}`);\n        } catch (error) {\n            console.error(\"Error cleaning up old status data:\", error);\n        // Don't throw error for cleanup failures\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GCSService);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ0M7WUFFbkMsTUFBTXdMLGlCQUFpQnZMLE1BQ3JCNkYsTUFBTSxDQUFDLENBQUNvQztnQkFDUiw4Q0FBOEM7Z0JBQzlDLE1BQU11RCxpQkFDTHZELFNBQVN3RCxLQUFLLENBQUM7Z0JBQ2hCLElBQUlELGdCQUFnQjtvQkFDbkIsT0FDQ0EsY0FBYyxDQUFDLEVBQUUsR0FBR0YsZ0JBQWdCSSxTQUFTLENBQUMsR0FBRztnQkFFbkQ7Z0JBQ0EsT0FBTztZQUNSLEdBQ0N2TCxHQUFHLENBQUMsQ0FBQzhILFdBQWEsSUFBSSxDQUFDNUgsVUFBVSxDQUFDNEg7WUFFcEMsTUFBTS9ELFFBQVFDLEdBQUcsQ0FBQ29IO1lBQ2xCcE8sUUFBUWtCLEdBQUcsQ0FDVixDQUFDLFdBQVcsRUFBRWtOLGVBQWVsTSxNQUFNLENBQUMsNkJBQTZCLEVBQUU0QixRQUFRLENBQUM7UUFFOUUsRUFBRSxPQUFPN0QsT0FBTztZQUNmRCxRQUFRQyxLQUFLLENBQUMsc0NBQXNDQTtRQUNwRCx5Q0FBeUM7UUFDMUM7SUFDRDtBQUNEO0FBRUEsaUVBQWVHLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2dvb2dsZS1jbG91ZC1zdG9yYWdlLnRzPzUxYzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RvcmFnZSB9IGZyb20gXCJAZ29vZ2xlLWNsb3VkL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHR5cGUgeyBBcnRpc3RQcm9maWxlIH0gZnJvbSBcIkAvbGliL3R5cGVzL2FydGlzdFwiO1xyXG5pbXBvcnQgdHlwZSB7IENhY2hlZEFydGlzdFN0YXR1cyB9IGZyb20gXCIuL2FydGlzdC1zdGF0dXMtY2FjaGVcIjtcclxuaW1wb3J0IHsgU2VydmljZUlzb2xhdGlvbiB9IGZyb20gXCIuL3NlcnZpY2UtaXNvbGF0aW9uXCI7XHJcbmltcG9ydCB7IGJ1aWxkTG9nZ2VyIH0gZnJvbSBcIi4vYnVpbGQtbG9nZ2VyXCI7XHJcbmltcG9ydCB7IGJ1aWxkRXJyb3JIYW5kbGVyIH0gZnJvbSBcIi4vYnVpbGQtZXJyb3ItaGFuZGxlclwiO1xyXG5cclxuLy8gUGVyZm9ybWFuY2UgT3JkZXIgVHlwZXNcclxuZXhwb3J0IGludGVyZmFjZSBUaW1pbmdTZXR0aW5ncyB7XHJcblx0ZXZlbnRJZDogc3RyaW5nO1xyXG5cdGJhY2tzdGFnZV9yZWFkeV90aW1lPzogc3RyaW5nO1xyXG5cdHNob3dfc3RhcnRfdGltZT86IHN0cmluZztcclxuXHR1cGRhdGVkX2F0OiBzdHJpbmc7XHJcblx0dXBkYXRlZF9ieT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDdWUge1xyXG5cdGlkOiBzdHJpbmc7XHJcblx0ZXZlbnRJZDogc3RyaW5nO1xyXG5cdHBlcmZvcm1hbmNlRGF0ZTogc3RyaW5nO1xyXG5cdHR5cGU6XHJcblx0XHR8IFwibWNfYnJlYWtcIlxyXG5cdFx0fCBcInZpZGVvX2JyZWFrXCJcclxuXHRcdHwgXCJjbGVhbmluZ19icmVha1wiXHJcblx0XHR8IFwic3BlZWNoX2JyZWFrXCJcclxuXHRcdHwgXCJvcGVuaW5nXCJcclxuXHRcdHwgXCJjb3VudGRvd25cIlxyXG5cdFx0fCBcImFydGlzdF9lbmRpbmdcIlxyXG5cdFx0fCBcImFuaW1hdGlvblwiO1xyXG5cdHRpdGxlOiBzdHJpbmc7XHJcblx0ZHVyYXRpb24/OiBudW1iZXI7XHJcblx0cGVyZm9ybWFuY2Vfb3JkZXI6IG51bWJlcjtcclxuXHRub3Rlcz86IHN0cmluZztcclxuXHRzdGFydF90aW1lPzogc3RyaW5nO1xyXG5cdGVuZF90aW1lPzogc3RyaW5nO1xyXG5cdGlzX2NvbXBsZXRlZD86IGJvb2xlYW47XHJcblx0Y29tcGxldGVkX2F0Pzogc3RyaW5nO1xyXG5cdGNyZWF0ZWRfYXQ6IHN0cmluZztcclxuXHR1cGRhdGVkX2F0OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2hvd09yZGVySXRlbSB7XHJcblx0aWQ6IHN0cmluZztcclxuXHR0eXBlOiBcImFydGlzdFwiIHwgXCJjdWVcIjtcclxuXHRhcnRpc3Q/OiBhbnk7XHJcblx0Y3VlPzogQ3VlO1xyXG5cdHBlcmZvcm1hbmNlX29yZGVyOiBudW1iZXI7XHJcblx0c3RhdHVzPzpcclxuXHRcdHwgXCJub3Rfc3RhcnRlZFwiXHJcblx0XHR8IFwibmV4dF9vbl9kZWNrXCJcclxuXHRcdHwgXCJuZXh0X29uX3N0YWdlXCJcclxuXHRcdHwgXCJjdXJyZW50bHlfb25fc3RhZ2VcIlxyXG5cdFx0fCBcImNvbXBsZXRlZFwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNob3dPcmRlckRhdGEge1xyXG5cdGV2ZW50SWQ6IHN0cmluZztcclxuXHRwZXJmb3JtYW5jZURhdGU6IHN0cmluZztcclxuXHRpdGVtczogU2hvd09yZGVySXRlbVtdO1xyXG5cdHVwZGF0ZWRfYXQ6IHN0cmluZztcclxuXHR1cGRhdGVkX2J5Pzogc3RyaW5nO1xyXG59XHJcblxyXG4vLyBBcnRpc3QgU3RhdHVzIENhY2hpbmcgVHlwZXNcclxuZXhwb3J0IGludGVyZmFjZSBTdGF0dXNDYWNoZU1ldGFkYXRhIHtcclxuXHRldmVudElkOiBzdHJpbmc7XHJcblx0dmVyc2lvbjogbnVtYmVyO1xyXG5cdGxhc3RTeW5jOiBzdHJpbmc7XHJcblx0dG90YWxTdGF0dXNlczogbnVtYmVyO1xyXG5cdGNvbmZsaWN0Q291bnQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGF0dXNVcGRhdGVMb2cge1xyXG5cdGV2ZW50SWQ6IHN0cmluZztcclxuXHRhcnRpc3RJZDogc3RyaW5nO1xyXG5cdHByZXZpb3VzU3RhdHVzPzogc3RyaW5nO1xyXG5cdG5ld1N0YXR1czogc3RyaW5nO1xyXG5cdHBlcmZvcm1hbmNlX29yZGVyPzogbnVtYmVyO1xyXG5cdHBlcmZvcm1hbmNlX2RhdGU/OiBzdHJpbmc7XHJcblx0dGltZXN0YW1wOiBzdHJpbmc7XHJcblx0dXNlcklkOiBzdHJpbmc7XHJcblx0c291cmNlOiBcInVpXCIgfCBcImFwaVwiIHwgXCJzeW5jXCI7XHJcblx0dmVyc2lvbjogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbmZsaWN0UmVzb2x1dGlvbkxvZyB7XHJcblx0ZXZlbnRJZDogc3RyaW5nO1xyXG5cdGFydGlzdElkOiBzdHJpbmc7XHJcblx0Y29uZmxpY3RUaW1lc3RhbXA6IHN0cmluZztcclxuXHRsb2NhbFN0YXR1czogQ2FjaGVkQXJ0aXN0U3RhdHVzO1xyXG5cdHJlbW90ZVN0YXR1czogQ2FjaGVkQXJ0aXN0U3RhdHVzO1xyXG5cdHJlc29sdmVkU3RhdHVzOiBDYWNoZWRBcnRpc3RTdGF0dXM7XHJcblx0c3RyYXRlZ3k6IFwidGltZXN0YW1wXCIgfCBcInZlcnNpb25cIiB8IFwibWFudWFsXCI7XHJcblx0cmVzb2x2ZWRCeT86IHN0cmluZztcclxufVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBHb29nbGUgQ2xvdWQgU3RvcmFnZVxyXG5sZXQgc3RvcmFnZTogU3RvcmFnZSB8IG51bGwgPSBudWxsO1xyXG5sZXQgYnVja2V0OiBhbnkgPSBudWxsO1xyXG5jb25zdCBidWNrZXROYW1lID0gcHJvY2Vzcy5lbnYuR09PR0xFX0NMT1VEX0JVQ0tFVF9OQU1FIHx8IFwiZmFtZS1kYXRhXCI7XHJcblxyXG4vLyBJbml0aWFsaXplIEdvb2dsZSBDbG91ZCBTdG9yYWdlIG9ubHkgYXQgcnVudGltZVxyXG5mdW5jdGlvbiBpbml0aWFsaXplR0NTKCkge1xyXG5cdGlmICghU2VydmljZUlzb2xhdGlvbi5pc1NlcnZpY2VFbmFibGVkKFwiZ29vZ2xlLWNsb3VkLXN0b3JhZ2VcIikpIHtcclxuXHRcdGJ1aWxkTG9nZ2VyLnNlcnZpY2VTdGF0dXMoXHJcblx0XHRcdFwiZ29vZ2xlLWNsb3VkLXN0b3JhZ2VcIixcclxuXHRcdFx0XCJkaXNhYmxlZFwiLFxyXG5cdFx0XHRcIlNlcnZpY2UgaXNvbGF0aW9uIGFjdGl2ZVwiXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0aWYgKHN0b3JhZ2UgJiYgYnVja2V0KSB7XHJcblx0XHRyZXR1cm4gdHJ1ZTsgLy8gQWxyZWFkeSBpbml0aWFsaXplZFxyXG5cdH1cclxuXHJcblx0dHJ5IHtcclxuXHRcdC8vIFRyeSBkaWZmZXJlbnQgYXV0aGVudGljYXRpb24gbWV0aG9kc1xyXG5cdFx0aWYgKHByb2Nlc3MuZW52LkdPT0dMRV9DTE9VRF9QUk9KRUNUX0lEKSB7XHJcblx0XHRcdGNvbnN0IHN0b3JhZ2VDb25maWc6IGFueSA9IHtcclxuXHRcdFx0XHRwcm9qZWN0SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTE9VRF9QUk9KRUNUX0lELFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gVXNlIGtleSBmaWxlIGlmIHByb3ZpZGVkXHJcblx0XHRcdGlmIChwcm9jZXNzLmVudi5HT09HTEVfQ0xPVURfS0VZX0ZJTEUpIHtcclxuXHRcdFx0XHRzdG9yYWdlQ29uZmlnLmtleUZpbGVuYW1lID0gcHJvY2Vzcy5lbnYuR09PR0xFX0NMT1VEX0tFWV9GSUxFO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIFVzZSBzZXJ2aWNlIGFjY291bnQga2V5IGlmIHByb3ZpZGVkIGFzIEpTT04gc3RyaW5nXHJcblx0XHRcdGVsc2UgaWYgKHByb2Nlc3MuZW52LkdPT0dMRV9DTE9VRF9DUkVERU5USUFMUykge1xyXG5cdFx0XHRcdHN0b3JhZ2VDb25maWcuY3JlZGVudGlhbHMgPSBKU09OLnBhcnNlKFxyXG5cdFx0XHRcdFx0cHJvY2Vzcy5lbnYuR09PR0xFX0NMT1VEX0NSRURFTlRJQUxTXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c3RvcmFnZSA9IG5ldyBTdG9yYWdlKHN0b3JhZ2VDb25maWcpO1xyXG5cdFx0XHRidWNrZXQgPSBzdG9yYWdlLmJ1Y2tldChidWNrZXROYW1lKTtcclxuXHRcdFx0YnVpbGRMb2dnZXIuc2VydmljZVN0YXR1cyhcclxuXHRcdFx0XHRcImdvb2dsZS1jbG91ZC1zdG9yYWdlXCIsXHJcblx0XHRcdFx0XCJlbmFibGVkXCIsXHJcblx0XHRcdFx0YEluaXRpYWxpemVkIHdpdGggYnVja2V0OiAke2J1Y2tldE5hbWV9YCxcclxuXHRcdFx0XHR7IGJ1Y2tldE5hbWUgfVxyXG5cdFx0XHQpO1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXHJcblx0XHRcdFx0XCJHb29nbGUgQ2xvdWQgU3RvcmFnZSBub3QgY29uZmlndXJlZDogTWlzc2luZyBHT09HTEVfQ0xPVURfUFJPSkVDVF9JRFwiXHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIEdvb2dsZSBDbG91ZCBTdG9yYWdlOlwiLCBlcnJvcik7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVVcGxvYWRSZXN1bHQge1xyXG5cdHVybDogc3RyaW5nO1xyXG5cdGZpbGVuYW1lOiBzdHJpbmc7XHJcblx0c2l6ZTogbnVtYmVyO1xyXG5cdGNvbnRlbnRUeXBlOiBzdHJpbmc7XHJcblx0Z2NzUGF0aDogc3RyaW5nO1xyXG59XHJcblxyXG4vLyBTaWduZWQgVVJMIGNhY2hlIHdpdGggVFRMXHJcbmludGVyZmFjZSBDYWNoZWRTaWduZWRVcmwge1xyXG5cdHVybDogc3RyaW5nO1xyXG5cdGV4cGlyZXNBdDogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBzaWduZWRVcmxDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBDYWNoZWRTaWduZWRVcmw+KCk7XHJcblxyXG5leHBvcnQgY2xhc3MgR0NTU2VydmljZSB7XHJcblx0LyoqXHJcblx0ICogQ2hlY2sgaWYgYSBVUkwgaXMgYSBibG9iIFVSTCB0aGF0IG5lZWRzIHRvIGJlIHJlcGxhY2VkXHJcblx0ICovXHJcblx0c3RhdGljIGlzQmxvYlVybCh1cmw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0dHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIiAmJlxyXG5cdFx0XHQodXJsLnN0YXJ0c1dpdGgoXCJibG9iOlwiKSB8fCB1cmwgPT09IFwiXCIgfHwgIXVybClcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhciBleHBpcmVkIGVudHJpZXMgZnJvbSB0aGUgc2lnbmVkIFVSTCBjYWNoZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBjbGVhckV4cGlyZWRDYWNoZSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcblx0XHRmb3IgKGNvbnN0IFtrZXksIGNhY2hlZF0gb2Ygc2lnbmVkVXJsQ2FjaGUuZW50cmllcygpKSB7XHJcblx0XHRcdGlmIChjYWNoZWQuZXhwaXJlc0F0IDw9IG5vdykge1xyXG5cdFx0XHRcdHNpZ25lZFVybENhY2hlLmRlbGV0ZShrZXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBhIGZpbGUgZXhpc3RzIGluIEdvb2dsZSBDbG91ZCBTdG9yYWdlXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIGZpbGVFeGlzdHMocGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIWluaXRpYWxpemVHQ1MoKSB8fCAhYnVja2V0KSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0XHRgR0NTIG5vdCBhdmFpbGFibGUsIHJldHVybmluZyBmYWxzZSBmb3IgZmlsZSBleGlzdHMgY2hlY2s6ICR7cGF0aH1gXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgZ2NzRmlsZSA9IGJ1Y2tldC5maWxlKHBhdGgpO1xyXG5cdFx0XHRjb25zdCBbZXhpc3RzXSA9IGF3YWl0IGdjc0ZpbGUuZXhpc3RzKCk7XHJcblx0XHRcdHJldHVybiBleGlzdHM7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBpZiBmaWxlIGV4aXN0czogJHtwYXRofWAsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBsb2FkIGEgZmlsZSB0byBHb29nbGUgQ2xvdWQgU3RvcmFnZSB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIHVwbG9hZEZpbGUoXHJcblx0XHRmaWxlOiBCdWZmZXIsXHJcblx0XHRmaWxlbmFtZTogc3RyaW5nLFxyXG5cdFx0Zm9sZGVyOiBzdHJpbmcsXHJcblx0XHRjb250ZW50VHlwZTogc3RyaW5nXHJcblx0KTogUHJvbWlzZTxGaWxlVXBsb2FkUmVzdWx0PiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIWJ1Y2tldCkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkdvb2dsZSBDbG91ZCBTdG9yYWdlIG5vdCBpbml0aWFsaXplZFwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgZ2NzUGF0aCA9IGAke2ZvbGRlcn0vJHtmaWxlbmFtZX1gO1xyXG5cdFx0XHRjb25zdCBnY3NGaWxlID0gYnVja2V0LmZpbGUoZ2NzUGF0aCk7XHJcblxyXG5cdFx0XHRhd2FpdCBnY3NGaWxlLnNhdmUoZmlsZSwge1xyXG5cdFx0XHRcdG1ldGFkYXRhOiB7XHJcblx0XHRcdFx0XHRjb250ZW50VHlwZSxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHB1YmxpYzogZmFsc2UsXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gR2VuZXJhdGUgaW5pdGlhbCBzaWduZWQgVVJMIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nXHJcblx0XHRcdGNvbnN0IHNpZ25lZFVybCA9IGF3YWl0IHRoaXMuZ2V0U2lnbmVkVXJsKGdjc1BhdGgsIDI0ICogNjAgKiA2MCk7XHJcblxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHVybDogc2lnbmVkVXJsLFxyXG5cdFx0XHRcdGZpbGVuYW1lLFxyXG5cdFx0XHRcdHNpemU6IGZpbGUubGVuZ3RoLFxyXG5cdFx0XHRcdGNvbnRlbnRUeXBlLFxyXG5cdFx0XHRcdGdjc1BhdGgsIC8vIFN0b3JlIHRoZSBwYXRoIGZvciBmdXR1cmUgVVJMIGdlbmVyYXRpb25cclxuXHRcdFx0fTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXHJcblx0XHRcdFx0XCJFcnJvciB1cGxvYWRpbmcgZmlsZSB0byBHb29nbGUgQ2xvdWQgU3RvcmFnZTpcIixcclxuXHRcdFx0XHRlcnJvclxyXG5cdFx0XHQpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdXBsb2FkIGZpbGUgdG8gR29vZ2xlIENsb3VkIFN0b3JhZ2VcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTYXZlIEpTT04gZGF0YSB0byBHb29nbGUgQ2xvdWQgU3RvcmFnZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyBzYXZlSlNPTihkYXRhOiBhbnksIHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKCFpbml0aWFsaXplR0NTKCkgfHwgIWJ1Y2tldCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGBHQ1Mgbm90IGF2YWlsYWJsZSwgc2tpcHBpbmcgSlNPTiBzYXZlOiAke3BhdGh9YCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBqc29uRGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpO1xyXG5cdFx0XHRjb25zdCBnY3NGaWxlID0gYnVja2V0LmZpbGUocGF0aCk7XHJcblxyXG5cdFx0XHRhd2FpdCBnY3NGaWxlLnNhdmUoanNvbkRhdGEsIHtcclxuXHRcdFx0XHRtZXRhZGF0YToge1xyXG5cdFx0XHRcdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29uc29sZS5sb2coYEpTT04gZGF0YSBzYXZlZCB0byBHQ1M6ICR7cGF0aH1gKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgSlNPTiB0byBHb29nbGUgQ2xvdWQgU3RvcmFnZTpcIiwgZXJyb3IpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBkYXRhIHRvIEdvb2dsZSBDbG91ZCBTdG9yYWdlXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVhZCBKU09OIGRhdGEgZnJvbSBHb29nbGUgQ2xvdWQgU3RvcmFnZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyByZWFkSlNPTihwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKCFpbml0aWFsaXplR0NTKCkgfHwgIWJ1Y2tldCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdFx0YEdDUyBub3QgYXZhaWxhYmxlLCByZXR1cm5pbmcgbnVsbCBmb3IgSlNPTiByZWFkOiAke3BhdGh9YFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGdjc0ZpbGUgPSBidWNrZXQuZmlsZShwYXRoKTtcclxuXHRcdFx0Y29uc3QgW2V4aXN0c10gPSBhd2FpdCBnY3NGaWxlLmV4aXN0cygpO1xyXG5cclxuXHRcdFx0aWYgKCFleGlzdHMpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhgRmlsZSBub3QgZm91bmQgaW4gR0NTOiAke3BhdGh9YCk7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IFtjb250ZW50c10gPSBhd2FpdCBnY3NGaWxlLmRvd25sb2FkKCk7XHJcblx0XHRcdGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnRzLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhgSlNPTiBkYXRhIHJlYWQgZnJvbSBHQ1M6ICR7cGF0aH1gKTtcclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFxyXG5cdFx0XHRcdFwiRXJyb3IgcmVhZGluZyBKU09OIGZyb20gR29vZ2xlIENsb3VkIFN0b3JhZ2U6XCIsXHJcblx0XHRcdFx0ZXJyb3JcclxuXHRcdFx0KTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMaXN0IGZpbGVzIGluIGEgZm9sZGVyXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIGxpc3RGaWxlcyhwcmVmaXg6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmICghYnVja2V0KSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiR29vZ2xlIENsb3VkIFN0b3JhZ2Ugbm90IGluaXRpYWxpemVkXCIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBbZmlsZXNdID0gYXdhaXQgYnVja2V0LmdldEZpbGVzKHsgcHJlZml4IH0pO1xyXG5cdFx0XHRjb25zdCBmaWxlTmFtZXMgPSBmaWxlcy5tYXAoKGZpbGU6IGFueSkgPT4gZmlsZS5uYW1lKTtcclxuXHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0YExpc3RlZCAke2ZpbGVOYW1lcy5sZW5ndGh9IGZpbGVzIGZyb20gR0NTIHdpdGggcHJlZml4OiAke3ByZWZpeH1gXHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiBmaWxlTmFtZXM7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFxyXG5cdFx0XHRcdFwiRXJyb3IgbGlzdGluZyBmaWxlcyBmcm9tIEdvb2dsZSBDbG91ZCBTdG9yYWdlOlwiLFxyXG5cdFx0XHRcdGVycm9yXHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERlbGV0ZSBhIGZpbGUgZnJvbSBHb29nbGUgQ2xvdWQgU3RvcmFnZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyBkZWxldGVGaWxlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKCFidWNrZXQpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJHb29nbGUgQ2xvdWQgU3RvcmFnZSBub3QgaW5pdGlhbGl6ZWRcIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGdjc0ZpbGUgPSBidWNrZXQuZmlsZShwYXRoKTtcclxuXHRcdFx0YXdhaXQgZ2NzRmlsZS5kZWxldGUoKTtcclxuXHRcdFx0Y29uc29sZS5sb2coYEZpbGUgZGVsZXRlZCBmcm9tIEdDUzogJHtwYXRofWApO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XHRcIkVycm9yIGRlbGV0aW5nIGZpbGUgZnJvbSBHb29nbGUgQ2xvdWQgU3RvcmFnZTpcIixcclxuXHRcdFx0XHRlcnJvclxyXG5cdFx0XHQpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVsZXRlIGZpbGUgZnJvbSBHb29nbGUgQ2xvdWQgU3RvcmFnZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBzaWduZWQgVVJMIGZvciBmaWxlIGFjY2VzcyB3aXRoIGNhY2hpbmdcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgZ2V0U2lnbmVkVXJsKFxyXG5cdFx0cGF0aDogc3RyaW5nLFxyXG5cdFx0ZXhwaXJlc0luOiBudW1iZXIgPSAzNjAwXHJcblx0KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmICghYnVja2V0KSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiR29vZ2xlIENsb3VkIFN0b3JhZ2Ugbm90IGluaXRpYWxpemVkXCIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDbGVhbiB1cCBleHBpcmVkIGNhY2hlIGVudHJpZXMgcGVyaW9kaWNhbGx5XHJcblx0XHRcdHRoaXMuY2xlYXJFeHBpcmVkQ2FjaGUoKTtcclxuXHJcblx0XHRcdC8vIENoZWNrIGNhY2hlIGZpcnN0ICh3aXRoIDUtbWludXRlIGJ1ZmZlciBiZWZvcmUgZXhwaXJhdGlvbilcclxuXHRcdFx0Y29uc3QgY2FjaGVLZXkgPSBgJHtwYXRofToke2V4cGlyZXNJbn1gO1xyXG5cdFx0XHRjb25zdCBjYWNoZWQgPSBzaWduZWRVcmxDYWNoZS5nZXQoY2FjaGVLZXkpO1xyXG5cdFx0XHRjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuXHRcdFx0aWYgKGNhY2hlZCAmJiBjYWNoZWQuZXhwaXJlc0F0ID4gbm93ICsgNSAqIDYwICogMTAwMCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGBVc2luZyBjYWNoZWQgc2lnbmVkIFVSTCBmb3IgR0NTIGZpbGU6ICR7cGF0aH1gKTtcclxuXHRcdFx0XHRyZXR1cm4gY2FjaGVkLnVybDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gR2VuZXJhdGUgbmV3IHNpZ25lZCBVUkxcclxuXHRcdFx0Y29uc3QgZ2NzRmlsZSA9IGJ1Y2tldC5maWxlKHBhdGgpO1xyXG5cdFx0XHRjb25zdCBleHBpcmF0aW9uVGltZSA9IERhdGUubm93KCkgKyBleHBpcmVzSW4gKiAxMDAwO1xyXG5cdFx0XHRjb25zdCBbc2lnbmVkVXJsXSA9IGF3YWl0IGdjc0ZpbGUuZ2V0U2lnbmVkVXJsKHtcclxuXHRcdFx0XHRhY3Rpb246IFwicmVhZFwiLFxyXG5cdFx0XHRcdGV4cGlyZXM6IGV4cGlyYXRpb25UaW1lLFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIENhY2hlIHRoZSBVUkwgKGV4cGlyZXMgNSBtaW51dGVzIGJlZm9yZSBhY3R1YWwgZXhwaXJhdGlvbiBmb3Igc2FmZXR5KVxyXG5cdFx0XHRzaWduZWRVcmxDYWNoZS5zZXQoY2FjaGVLZXksIHtcclxuXHRcdFx0XHR1cmw6IHNpZ25lZFVybCxcclxuXHRcdFx0XHRleHBpcmVzQXQ6IGV4cGlyYXRpb25UaW1lIC0gNSAqIDYwICogMTAwMCxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRgR2VuZXJhdGVkIGFuZCBjYWNoZWQgc2lnbmVkIFVSTCBmb3IgR0NTIGZpbGU6ICR7cGF0aH1gXHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiBzaWduZWRVcmw7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFxyXG5cdFx0XHRcdFwiRXJyb3IgZ2VuZXJhdGluZyBzaWduZWQgVVJMIGZvciBHb29nbGUgQ2xvdWQgU3RvcmFnZTpcIixcclxuXHRcdFx0XHRlcnJvclxyXG5cdFx0XHQpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXHJcblx0XHRcdFx0XCJGYWlsZWQgdG8gZ2VuZXJhdGUgc2lnbmVkIFVSTCBmcm9tIEdvb2dsZSBDbG91ZCBTdG9yYWdlXCJcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNhdmUgYXJ0aXN0IGRhdGEgaW4gb3JnYW5pemVkIGZvbGRlciBzdHJ1Y3R1cmVcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgc2F2ZUFydGlzdERhdGEoYXJ0aXN0RGF0YTogQXJ0aXN0UHJvZmlsZSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgYXJ0aXN0SWQgPSBhcnRpc3REYXRhLmlkO1xyXG5cdFx0Y29uc3QgZXZlbnRJZCA9IGFydGlzdERhdGEuZXZlbnRJZDtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBEZWJ1ZzogTG9nIHdoYXQgcGVyZm9ybWFuY2UgZGF0YSBpcyBiZWluZyBzYXZlZFxyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRg8J+UpyBHQ1Mgc2F2ZUFydGlzdERhdGEgZm9yICR7YXJ0aXN0SWR9IC0gUGVyZm9ybWFuY2UgZmllbGRzOmAsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2Vfb3JkZXI6IChhcnRpc3REYXRhIGFzIGFueSkucGVyZm9ybWFuY2Vfb3JkZXIsXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9zdGF0dXM6IChhcnRpc3REYXRhIGFzIGFueSkucGVyZm9ybWFuY2Vfc3RhdHVzLFxyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2VfZGF0ZTpcclxuXHRcdFx0XHRcdFx0YXJ0aXN0RGF0YS5wZXJmb3JtYW5jZV9kYXRlIHx8XHJcblx0XHRcdFx0XHRcdGFydGlzdERhdGEucGVyZm9ybWFuY2VEYXRlLFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIFNhdmUgbWFpbiBwcm9maWxlIGRhdGFcclxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlSlNPTihcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRpZDogYXJ0aXN0RGF0YS5pZCxcclxuXHRcdFx0XHRcdGFydGlzdE5hbWU6IGFydGlzdERhdGEuYXJ0aXN0TmFtZSxcclxuXHRcdFx0XHRcdHJlYWxOYW1lOiBhcnRpc3REYXRhLnJlYWxOYW1lLFxyXG5cdFx0XHRcdFx0ZW1haWw6IGFydGlzdERhdGEuZW1haWwsXHJcblx0XHRcdFx0XHRwaG9uZTogYXJ0aXN0RGF0YS5waG9uZSxcclxuXHRcdFx0XHRcdHN0eWxlOiBhcnRpc3REYXRhLnN0eWxlLFxyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2VUeXBlOiBhcnRpc3REYXRhLnBlcmZvcm1hbmNlVHlwZSxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlRHVyYXRpb246IGFydGlzdERhdGEucGVyZm9ybWFuY2VEdXJhdGlvbixcclxuXHRcdFx0XHRcdGJpb2dyYXBoeTogYXJ0aXN0RGF0YS5iaW9ncmFwaHksXHJcblx0XHRcdFx0XHRjcmVhdGVkQXQ6IGFydGlzdERhdGEuY3JlYXRlZEF0LFxyXG5cdFx0XHRcdFx0dXBkYXRlZEF0OiBhcnRpc3REYXRhLnVwZGF0ZWRBdCxcclxuXHRcdFx0XHRcdHN0YXR1czogYXJ0aXN0RGF0YS5zdGF0dXMsXHJcblx0XHRcdFx0XHRzdGF0dXNIaXN0b3J5OiBhcnRpc3REYXRhLnN0YXR1c0hpc3RvcnksXHJcblx0XHRcdFx0XHRldmVudElkOiBhcnRpc3REYXRhLmV2ZW50SWQsXHJcblx0XHRcdFx0XHRldmVudE5hbWU6IGFydGlzdERhdGEuZXZlbnROYW1lLFxyXG5cdFx0XHRcdFx0Ly8gUGVyZm9ybWFuY2UgYXNzaWdubWVudCBmaWVsZHMgLSBzdXBwb3J0IGJvdGggZm9ybWF0c1xyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2VEYXRlOlxyXG5cdFx0XHRcdFx0XHRhcnRpc3REYXRhLnBlcmZvcm1hbmNlRGF0ZSB8fFxyXG5cdFx0XHRcdFx0XHRhcnRpc3REYXRhLnBlcmZvcm1hbmNlX2RhdGUsXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9kYXRlOlxyXG5cdFx0XHRcdFx0XHRhcnRpc3REYXRhLnBlcmZvcm1hbmNlX2RhdGUgfHxcclxuXHRcdFx0XHRcdFx0YXJ0aXN0RGF0YS5wZXJmb3JtYW5jZURhdGUsXHJcblx0XHRcdFx0XHQvLyBQZXJmb3JtYW5jZSBvcmRlciBhbmQgc3RhdHVzIGZpZWxkc1xyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2Vfb3JkZXI6XHJcblx0XHRcdFx0XHRcdChhcnRpc3REYXRhIGFzIGFueSkucGVyZm9ybWFuY2Vfb3JkZXIgIT09IHVuZGVmaW5lZFxyXG5cdFx0XHRcdFx0XHRcdD8gKGFydGlzdERhdGEgYXMgYW55KS5wZXJmb3JtYW5jZV9vcmRlclxyXG5cdFx0XHRcdFx0XHRcdDogbnVsbCxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlX3N0YXR1czpcclxuXHRcdFx0XHRcdFx0KGFydGlzdERhdGEgYXMgYW55KS5wZXJmb3JtYW5jZV9zdGF0dXMgfHwgbnVsbCxcclxuXHRcdFx0XHRcdC8vIFJlaGVhcnNhbCBzY2hlZHVsaW5nIGZpZWxkc1xyXG5cdFx0XHRcdFx0cmVoZWFyc2FsX2RhdGU6IChhcnRpc3REYXRhIGFzIGFueSkucmVoZWFyc2FsX2RhdGUgfHwgbnVsbCxcclxuXHRcdFx0XHRcdHJlaGVhcnNhbF9vcmRlcjpcclxuXHRcdFx0XHRcdFx0KGFydGlzdERhdGEgYXMgYW55KS5yZWhlYXJzYWxfb3JkZXIgfHwgbnVsbCxcclxuXHRcdFx0XHRcdHJlaGVhcnNhbF9jb21wbGV0ZWQ6XHJcblx0XHRcdFx0XHRcdChhcnRpc3REYXRhIGFzIGFueSkucmVoZWFyc2FsX2NvbXBsZXRlZCB8fCBmYWxzZSxcclxuXHRcdFx0XHRcdHF1YWxpdHlfcmF0aW5nOiAoYXJ0aXN0RGF0YSBhcyBhbnkpLnF1YWxpdHlfcmF0aW5nIHx8IG51bGwsXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRgYXJ0aXN0cy8ke2FydGlzdElkfS9wcm9maWxlLmpzb25gXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBTYXZlIHRlY2huaWNhbCBzcGVjaWZpY2F0aW9uc1xyXG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVKU09OKFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGNvc3R1bWVDb2xvcjogYXJ0aXN0RGF0YS5jb3N0dW1lQ29sb3IsXHJcblx0XHRcdFx0XHRjdXN0b21Db3N0dW1lQ29sb3I6IGFydGlzdERhdGEuY3VzdG9tQ29zdHVtZUNvbG9yLFxyXG5cdFx0XHRcdFx0bGlnaHRDb2xvclNpbmdsZTogYXJ0aXN0RGF0YS5saWdodENvbG9yU2luZ2xlLFxyXG5cdFx0XHRcdFx0bGlnaHRDb2xvclR3bzogYXJ0aXN0RGF0YS5saWdodENvbG9yVHdvLFxyXG5cdFx0XHRcdFx0bGlnaHRDb2xvclRocmVlOiBhcnRpc3REYXRhLmxpZ2h0Q29sb3JUaHJlZSxcclxuXHRcdFx0XHRcdGxpZ2h0UmVxdWVzdHM6IGFydGlzdERhdGEubGlnaHRSZXF1ZXN0cyxcclxuXHRcdFx0XHRcdHN0YWdlUG9zaXRpb25TdGFydDogYXJ0aXN0RGF0YS5zdGFnZVBvc2l0aW9uU3RhcnQsXHJcblx0XHRcdFx0XHRzdGFnZVBvc2l0aW9uRW5kOiBhcnRpc3REYXRhLnN0YWdlUG9zaXRpb25FbmQsXHJcblx0XHRcdFx0XHRjdXN0b21TdGFnZVBvc2l0aW9uOiBhcnRpc3REYXRhLmN1c3RvbVN0YWdlUG9zaXRpb24sXHJcblx0XHRcdFx0XHRlcXVpcG1lbnQ6IGFydGlzdERhdGEuZXF1aXBtZW50LFxyXG5cdFx0XHRcdFx0c3BlY2lhbFJlcXVpcmVtZW50czogYXJ0aXN0RGF0YS5zcGVjaWFsUmVxdWlyZW1lbnRzLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0YGFydGlzdHMvJHthcnRpc3RJZH0vdGVjaG5pY2FsLmpzb25gXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBTYXZlIHNvY2lhbCBtZWRpYSBhbmQgbGlua3NcclxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlSlNPTihcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRzb2NpYWxNZWRpYTogYXJ0aXN0RGF0YS5zb2NpYWxNZWRpYSxcclxuXHRcdFx0XHRcdHNob3dMaW5rOiBhcnRpc3REYXRhLnNob3dMaW5rLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0YGFydGlzdHMvJHthcnRpc3RJZH0vc29jaWFsLmpzb25gXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBTYXZlIG5vdGVzIGFuZCBjb21tdW5pY2F0aW9uc1xyXG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVKU09OKFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdG1jTm90ZXM6IGFydGlzdERhdGEubWNOb3RlcyxcclxuXHRcdFx0XHRcdHN0YWdlTWFuYWdlck5vdGVzOiBhcnRpc3REYXRhLnN0YWdlTWFuYWdlck5vdGVzLFxyXG5cdFx0XHRcdFx0bm90ZXM6IGFydGlzdERhdGEubm90ZXMsXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRgYXJ0aXN0cy8ke2FydGlzdElkfS9ub3Rlcy5qc29uYFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gU2F2ZSBtdXNpYyB0cmFja3MgbWV0YWRhdGFcclxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlSlNPTihcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHR0cmFja3M6IGFydGlzdERhdGEubXVzaWNUcmFja3MgfHwgW10sXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRgYXJ0aXN0cy8ke2FydGlzdElkfS9tdXNpYy5qc29uYFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gU2F2ZSBnYWxsZXJ5IG1ldGFkYXRhXHJcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZUpTT04oXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZmlsZXM6IGFydGlzdERhdGEuZ2FsbGVyeUZpbGVzIHx8IFtdLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0YGFydGlzdHMvJHthcnRpc3RJZH0vZ2FsbGVyeS5qc29uYFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gU2F2ZSBldmVudCBhc3NvY2lhdGlvblxyXG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVKU09OKFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFydGlzdElkOiBhcnRpc3REYXRhLmlkLFxyXG5cdFx0XHRcdFx0YXJ0aXN0TmFtZTogYXJ0aXN0RGF0YS5hcnRpc3ROYW1lLFxyXG5cdFx0XHRcdFx0ZXZlbnRJZDogYXJ0aXN0RGF0YS5ldmVudElkLFxyXG5cdFx0XHRcdFx0ZXZlbnROYW1lOiBhcnRpc3REYXRhLmV2ZW50TmFtZSxcclxuXHRcdFx0XHRcdHN0YXR1czogYXJ0aXN0RGF0YS5zdGF0dXMsXHJcblx0XHRcdFx0XHRzdGF0dXNIaXN0b3J5OiBhcnRpc3REYXRhLnN0YXR1c0hpc3RvcnksXHJcblx0XHRcdFx0XHRyZWdpc3RyYXRpb25EYXRlOiBhcnRpc3REYXRhLmNyZWF0ZWRBdCxcclxuXHRcdFx0XHRcdHVwZGF0ZWRBdDogYXJ0aXN0RGF0YS51cGRhdGVkQXQsXHJcblx0XHRcdFx0XHQvLyBQZXJmb3JtYW5jZSBhc3NpZ25tZW50IGZpZWxkcyAtIHN1cHBvcnQgYm90aCBmb3JtYXRzXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZURhdGU6XHJcblx0XHRcdFx0XHRcdGFydGlzdERhdGEucGVyZm9ybWFuY2VEYXRlIHx8XHJcblx0XHRcdFx0XHRcdGFydGlzdERhdGEucGVyZm9ybWFuY2VfZGF0ZSxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlX2RhdGU6XHJcblx0XHRcdFx0XHRcdGFydGlzdERhdGEucGVyZm9ybWFuY2VfZGF0ZSB8fFxyXG5cdFx0XHRcdFx0XHRhcnRpc3REYXRhLnBlcmZvcm1hbmNlRGF0ZSxcclxuXHRcdFx0XHRcdC8vIFBlcmZvcm1hbmNlIG9yZGVyIGFuZCBzdGF0dXMgZmllbGRzXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9vcmRlcjpcclxuXHRcdFx0XHRcdFx0KGFydGlzdERhdGEgYXMgYW55KS5wZXJmb3JtYW5jZV9vcmRlciAhPT0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdFx0PyAoYXJ0aXN0RGF0YSBhcyBhbnkpLnBlcmZvcm1hbmNlX29yZGVyXHJcblx0XHRcdFx0XHRcdFx0OiBudWxsLFxyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2Vfc3RhdHVzOlxyXG5cdFx0XHRcdFx0XHQoYXJ0aXN0RGF0YSBhcyBhbnkpLnBlcmZvcm1hbmNlX3N0YXR1cyB8fCBudWxsLFxyXG5cdFx0XHRcdFx0Ly8gUmVoZWFyc2FsIGZpZWxkc1xyXG5cdFx0XHRcdFx0cmVoZWFyc2FsX2NvbXBsZXRlZDogKGFydGlzdERhdGEgYXMgYW55KVxyXG5cdFx0XHRcdFx0XHQucmVoZWFyc2FsX2NvbXBsZXRlZCxcclxuXHRcdFx0XHRcdHF1YWxpdHlfcmF0aW5nOiAoYXJ0aXN0RGF0YSBhcyBhbnkpLnF1YWxpdHlfcmF0aW5nLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0YGV2ZW50cy8ke2V2ZW50SWR9L2FydGlzdHMvJHthcnRpc3RJZH0uanNvbmBcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKGBBcnRpc3QgZGF0YSBzYXZlZCB0byBzdG9yYWdlIGZvciBhcnRpc3Q6ICR7YXJ0aXN0SWR9YCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIGFydGlzdCBkYXRhOlwiLCBlcnJvcik7XHJcblx0XHRcdHRocm93IGVycm9yO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGNvbXBsZXRlIGFydGlzdCBkYXRhIGZyb20gc3RvcmFnZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyBnZXRBcnRpc3REYXRhKGFydGlzdElkOiBzdHJpbmcpOiBQcm9taXNlPGFueSB8IG51bGw+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IFtwcm9maWxlLCB0ZWNobmljYWwsIHNvY2lhbCwgbm90ZXMsIG11c2ljLCBnYWxsZXJ5XSA9XHJcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoW1xyXG5cdFx0XHRcdFx0dGhpcy5yZWFkSlNPTihgYXJ0aXN0cy8ke2FydGlzdElkfS9wcm9maWxlLmpzb25gKSxcclxuXHRcdFx0XHRcdHRoaXMucmVhZEpTT04oYGFydGlzdHMvJHthcnRpc3RJZH0vdGVjaG5pY2FsLmpzb25gKSxcclxuXHRcdFx0XHRcdHRoaXMucmVhZEpTT04oYGFydGlzdHMvJHthcnRpc3RJZH0vc29jaWFsLmpzb25gKSxcclxuXHRcdFx0XHRcdHRoaXMucmVhZEpTT04oYGFydGlzdHMvJHthcnRpc3RJZH0vbm90ZXMuanNvbmApLFxyXG5cdFx0XHRcdFx0dGhpcy5yZWFkSlNPTihgYXJ0aXN0cy8ke2FydGlzdElkfS9tdXNpYy5qc29uYCksXHJcblx0XHRcdFx0XHR0aGlzLnJlYWRKU09OKGBhcnRpc3RzLyR7YXJ0aXN0SWR9L2dhbGxlcnkuanNvbmApLFxyXG5cdFx0XHRcdF0pO1xyXG5cclxuXHRcdFx0aWYgKCFwcm9maWxlKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIERlYnVnOiBMb2cgd2hhdCBwZXJmb3JtYW5jZSBkYXRhIGlzIGJlaW5nIGxvYWRlZCBmcm9tIHByb2ZpbGUuanNvblxyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRg8J+UjSBHQ1MgZ2V0QXJ0aXN0RGF0YSBmb3IgJHthcnRpc3RJZH0gLSBQcm9maWxlIGRhdGEgbG9hZGVkOmAsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2Vfb3JkZXI6IHByb2ZpbGUucGVyZm9ybWFuY2Vfb3JkZXIsXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9zdGF0dXM6IHByb2ZpbGUucGVyZm9ybWFuY2Vfc3RhdHVzLFxyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2VfZGF0ZTpcclxuXHRcdFx0XHRcdFx0cHJvZmlsZS5wZXJmb3JtYW5jZV9kYXRlIHx8IHByb2ZpbGUucGVyZm9ybWFuY2VEYXRlLFxyXG5cdFx0XHRcdFx0cmVoZWFyc2FsX2NvbXBsZXRlZDogcHJvZmlsZS5yZWhlYXJzYWxfY29tcGxldGVkLFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIEVucmljaCBtZWRpYSB3aXRoIGZyZXNoIHNpZ25lZCBVUkxzXHJcblx0XHRcdGNvbnN0IHJhd1RyYWNrcyA9IEFycmF5LmlzQXJyYXkobXVzaWM/LnRyYWNrcykgPyBtdXNpYy50cmFja3MgOiBbXTtcclxuXHRcdFx0Y29uc3QgbXVzaWNUcmFja3MgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuXHRcdFx0XHRyYXdUcmFja3MubWFwKGFzeW5jICh0OiBhbnkpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IHRyYWNrID0geyAuLi50IH07XHJcblx0XHRcdFx0XHRjb25zdCBpc0Jsb2IgPSB0aGlzLmlzQmxvYlVybCh0cmFjay5maWxlX3VybCk7XHJcblx0XHRcdFx0XHRpZiAoKGlzQmxvYiB8fCAhdHJhY2suZmlsZV91cmwpICYmIHRyYWNrLmZpbGVfcGF0aCkge1xyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdHRyYWNrLmZpbGVfdXJsID0gYXdhaXQgdGhpcy5nZXRTaWduZWRVcmwoXHJcblx0XHRcdFx0XHRcdFx0XHR0cmFjay5maWxlX3BhdGgsXHJcblx0XHRcdFx0XHRcdFx0XHQyNCAqIDYwICogNjBcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XHRcdFx0XHRcdFwiRmFpbGVkIHRvIHNpZ24gbXVzaWMgdHJhY2sgcGF0aDpcIixcclxuXHRcdFx0XHRcdFx0XHRcdHRyYWNrLmZpbGVfcGF0aCxcclxuXHRcdFx0XHRcdFx0XHRcdGVcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdC8vIFNldCB0byBudWxsIHNvIFVJIGNhbiBoYW5kbGUgdGhlIGVycm9yXHJcblx0XHRcdFx0XHRcdFx0dHJhY2suZmlsZV91cmwgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJhY2s7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnN0IHJhd0ZpbGVzID0gQXJyYXkuaXNBcnJheShnYWxsZXJ5Py5maWxlcykgPyBnYWxsZXJ5LmZpbGVzIDogW107XHJcblx0XHRcdGNvbnN0IGdhbGxlcnlGaWxlcyA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG5cdFx0XHRcdHJhd0ZpbGVzLm1hcChhc3luYyAoZjogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBmaWxlID0geyAuLi5mIH07XHJcblx0XHRcdFx0XHRjb25zdCBpc0Jsb2IgPSB0aGlzLmlzQmxvYlVybChmaWxlLmZpbGVfdXJsKTtcclxuXHRcdFx0XHRcdGlmICgoaXNCbG9iIHx8ICFmaWxlLmZpbGVfdXJsKSAmJiBmaWxlLmZpbGVfcGF0aCkge1xyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGZpbGUuZmlsZV91cmwgPSBhd2FpdCB0aGlzLmdldFNpZ25lZFVybChcclxuXHRcdFx0XHRcdFx0XHRcdGZpbGUuZmlsZV9wYXRoLFxyXG5cdFx0XHRcdFx0XHRcdFx0MjQgKiA2MCAqIDYwXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoXHJcblx0XHRcdFx0XHRcdFx0XHRcIkZhaWxlZCB0byBzaWduIGdhbGxlcnkgZmlsZSBwYXRoOlwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZS5maWxlX3BhdGgsXHJcblx0XHRcdFx0XHRcdFx0XHRlXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHQvLyBTZXQgdG8gbnVsbCBzbyBVSSBjYW4gaGFuZGxlIHRoZSBlcnJvclxyXG5cdFx0XHRcdFx0XHRcdGZpbGUuZmlsZV91cmwgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gZmlsZTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Y29uc3QgbWVyZ2VkRGF0YSA9IHtcclxuXHRcdFx0XHQuLi5wcm9maWxlLFxyXG5cdFx0XHRcdC4uLnRlY2huaWNhbCxcclxuXHRcdFx0XHQuLi5zb2NpYWwsXHJcblx0XHRcdFx0Li4ubm90ZXMsXHJcblx0XHRcdFx0bXVzaWNUcmFja3MsXHJcblx0XHRcdFx0Z2FsbGVyeUZpbGVzLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gRGVidWc6IExvZyB3aGF0IHBlcmZvcm1hbmNlIGRhdGEgaXMgYmVpbmcgcmV0dXJuZWQgYWZ0ZXIgbWVyZ2VcclxuXHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0YPCflI0gR0NTIGdldEFydGlzdERhdGEgZm9yICR7YXJ0aXN0SWR9IC0gRmluYWwgbWVyZ2VkIGRhdGE6YCxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9vcmRlcjogbWVyZ2VkRGF0YS5wZXJmb3JtYW5jZV9vcmRlcixcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlX3N0YXR1czogbWVyZ2VkRGF0YS5wZXJmb3JtYW5jZV9zdGF0dXMsXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9kYXRlOlxyXG5cdFx0XHRcdFx0XHRtZXJnZWREYXRhLnBlcmZvcm1hbmNlX2RhdGUgfHxcclxuXHRcdFx0XHRcdFx0bWVyZ2VkRGF0YS5wZXJmb3JtYW5jZURhdGUsXHJcblx0XHRcdFx0XHRyZWhlYXJzYWxfY29tcGxldGVkOiBtZXJnZWREYXRhLnJlaGVhcnNhbF9jb21wbGV0ZWQsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0cmV0dXJuIG1lcmdlZERhdGE7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhcnRpc3QgZGF0YTpcIiwgZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJhdGNoIGZldGNoIG11bHRpcGxlIGFydGlzdHMgZWZmaWNpZW50bHlcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgYmF0Y2hHZXRBcnRpc3REYXRhKGFydGlzdElkczogc3RyaW5nW10pOiBQcm9taXNlPGFueVtdPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBCYXRjaCBhbGwgZmlsZSByZWFkcyBmb3IgYWxsIGFydGlzdHNcclxuXHRcdFx0Y29uc3QgYWxsRmlsZVJlYWRzID0gYXJ0aXN0SWRzLmZsYXRNYXAoKGFydGlzdElkKSA9PiBbXHJcblx0XHRcdFx0dGhpcy5yZWFkSlNPTihgYXJ0aXN0cy8ke2FydGlzdElkfS9wcm9maWxlLmpzb25gKSxcclxuXHRcdFx0XHR0aGlzLnJlYWRKU09OKGBhcnRpc3RzLyR7YXJ0aXN0SWR9L3RlY2huaWNhbC5qc29uYCksXHJcblx0XHRcdFx0dGhpcy5yZWFkSlNPTihgYXJ0aXN0cy8ke2FydGlzdElkfS9zb2NpYWwuanNvbmApLFxyXG5cdFx0XHRcdHRoaXMucmVhZEpTT04oYGFydGlzdHMvJHthcnRpc3RJZH0vbm90ZXMuanNvbmApLFxyXG5cdFx0XHRcdHRoaXMucmVhZEpTT04oYGFydGlzdHMvJHthcnRpc3RJZH0vbXVzaWMuanNvbmApLFxyXG5cdFx0XHRcdHRoaXMucmVhZEpTT04oYGFydGlzdHMvJHthcnRpc3RJZH0vZ2FsbGVyeS5qc29uYCksXHJcblx0XHRcdF0pO1xyXG5cclxuXHRcdFx0Ly8gRXhlY3V0ZSBhbGwgcmVhZHMgaW4gcGFyYWxsZWxcclxuXHRcdFx0Y29uc3QgYWxsUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKGFsbEZpbGVSZWFkcyk7XHJcblxyXG5cdFx0XHQvLyBQcm9jZXNzIHJlc3VsdHMgZm9yIGVhY2ggYXJ0aXN0XHJcblx0XHRcdGNvbnN0IGFydGlzdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuXHRcdFx0XHRhcnRpc3RJZHMubWFwKGFzeW5jIChhcnRpc3RJZCwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IGJhc2VJbmRleCA9IGluZGV4ICogNjtcclxuXHRcdFx0XHRcdGNvbnN0IFtwcm9maWxlLCB0ZWNobmljYWwsIHNvY2lhbCwgbm90ZXMsIG11c2ljLCBnYWxsZXJ5XSA9XHJcblx0XHRcdFx0XHRcdGFsbFJlc3VsdHMuc2xpY2UoYmFzZUluZGV4LCBiYXNlSW5kZXggKyA2KTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIXByb2ZpbGUpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gUHJvY2VzcyBtZWRpYSBmaWxlcyB3aXRoIGxhenkgbG9hZGluZyBhcHByb2FjaFxyXG5cdFx0XHRcdFx0Y29uc3QgcmF3VHJhY2tzID0gQXJyYXkuaXNBcnJheShtdXNpYz8udHJhY2tzKVxyXG5cdFx0XHRcdFx0XHQ/IG11c2ljLnRyYWNrc1xyXG5cdFx0XHRcdFx0XHQ6IFtdO1xyXG5cdFx0XHRcdFx0Y29uc3QgcmF3RmlsZXMgPSBBcnJheS5pc0FycmF5KGdhbGxlcnk/LmZpbGVzKVxyXG5cdFx0XHRcdFx0XHQ/IGdhbGxlcnkuZmlsZXNcclxuXHRcdFx0XHRcdFx0OiBbXTtcclxuXHJcblx0XHRcdFx0XHQvLyBPbmx5IGdlbmVyYXRlIHNpZ25lZCBVUkxzIGZvciBtZWRpYSB0aGF0IHdpbGwgYmUgaW1tZWRpYXRlbHkgdmlzaWJsZVxyXG5cdFx0XHRcdFx0Ly8gRm9yIHBlcmZvcm1hbmNlLCB3ZSdsbCBkZWZlciBVUkwgZ2VuZXJhdGlvbiBmb3IgZ2FsbGVyeSBmaWxlc1xyXG5cdFx0XHRcdFx0Y29uc3QgbXVzaWNUcmFja3MgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuXHRcdFx0XHRcdFx0cmF3VHJhY2tzLnNsaWNlKDAsIDMpLm1hcChhc3luYyAodDogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gT25seSBmaXJzdCAzIHRyYWNrc1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHRyYWNrID0geyAuLi50IH07XHJcblx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5pc0Jsb2JVcmwodHJhY2suZmlsZV91cmwpICYmXHJcblx0XHRcdFx0XHRcdFx0XHR0cmFjay5maWxlX3BhdGhcclxuXHRcdFx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYWNrLmZpbGVfdXJsID0gYXdhaXQgdGhpcy5nZXRTaWduZWRVcmwoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhY2suZmlsZV9wYXRoLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDI0ICogNjAgKiA2MFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiRmFpbGVkIHRvIHNpZ24gbXVzaWMgdHJhY2sgcGF0aDpcIixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFjay5maWxlX3BhdGgsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFjay5maWxlX3VybCA9IG51bGw7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cmFjaztcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQWRkIHJlbWFpbmluZyB0cmFja3Mgd2l0aG91dCBVUkxzIChsYXp5IGxvYWRpbmcpXHJcblx0XHRcdFx0XHRjb25zdCByZW1haW5pbmdUcmFja3MgPSByYXdUcmFja3NcclxuXHRcdFx0XHRcdFx0LnNsaWNlKDMpXHJcblx0XHRcdFx0XHRcdC5tYXAoKHQ6IGFueSkgPT4gKHtcclxuXHRcdFx0XHRcdFx0XHQuLi50LFxyXG5cdFx0XHRcdFx0XHRcdGZpbGVfdXJsOiB0LmZpbGVfcGF0aCA/IG51bGwgOiB0LmZpbGVfdXJsLCAvLyBNYXJrIGZvciBsYXp5IGxvYWRpbmdcclxuXHRcdFx0XHRcdFx0XHRuZWVkc1VybDogISF0LmZpbGVfcGF0aCxcclxuXHRcdFx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0XHRcdC8vIEZvciBnYWxsZXJ5LCBvbmx5IHByb2Nlc3MgZmlyc3QgZmV3IGltYWdlcyBmb3IgcHJldmlld1xyXG5cdFx0XHRcdFx0Y29uc3QgZ2FsbGVyeUZpbGVzID0gcmF3RmlsZXMuc2xpY2UoMCwgNikubWFwKChmOiBhbnkpID0+ICh7XHJcblx0XHRcdFx0XHRcdC4uLmYsXHJcblx0XHRcdFx0XHRcdHVybDogZi5maWxlX3BhdGggPyBudWxsIDogZi51cmwsIC8vIE1hcmsgZm9yIGxhenkgbG9hZGluZ1xyXG5cdFx0XHRcdFx0XHRuZWVkc1VybDogISFmLmZpbGVfcGF0aCxcclxuXHRcdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHQuLi5wcm9maWxlLFxyXG5cdFx0XHRcdFx0XHQuLi50ZWNobmljYWwsXHJcblx0XHRcdFx0XHRcdC4uLnNvY2lhbCxcclxuXHRcdFx0XHRcdFx0Li4ubm90ZXMsXHJcblx0XHRcdFx0XHRcdG11c2ljVHJhY2tzOiBbLi4ubXVzaWNUcmFja3MsIC4uLnJlbWFpbmluZ1RyYWNrc10sXHJcblx0XHRcdFx0XHRcdGdhbGxlcnlGaWxlcyxcclxuXHRcdFx0XHRcdFx0dG90YWxNdXNpY1RyYWNrczogcmF3VHJhY2tzLmxlbmd0aCxcclxuXHRcdFx0XHRcdFx0dG90YWxHYWxsZXJ5RmlsZXM6IHJhd0ZpbGVzLmxlbmd0aCxcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdHJldHVybiBhcnRpc3RzLmZpbHRlcigoYXJ0aXN0KSA9PiBhcnRpc3QgIT09IG51bGwpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGJhdGNoIGdldHRpbmcgYXJ0aXN0IGRhdGE6XCIsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTGF6eSBsb2FkIG1lZGlhIFVSTHMgZm9yIGEgc3BlY2lmaWMgYXJ0aXN0XHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIGxvYWRBcnRpc3RNZWRpYVVybHMoXHJcblx0XHRhcnRpc3RJZDogc3RyaW5nLFxyXG5cdFx0bWVkaWFUeXBlOiBcIm11c2ljXCIgfCBcImdhbGxlcnlcIixcclxuXHRcdHN0YXJ0SW5kZXg6IG51bWJlciA9IDAsXHJcblx0XHRjb3VudDogbnVtYmVyID0gMTBcclxuXHQpOiBQcm9taXNlPGFueVtdPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBtZWRpYURhdGEgPVxyXG5cdFx0XHRcdG1lZGlhVHlwZSA9PT0gXCJtdXNpY1wiXHJcblx0XHRcdFx0XHQ/IGF3YWl0IHRoaXMucmVhZEpTT04oYGFydGlzdHMvJHthcnRpc3RJZH0vbXVzaWMuanNvbmApXHJcblx0XHRcdFx0XHQ6IGF3YWl0IHRoaXMucmVhZEpTT04oYGFydGlzdHMvJHthcnRpc3RJZH0vZ2FsbGVyeS5qc29uYCk7XHJcblxyXG5cdFx0XHRjb25zdCBpdGVtcyA9XHJcblx0XHRcdFx0bWVkaWFUeXBlID09PSBcIm11c2ljXCJcclxuXHRcdFx0XHRcdD8gQXJyYXkuaXNBcnJheShtZWRpYURhdGE/LnRyYWNrcylcclxuXHRcdFx0XHRcdFx0PyBtZWRpYURhdGEudHJhY2tzXHJcblx0XHRcdFx0XHRcdDogW11cclxuXHRcdFx0XHRcdDogQXJyYXkuaXNBcnJheShtZWRpYURhdGE/LmZpbGVzKVxyXG5cdFx0XHRcdFx0PyBtZWRpYURhdGEuZmlsZXNcclxuXHRcdFx0XHRcdDogW107XHJcblxyXG5cdFx0XHRjb25zdCBzZWxlY3RlZEl0ZW1zID0gaXRlbXMuc2xpY2Uoc3RhcnRJbmRleCwgc3RhcnRJbmRleCArIGNvdW50KTtcclxuXHJcblx0XHRcdC8vIEdlbmVyYXRlIHNpZ25lZCBVUkxzIGZvciB0aGUgcmVxdWVzdGVkIGl0ZW1zXHJcblx0XHRcdGNvbnN0IGl0ZW1zV2l0aFVybHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuXHRcdFx0XHRzZWxlY3RlZEl0ZW1zLm1hcChhc3luYyAoaXRlbTogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCB1cmxGaWVsZCA9IG1lZGlhVHlwZSA9PT0gXCJtdXNpY1wiID8gXCJmaWxlX3VybFwiIDogXCJ1cmxcIjtcclxuXHRcdFx0XHRcdGNvbnN0IHBhdGhGaWVsZCA9XHJcblx0XHRcdFx0XHRcdG1lZGlhVHlwZSA9PT0gXCJtdXNpY1wiID8gXCJmaWxlX3BhdGhcIiA6IFwiZmlsZV9wYXRoXCI7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNCbG9iVXJsKGl0ZW1bdXJsRmllbGRdKSAmJiBpdGVtW3BhdGhGaWVsZF0pIHtcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRpdGVtW3VybEZpZWxkXSA9IGF3YWl0IHRoaXMuZ2V0U2lnbmVkVXJsKFxyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVtwYXRoRmllbGRdLFxyXG5cdFx0XHRcdFx0XHRcdFx0MjQgKiA2MCAqIDYwXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoXHJcblx0XHRcdFx0XHRcdFx0XHRgRmFpbGVkIHRvIHNpZ24gJHttZWRpYVR5cGV9IHBhdGg6YCxcclxuXHRcdFx0XHRcdFx0XHRcdGl0ZW1bcGF0aEZpZWxkXSxcclxuXHRcdFx0XHRcdFx0XHRcdGVcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdGl0ZW1bdXJsRmllbGRdID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW07XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdHJldHVybiBpdGVtc1dpdGhVcmxzO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcclxuXHRcdFx0XHRgRXJyb3IgbG9hZGluZyAke21lZGlhVHlwZX0gVVJMcyBmb3IgYXJ0aXN0ICR7YXJ0aXN0SWR9OmAsXHJcblx0XHRcdFx0ZXJyb3JcclxuXHRcdFx0KTtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGFsbCBhcnRpc3RzIGZvciBhbiBldmVudCAoc2ltcGxpZmllZCBmb3IgZGVtbylcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgZ2V0RXZlbnRBcnRpc3RzKGV2ZW50SWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEZvciBkZW1vIHB1cnBvc2VzLCB3ZSdsbCByZXR1cm4gYSBzYW1wbGUgYXJ0aXN0IGlmIG5vIHJlYWwgZGF0YSBleGlzdHNcclxuXHRcdFx0Y29uc3Qgc2FtcGxlQXJ0aXN0ID0ge1xyXG5cdFx0XHRcdGlkOiBcImFydGlzdF8xNzU1MDExNDg5MjA1X3hzd2pjdmZkdlwiLFxyXG5cdFx0XHRcdGFydGlzdE5hbWU6IFwiV2F0ZXIgRmVzdGl2YWwgU3RhZ2VcIixcclxuXHRcdFx0XHRyZWFsTmFtZTogXCJKb2huIFdpY2sgKEh0b28gQXVuZyBXYWkpXCIsXHJcblx0XHRcdFx0ZW1haWw6IFwiam9obkBnbWFpbC5jb21cIixcclxuXHRcdFx0XHRwaG9uZTogXCIwNTIgMjExIDYwMjRcIixcclxuXHRcdFx0XHRzdHlsZTogXCJEZWF0aCBNZXRhbFwiLFxyXG5cdFx0XHRcdHBlcmZvcm1hbmNlVHlwZTogXCJvdGhlclwiLFxyXG5cdFx0XHRcdHBlcmZvcm1hbmNlRHVyYXRpb246IDUsXHJcblx0XHRcdFx0YmlvZ3JhcGh5OiBcIkkgbGlrZSBEZWF0aCBNZXRhbC5cIixcclxuXHRcdFx0XHRjb3N0dW1lQ29sb3I6IFwicmVkXCIsXHJcblx0XHRcdFx0bGlnaHRDb2xvclNpbmdsZTogXCJibHVlXCIsXHJcblx0XHRcdFx0bGlnaHRDb2xvclR3bzogXCJtYWdlbnRhXCIsXHJcblx0XHRcdFx0bGlnaHRDb2xvclRocmVlOiBcImFtYmVyXCIsXHJcblx0XHRcdFx0c3RhZ2VQb3NpdGlvblN0YXJ0OiBcImRvd25zdGFnZS1sZWZ0XCIsXHJcblx0XHRcdFx0c3RhZ2VQb3NpdGlvbkVuZDogXCJsZWZ0XCIsXHJcblx0XHRcdFx0c29jaWFsTWVkaWE6IHtcclxuXHRcdFx0XHRcdGluc3RhZ3JhbTogXCJodHRwczovL3d3dy5vZmZpY2VvbHltcGljcy5pb1wiLFxyXG5cdFx0XHRcdFx0ZmFjZWJvb2s6IFwiaHR0cHM6Ly93d3cub2ZmaWNlb2x5bXBpY3MuaW9cIixcclxuXHRcdFx0XHRcdHlvdXR1YmU6IFwiaHR0cHM6Ly93d3cub2ZmaWNlb2x5bXBpY3MuaW9cIixcclxuXHRcdFx0XHRcdHRpa3RvazogXCJodHRwczovL3d3dy5vZmZpY2VvbHltcGljcy5pb1wiLFxyXG5cdFx0XHRcdFx0d2Vic2l0ZTogXCJodHRwczovL3d3dy5vZmZpY2VvbHltcGljcy5pb1wiLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZXZlbnRJZCxcclxuXHRcdFx0XHRldmVudE5hbWU6IFwiRURNIEZlc3RpdmFsXCIsXHJcblx0XHRcdFx0c3RhdHVzOiBcInBlbmRpbmdcIixcclxuXHRcdFx0XHRjcmVhdGVkQXQ6IFwiMjAyNS0wOC0xMlQxNToxMToyOS4yMDVaXCIsXHJcblx0XHRcdFx0bXVzaWNUcmFja3M6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0c29uZ190aXRsZTogXCJNZXRhbFwiLFxyXG5cdFx0XHRcdFx0XHRkdXJhdGlvbjogMixcclxuXHRcdFx0XHRcdFx0bm90ZXM6IFwiTm8gb25lXCIsXHJcblx0XHRcdFx0XHRcdGlzX21haW5fdHJhY2s6IHRydWUsXHJcblx0XHRcdFx0XHRcdHRlbXBvOiBcIm1lZGl1bVwiLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGdhbGxlcnlGaWxlczogW10sXHJcblx0XHRcdH07XHJcblx0XHRcdHJldHVybiBbc2FtcGxlQXJ0aXN0XSBhcyBhbnlbXTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGV2ZW50IGFydGlzdHM6XCIsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gPT09PT0gUEVSRk9STUFOQ0UgT1JERVIgTUFOQUdFTUVOVCBGVU5DVElPTlMgPT09PT1cclxuXHJcblx0LyoqXHJcblx0ICogU2F2ZSB0aW1pbmcgc2V0dGluZ3MgZm9yIGFuIGV2ZW50XHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIHNhdmVUaW1pbmdTZXR0aW5ncyhcclxuXHRcdGV2ZW50SWQ6IHN0cmluZyxcclxuXHRcdHNldHRpbmdzOiBQYXJ0aWFsPFRpbWluZ1NldHRpbmdzPlxyXG5cdCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgdGltaW5nRGF0YSA9IHtcclxuXHRcdFx0XHRldmVudElkLFxyXG5cdFx0XHRcdC4uLnNldHRpbmdzLFxyXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IHNldHRpbmdzLnVwZGF0ZWRfYXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlSlNPTihcclxuXHRcdFx0XHR0aW1pbmdEYXRhLFxyXG5cdFx0XHRcdGBldmVudHMvJHtldmVudElkfS90aW1pbmctc2V0dGluZ3Mvc2V0dGluZ3MuanNvbmBcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKGBUaW1pbmcgc2V0dGluZ3Mgc2F2ZWQgZm9yIGV2ZW50OiAke2V2ZW50SWR9YCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIHRpbWluZyBzZXR0aW5nczpcIiwgZXJyb3IpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSB0aW1pbmcgc2V0dGluZ3MgdG8gR0NTXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRpbWluZyBzZXR0aW5ncyBmb3IgYW4gZXZlbnRcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgZ2V0VGltaW5nU2V0dGluZ3MoZXZlbnRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5ncyA9IGF3YWl0IHRoaXMucmVhZEpTT04oXHJcblx0XHRcdFx0YGV2ZW50cy8ke2V2ZW50SWR9L3RpbWluZy1zZXR0aW5ncy9zZXR0aW5ncy5qc29uYFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhgVGltaW5nIHNldHRpbmdzIHJldHJpZXZlZCBmb3IgZXZlbnQ6ICR7ZXZlbnRJZH1gKTtcclxuXHRcdFx0cmV0dXJuIHNldHRpbmdzO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgdGltaW5nIHNldHRpbmdzOlwiLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2F2ZSBhIGN1ZSBmb3IgYSBzcGVjaWZpYyBwZXJmb3JtYW5jZSBkYXRlXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIHNhdmVDdWUoXHJcblx0XHRldmVudElkOiBzdHJpbmcsXHJcblx0XHRwZXJmb3JtYW5jZURhdGU6IHN0cmluZyxcclxuXHRcdGN1ZTogUGFydGlhbDxDdWU+ICYge1xyXG5cdFx0XHRpZDogc3RyaW5nO1xyXG5cdFx0XHR0eXBlOiBzdHJpbmc7XHJcblx0XHRcdHRpdGxlOiBzdHJpbmc7XHJcblx0XHRcdHBlcmZvcm1hbmNlX29yZGVyOiBudW1iZXI7XHJcblx0XHR9XHJcblx0KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjdWVEYXRhID0ge1xyXG5cdFx0XHRcdC4uLmN1ZSxcclxuXHRcdFx0XHRldmVudElkLFxyXG5cdFx0XHRcdHBlcmZvcm1hbmNlRGF0ZSxcclxuXHRcdFx0XHRjcmVhdGVkX2F0OiBjdWUuY3JlYXRlZF9hdCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlSlNPTihcclxuXHRcdFx0XHRjdWVEYXRhLFxyXG5cdFx0XHRcdGBldmVudHMvJHtldmVudElkfS9jdWVzLyR7cGVyZm9ybWFuY2VEYXRlfS8ke2N1ZS5pZH0uanNvbmBcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdGBDdWUgc2F2ZWQ6ICR7Y3VlLmlkfSBmb3IgZXZlbnQ6ICR7ZXZlbnRJZH0sIGRhdGU6ICR7cGVyZm9ybWFuY2VEYXRlfWBcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgY3VlOlwiLCBlcnJvcik7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBzYXZlIGN1ZSB0byBHQ1NcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgYWxsIGN1ZXMgZm9yIGEgc3BlY2lmaWMgcGVyZm9ybWFuY2UgZGF0ZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyBnZXRDdWVzKFxyXG5cdFx0ZXZlbnRJZDogc3RyaW5nLFxyXG5cdFx0cGVyZm9ybWFuY2VEYXRlOiBzdHJpbmdcclxuXHQpOiBQcm9taXNlPGFueVtdPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBwcmVmaXggPSBgZXZlbnRzLyR7ZXZlbnRJZH0vY3Vlcy8ke3BlcmZvcm1hbmNlRGF0ZX0vYDtcclxuXHRcdFx0Y29uc3QgZmlsZU5hbWVzID0gYXdhaXQgdGhpcy5saXN0RmlsZXMocHJlZml4KTtcclxuXHJcblx0XHRcdGNvbnN0IGN1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuXHRcdFx0XHRmaWxlTmFtZXMubWFwKGFzeW5jIChmaWxlTmFtZSkgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGF3YWl0IHRoaXMucmVhZEpTT04oZmlsZU5hbWUpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb25zdCB2YWxpZEN1ZXMgPSBjdWVzLmZpbHRlcigoY3VlKSA9PiBjdWUgIT09IG51bGwpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRgUmV0cmlldmVkICR7dmFsaWRDdWVzLmxlbmd0aH0gY3VlcyBmb3IgZXZlbnQ6ICR7ZXZlbnRJZH0sIGRhdGU6ICR7cGVyZm9ybWFuY2VEYXRlfWBcclxuXHRcdFx0KTtcclxuXHRcdFx0cmV0dXJuIHZhbGlkQ3VlcztcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGN1ZXM6XCIsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVsZXRlIGEgY3VlXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIGRlbGV0ZUN1ZShcclxuXHRcdGV2ZW50SWQ6IHN0cmluZyxcclxuXHRcdHBlcmZvcm1hbmNlRGF0ZTogc3RyaW5nLFxyXG5cdFx0Y3VlSWQ6IHN0cmluZ1xyXG5cdCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcGF0aCA9IGBldmVudHMvJHtldmVudElkfS9jdWVzLyR7cGVyZm9ybWFuY2VEYXRlfS8ke2N1ZUlkfS5qc29uYDtcclxuXHRcdFx0YXdhaXQgdGhpcy5kZWxldGVGaWxlKHBhdGgpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRgQ3VlIGRlbGV0ZWQ6ICR7Y3VlSWR9IGZvciBldmVudDogJHtldmVudElkfSwgZGF0ZTogJHtwZXJmb3JtYW5jZURhdGV9YFxyXG5cdFx0XHQpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGN1ZTpcIiwgZXJyb3IpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVsZXRlIGN1ZSBmcm9tIEdDU1wiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNhdmUgc2hvdyBvcmRlciBmb3IgYSBzcGVjaWZpYyBwZXJmb3JtYW5jZSBkYXRlXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIHNhdmVTaG93T3JkZXIoXHJcblx0XHRldmVudElkOiBzdHJpbmcsXHJcblx0XHRwZXJmb3JtYW5jZURhdGU6IHN0cmluZyxcclxuXHRcdHNob3dPcmRlckl0ZW1zOiBTaG93T3JkZXJJdGVtW11cclxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHNob3dPcmRlckRhdGEgPSB7XHJcblx0XHRcdFx0ZXZlbnRJZCxcclxuXHRcdFx0XHRwZXJmb3JtYW5jZURhdGUsXHJcblx0XHRcdFx0aXRlbXM6IHNob3dPcmRlckl0ZW1zLFxyXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZUpTT04oXHJcblx0XHRcdFx0c2hvd09yZGVyRGF0YSxcclxuXHRcdFx0XHRgZXZlbnRzLyR7ZXZlbnRJZH0vcGVyZm9ybWFuY2Utb3JkZXJzLyR7cGVyZm9ybWFuY2VEYXRlfS9zaG93LW9yZGVyLmpzb25gXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRgU2hvdyBvcmRlciBzYXZlZCBmb3IgZXZlbnQ6ICR7ZXZlbnRJZH0sIGRhdGU6ICR7cGVyZm9ybWFuY2VEYXRlfWBcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2hvdyBvcmRlcjpcIiwgZXJyb3IpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBzaG93IG9yZGVyIHRvIEdDU1wiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBzaG93IG9yZGVyIGZvciBhIHNwZWNpZmljIHBlcmZvcm1hbmNlIGRhdGVcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgZ2V0U2hvd09yZGVyKFxyXG5cdFx0ZXZlbnRJZDogc3RyaW5nLFxyXG5cdFx0cGVyZm9ybWFuY2VEYXRlOiBzdHJpbmdcclxuXHQpOiBQcm9taXNlPGFueSB8IG51bGw+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHNob3dPcmRlciA9IGF3YWl0IHRoaXMucmVhZEpTT04oXHJcblx0XHRcdFx0YGV2ZW50cy8ke2V2ZW50SWR9L3BlcmZvcm1hbmNlLW9yZGVycy8ke3BlcmZvcm1hbmNlRGF0ZX0vc2hvdy1vcmRlci5qc29uYFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRgU2hvdyBvcmRlciByZXRyaWV2ZWQgZm9yIGV2ZW50OiAke2V2ZW50SWR9LCBkYXRlOiAke3BlcmZvcm1hbmNlRGF0ZX1gXHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiBzaG93T3JkZXI7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaG93IG9yZGVyOlwiLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIGFydGlzdCBwZXJmb3JtYW5jZSBzdGF0dXNcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgdXBkYXRlQXJ0aXN0UGVyZm9ybWFuY2VTdGF0dXMoXHJcblx0XHRhcnRpc3RJZDogc3RyaW5nLFxyXG5cdFx0ZXZlbnRJZDogc3RyaW5nLFxyXG5cdFx0dXBkYXRlczoge1xyXG5cdFx0XHRwZXJmb3JtYW5jZV9zdGF0dXM/OiBzdHJpbmc7XHJcblx0XHRcdHBlcmZvcm1hbmNlX29yZGVyPzogbnVtYmVyO1xyXG5cdFx0XHRwZXJmb3JtYW5jZV9kYXRlPzogc3RyaW5nO1xyXG5cdFx0fVxyXG5cdCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gR2V0IGN1cnJlbnQgYXJ0aXN0IGRhdGFcclxuXHRcdFx0Y29uc3QgY3VycmVudERhdGEgPSBhd2FpdCB0aGlzLmdldEFydGlzdERhdGEoYXJ0aXN0SWQpO1xyXG5cdFx0XHRpZiAoIWN1cnJlbnREYXRhKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBBcnRpc3Qgbm90IGZvdW5kOiAke2FydGlzdElkfWApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgdGhlIHByb2ZpbGUgd2l0aCBuZXcgcGVyZm9ybWFuY2UgZGF0YVxyXG5cdFx0XHRjb25zdCB1cGRhdGVkUHJvZmlsZSA9IHtcclxuXHRcdFx0XHQuLi5jdXJyZW50RGF0YSxcclxuXHRcdFx0XHQuLi51cGRhdGVzLFxyXG5cdFx0XHRcdC8vIEVuc3VyZSBib3RoIGZpZWxkIGZvcm1hdHMgYXJlIHVwZGF0ZWRcclxuXHRcdFx0XHRwZXJmb3JtYW5jZURhdGU6XHJcblx0XHRcdFx0XHR1cGRhdGVzLnBlcmZvcm1hbmNlX2RhdGUgfHwgY3VycmVudERhdGEucGVyZm9ybWFuY2VEYXRlLFxyXG5cdFx0XHRcdHBlcmZvcm1hbmNlX2RhdGU6XHJcblx0XHRcdFx0XHR1cGRhdGVzLnBlcmZvcm1hbmNlX2RhdGUgfHwgY3VycmVudERhdGEucGVyZm9ybWFuY2VfZGF0ZSxcclxuXHRcdFx0XHR1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIFNhdmUgdXBkYXRlZCBwcm9maWxlXHJcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZUpTT04oXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0aWQ6IHVwZGF0ZWRQcm9maWxlLmlkLFxyXG5cdFx0XHRcdFx0YXJ0aXN0TmFtZTogdXBkYXRlZFByb2ZpbGUuYXJ0aXN0TmFtZSxcclxuXHRcdFx0XHRcdHJlYWxOYW1lOiB1cGRhdGVkUHJvZmlsZS5yZWFsTmFtZSxcclxuXHRcdFx0XHRcdGVtYWlsOiB1cGRhdGVkUHJvZmlsZS5lbWFpbCxcclxuXHRcdFx0XHRcdHBob25lOiB1cGRhdGVkUHJvZmlsZS5waG9uZSxcclxuXHRcdFx0XHRcdHN0eWxlOiB1cGRhdGVkUHJvZmlsZS5zdHlsZSxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlVHlwZTogdXBkYXRlZFByb2ZpbGUucGVyZm9ybWFuY2VUeXBlLFxyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2VEdXJhdGlvbjogdXBkYXRlZFByb2ZpbGUucGVyZm9ybWFuY2VEdXJhdGlvbixcclxuXHRcdFx0XHRcdGJpb2dyYXBoeTogdXBkYXRlZFByb2ZpbGUuYmlvZ3JhcGh5LFxyXG5cdFx0XHRcdFx0Y3JlYXRlZEF0OiB1cGRhdGVkUHJvZmlsZS5jcmVhdGVkQXQsXHJcblx0XHRcdFx0XHR1cGRhdGVkQXQ6IHVwZGF0ZWRQcm9maWxlLnVwZGF0ZWRBdCxcclxuXHRcdFx0XHRcdHN0YXR1czogdXBkYXRlZFByb2ZpbGUuc3RhdHVzLFxyXG5cdFx0XHRcdFx0c3RhdHVzSGlzdG9yeTogdXBkYXRlZFByb2ZpbGUuc3RhdHVzSGlzdG9yeSxcclxuXHRcdFx0XHRcdGV2ZW50SWQ6IHVwZGF0ZWRQcm9maWxlLmV2ZW50SWQsXHJcblx0XHRcdFx0XHRldmVudE5hbWU6IHVwZGF0ZWRQcm9maWxlLmV2ZW50TmFtZSxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlRGF0ZTpcclxuXHRcdFx0XHRcdFx0dXBkYXRlcy5wZXJmb3JtYW5jZV9kYXRlIHx8XHJcblx0XHRcdFx0XHRcdHVwZGF0ZWRQcm9maWxlLnBlcmZvcm1hbmNlRGF0ZSxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlX2RhdGU6XHJcblx0XHRcdFx0XHRcdHVwZGF0ZXMucGVyZm9ybWFuY2VfZGF0ZSB8fFxyXG5cdFx0XHRcdFx0XHR1cGRhdGVkUHJvZmlsZS5wZXJmb3JtYW5jZV9kYXRlLFxyXG5cdFx0XHRcdFx0cmVoZWFyc2FsX2RhdGU6IHVwZGF0ZWRQcm9maWxlLnJlaGVhcnNhbF9kYXRlLFxyXG5cdFx0XHRcdFx0cmVoZWFyc2FsX29yZGVyOiB1cGRhdGVkUHJvZmlsZS5yZWhlYXJzYWxfb3JkZXIsXHJcblx0XHRcdFx0XHRyZWhlYXJzYWxfY29tcGxldGVkOiB1cGRhdGVkUHJvZmlsZS5yZWhlYXJzYWxfY29tcGxldGVkLFxyXG5cdFx0XHRcdFx0cXVhbGl0eV9yYXRpbmc6IHVwZGF0ZWRQcm9maWxlLnF1YWxpdHlfcmF0aW5nLFxyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2Vfc3RhdHVzOlxyXG5cdFx0XHRcdFx0XHR1cGRhdGVzLnBlcmZvcm1hbmNlX3N0YXR1cyB8fFxyXG5cdFx0XHRcdFx0XHR1cGRhdGVkUHJvZmlsZS5wZXJmb3JtYW5jZV9zdGF0dXMsXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9vcmRlcjpcclxuXHRcdFx0XHRcdFx0dXBkYXRlcy5wZXJmb3JtYW5jZV9vcmRlciAhPT0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdFx0PyB1cGRhdGVzLnBlcmZvcm1hbmNlX29yZGVyXHJcblx0XHRcdFx0XHRcdFx0OiB1cGRhdGVkUHJvZmlsZS5wZXJmb3JtYW5jZV9vcmRlcixcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGBhcnRpc3RzLyR7YXJ0aXN0SWR9L3Byb2ZpbGUuanNvbmBcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIEFsc28gdXBkYXRlIHRoZSBldmVudCBhc3NvY2lhdGlvblxyXG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVKU09OKFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFydGlzdElkOiB1cGRhdGVkUHJvZmlsZS5pZCxcclxuXHRcdFx0XHRcdGFydGlzdE5hbWU6IHVwZGF0ZWRQcm9maWxlLmFydGlzdE5hbWUsXHJcblx0XHRcdFx0XHRldmVudElkOiB1cGRhdGVkUHJvZmlsZS5ldmVudElkLFxyXG5cdFx0XHRcdFx0ZXZlbnROYW1lOiB1cGRhdGVkUHJvZmlsZS5ldmVudE5hbWUsXHJcblx0XHRcdFx0XHRzdGF0dXM6IHVwZGF0ZWRQcm9maWxlLnN0YXR1cyxcclxuXHRcdFx0XHRcdHN0YXR1c0hpc3Rvcnk6IHVwZGF0ZWRQcm9maWxlLnN0YXR1c0hpc3RvcnksXHJcblx0XHRcdFx0XHRyZWdpc3RyYXRpb25EYXRlOiB1cGRhdGVkUHJvZmlsZS5jcmVhdGVkQXQsXHJcblx0XHRcdFx0XHR1cGRhdGVkQXQ6IHVwZGF0ZWRQcm9maWxlLnVwZGF0ZWRBdCxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlRGF0ZTpcclxuXHRcdFx0XHRcdFx0dXBkYXRlcy5wZXJmb3JtYW5jZV9kYXRlIHx8XHJcblx0XHRcdFx0XHRcdHVwZGF0ZWRQcm9maWxlLnBlcmZvcm1hbmNlRGF0ZSxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlX2RhdGU6XHJcblx0XHRcdFx0XHRcdHVwZGF0ZXMucGVyZm9ybWFuY2VfZGF0ZSB8fFxyXG5cdFx0XHRcdFx0XHR1cGRhdGVkUHJvZmlsZS5wZXJmb3JtYW5jZV9kYXRlLFxyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2Vfc3RhdHVzOlxyXG5cdFx0XHRcdFx0XHR1cGRhdGVzLnBlcmZvcm1hbmNlX3N0YXR1cyB8fFxyXG5cdFx0XHRcdFx0XHR1cGRhdGVkUHJvZmlsZS5wZXJmb3JtYW5jZV9zdGF0dXMsXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9vcmRlcjpcclxuXHRcdFx0XHRcdFx0dXBkYXRlcy5wZXJmb3JtYW5jZV9vcmRlciAhPT0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdFx0PyB1cGRhdGVzLnBlcmZvcm1hbmNlX29yZGVyXHJcblx0XHRcdFx0XHRcdFx0OiB1cGRhdGVkUHJvZmlsZS5wZXJmb3JtYW5jZV9vcmRlcixcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGBldmVudHMvJHtldmVudElkfS9hcnRpc3RzLyR7YXJ0aXN0SWR9Lmpzb25gXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZyhgQXJ0aXN0IHBlcmZvcm1hbmNlIHN0YXR1cyB1cGRhdGVkOiAke2FydGlzdElkfWApO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGFydGlzdCBwZXJmb3JtYW5jZSBzdGF0dXM6XCIsIGVycm9yKTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxyXG5cdFx0XHRcdFwiRmFpbGVkIHRvIHVwZGF0ZSBhcnRpc3QgcGVyZm9ybWFuY2Ugc3RhdHVzIGluIEdDU1wiXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PSBBUlRJU1QgU1RBVFVTIENBQ0hJTkcgRlVOQ1RJT05TID09PT09XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNhdmUgY2FjaGUgbWV0YWRhdGEgZm9yIGFuIGV2ZW50XHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIHNhdmVDYWNoZU1ldGFkYXRhKFxyXG5cdFx0ZXZlbnRJZDogc3RyaW5nLFxyXG5cdFx0bWV0YWRhdGE6IFN0YXR1c0NhY2hlTWV0YWRhdGFcclxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZUpTT04oXHJcblx0XHRcdFx0bWV0YWRhdGEsXHJcblx0XHRcdFx0YGV2ZW50cy8ke2V2ZW50SWR9L2FydGlzdC1zdGF0dXNlcy9jYWNoZS1tZXRhZGF0YS5qc29uYFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhgQ2FjaGUgbWV0YWRhdGEgc2F2ZWQgZm9yIGV2ZW50OiAke2V2ZW50SWR9YCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIGNhY2hlIG1ldGFkYXRhOlwiLCBlcnJvcik7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBzYXZlIGNhY2hlIG1ldGFkYXRhIHRvIEdDU1wiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjYWNoZSBtZXRhZGF0YSBmb3IgYW4gZXZlbnRcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgZ2V0Q2FjaGVNZXRhZGF0YShcclxuXHRcdGV2ZW50SWQ6IHN0cmluZ1xyXG5cdCk6IFByb21pc2U8U3RhdHVzQ2FjaGVNZXRhZGF0YSB8IG51bGw+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IG1ldGFkYXRhID0gYXdhaXQgdGhpcy5yZWFkSlNPTihcclxuXHRcdFx0XHRgZXZlbnRzLyR7ZXZlbnRJZH0vYXJ0aXN0LXN0YXR1c2VzL2NhY2hlLW1ldGFkYXRhLmpzb25gXHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiBtZXRhZGF0YTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGNhY2hlIG1ldGFkYXRhOlwiLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2F2ZSBjdXJyZW50IGFydGlzdCBzdGF0dXNlcyBmb3IgYSBwZXJmb3JtYW5jZSBkYXRlXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIHNhdmVDdXJyZW50U3RhdHVzZXMoXHJcblx0XHRldmVudElkOiBzdHJpbmcsXHJcblx0XHRwZXJmb3JtYW5jZURhdGU6IHN0cmluZyxcclxuXHRcdHN0YXR1c2VzOiBDYWNoZWRBcnRpc3RTdGF0dXNbXVxyXG5cdCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3Qgc3RhdHVzRGF0YSA9IHtcclxuXHRcdFx0XHRldmVudElkLFxyXG5cdFx0XHRcdHBlcmZvcm1hbmNlRGF0ZSxcclxuXHRcdFx0XHRzdGF0dXNlcyxcclxuXHRcdFx0XHR1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcblx0XHRcdFx0dmVyc2lvbjogRGF0ZS5ub3coKSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZUpTT04oXHJcblx0XHRcdFx0c3RhdHVzRGF0YSxcclxuXHRcdFx0XHRgZXZlbnRzLyR7ZXZlbnRJZH0vYXJ0aXN0LXN0YXR1c2VzLyR7cGVyZm9ybWFuY2VEYXRlfS9jdXJyZW50LXN0YXR1c2VzLmpzb25gXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRgQ3VycmVudCBzdGF0dXNlcyBzYXZlZCBmb3IgZXZlbnQ6ICR7ZXZlbnRJZH0sIGRhdGU6ICR7cGVyZm9ybWFuY2VEYXRlfWBcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgY3VycmVudCBzdGF0dXNlczpcIiwgZXJyb3IpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBjdXJyZW50IHN0YXR1c2VzIHRvIEdDU1wiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBjdXJyZW50IGFydGlzdCBzdGF0dXNlcyBmb3IgYSBwZXJmb3JtYW5jZSBkYXRlXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIGdldEN1cnJlbnRTdGF0dXNlcyhcclxuXHRcdGV2ZW50SWQ6IHN0cmluZyxcclxuXHRcdHBlcmZvcm1hbmNlRGF0ZTogc3RyaW5nXHJcblx0KTogUHJvbWlzZTxDYWNoZWRBcnRpc3RTdGF0dXNbXT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3Qgc3RhdHVzRGF0YSA9IGF3YWl0IHRoaXMucmVhZEpTT04oXHJcblx0XHRcdFx0YGV2ZW50cy8ke2V2ZW50SWR9L2FydGlzdC1zdGF0dXNlcy8ke3BlcmZvcm1hbmNlRGF0ZX0vY3VycmVudC1zdGF0dXNlcy5qc29uYFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0aWYgKCFzdGF0dXNEYXRhIHx8ICFBcnJheS5pc0FycmF5KHN0YXR1c0RhdGEuc3RhdHVzZXMpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRgUmV0cmlldmVkICR7c3RhdHVzRGF0YS5zdGF0dXNlcy5sZW5ndGh9IGN1cnJlbnQgc3RhdHVzZXMgZm9yIGV2ZW50OiAke2V2ZW50SWR9LCBkYXRlOiAke3BlcmZvcm1hbmNlRGF0ZX1gXHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiBzdGF0dXNEYXRhLnN0YXR1c2VzO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgY3VycmVudCBzdGF0dXNlczpcIiwgZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgc3RhdHVzIHVwZGF0ZSBmb3IgYXVkaXQgdHJhaWxcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgbG9nU3RhdHVzVXBkYXRlKFxyXG5cdFx0ZXZlbnRJZDogc3RyaW5nLFxyXG5cdFx0cGVyZm9ybWFuY2VEYXRlOiBzdHJpbmcsXHJcblx0XHR1cGRhdGVMb2c6IFN0YXR1c1VwZGF0ZUxvZ1xyXG5cdCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gR2V0IGV4aXN0aW5nIGxvZ1xyXG5cdFx0XHRjb25zdCBsb2dQYXRoID0gYGV2ZW50cy8ke2V2ZW50SWR9L2FydGlzdC1zdGF0dXNlcy8ke3BlcmZvcm1hbmNlRGF0ZX0vc3RhdHVzLWxvZy5qc29uYDtcclxuXHRcdFx0Y29uc3QgZXhpc3RpbmdMb2cgPSAoYXdhaXQgdGhpcy5yZWFkSlNPTihsb2dQYXRoKSkgfHwge1xyXG5cdFx0XHRcdHVwZGF0ZXM6IFtdLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gQWRkIG5ldyB1cGRhdGVcclxuXHRcdFx0ZXhpc3RpbmdMb2cudXBkYXRlcy5wdXNoKHVwZGF0ZUxvZyk7XHJcblx0XHRcdGV4aXN0aW5nTG9nLnVwZGF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG5cdFx0XHQvLyBLZWVwIG9ubHkgbGFzdCAxMDAwIHVwZGF0ZXMgdG8gcHJldmVudCBmaWxlIGZyb20gZ3Jvd2luZyB0b28gbGFyZ2VcclxuXHRcdFx0aWYgKGV4aXN0aW5nTG9nLnVwZGF0ZXMubGVuZ3RoID4gMTAwMCkge1xyXG5cdFx0XHRcdGV4aXN0aW5nTG9nLnVwZGF0ZXMgPSBleGlzdGluZ0xvZy51cGRhdGVzLnNsaWNlKC0xMDAwKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlSlNPTihleGlzdGluZ0xvZywgbG9nUGF0aCk7XHJcblx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdGBTdGF0dXMgdXBkYXRlIGxvZ2dlZCBmb3IgYXJ0aXN0OiAke3VwZGF0ZUxvZy5hcnRpc3RJZH1gXHJcblx0XHRcdCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9nZ2luZyBzdGF0dXMgdXBkYXRlOlwiLCBlcnJvcik7XHJcblx0XHRcdC8vIERvbid0IHRocm93IGVycm9yIGZvciBsb2dnaW5nIGZhaWx1cmVzXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgc3RhdHVzIHVwZGF0ZSBsb2cgZm9yIGEgcGVyZm9ybWFuY2UgZGF0ZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyBnZXRTdGF0dXNVcGRhdGVMb2coXHJcblx0XHRldmVudElkOiBzdHJpbmcsXHJcblx0XHRwZXJmb3JtYW5jZURhdGU6IHN0cmluZyxcclxuXHRcdGxpbWl0PzogbnVtYmVyXHJcblx0KTogUHJvbWlzZTxTdGF0dXNVcGRhdGVMb2dbXT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgbG9nRGF0YSA9IGF3YWl0IHRoaXMucmVhZEpTT04oXHJcblx0XHRcdFx0YGV2ZW50cy8ke2V2ZW50SWR9L2FydGlzdC1zdGF0dXNlcy8ke3BlcmZvcm1hbmNlRGF0ZX0vc3RhdHVzLWxvZy5qc29uYFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0aWYgKCFsb2dEYXRhIHx8ICFBcnJheS5pc0FycmF5KGxvZ0RhdGEudXBkYXRlcykpIHtcclxuXHRcdFx0XHRyZXR1cm4gW107XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHVwZGF0ZXMgPSBsb2dEYXRhLnVwZGF0ZXM7XHJcblx0XHRcdHJldHVybiBsaW1pdCA/IHVwZGF0ZXMuc2xpY2UoLWxpbWl0KSA6IHVwZGF0ZXM7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzdGF0dXMgdXBkYXRlIGxvZzpcIiwgZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgY29uZmxpY3QgcmVzb2x1dGlvbiBmb3IgZGVidWdnaW5nXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIGxvZ0NvbmZsaWN0UmVzb2x1dGlvbihcclxuXHRcdGV2ZW50SWQ6IHN0cmluZyxcclxuXHRcdGNvbmZsaWN0TG9nOiBDb25mbGljdFJlc29sdXRpb25Mb2dcclxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHRpbWVzdGFtcCA9IGNvbmZsaWN0TG9nLmNvbmZsaWN0VGltZXN0YW1wLnJlcGxhY2UoXHJcblx0XHRcdFx0L1s6Ll0vZyxcclxuXHRcdFx0XHRcIi1cIlxyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zdCBsb2dQYXRoID0gYGV2ZW50cy8ke2V2ZW50SWR9L2FydGlzdC1zdGF0dXNlcy9jb25mbGljdC1yZXNvbHV0aW9uLyR7dGltZXN0YW1wfS1jb25mbGljdHMuanNvbmA7XHJcblxyXG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVKU09OKGNvbmZsaWN0TG9nLCBsb2dQYXRoKTtcclxuXHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0YENvbmZsaWN0IHJlc29sdXRpb24gbG9nZ2VkIGZvciBhcnRpc3Q6ICR7Y29uZmxpY3RMb2cuYXJ0aXN0SWR9YFxyXG5cdFx0XHQpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGxvZ2dpbmcgY29uZmxpY3QgcmVzb2x1dGlvbjpcIiwgZXJyb3IpO1xyXG5cdFx0XHQvLyBEb24ndCB0aHJvdyBlcnJvciBmb3IgbG9nZ2luZyBmYWlsdXJlc1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQmF0Y2ggc2F2ZSBtdWx0aXBsZSBhcnRpc3Qgc3RhdHVzZXMgZWZmaWNpZW50bHlcclxuXHQgKi9cclxuXHRzdGF0aWMgYXN5bmMgYmF0Y2hTYXZlU3RhdHVzZXMoXHJcblx0XHRldmVudElkOiBzdHJpbmcsXHJcblx0XHRwZXJmb3JtYW5jZURhdGU6IHN0cmluZyxcclxuXHRcdHN0YXR1c2VzOiBDYWNoZWRBcnRpc3RTdGF0dXNbXSxcclxuXHRcdHVzZXJJZD86IHN0cmluZ1xyXG5cdCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gU2F2ZSBjdXJyZW50IHN0YXR1c2VzXHJcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZUN1cnJlbnRTdGF0dXNlcyhldmVudElkLCBwZXJmb3JtYW5jZURhdGUsIHN0YXR1c2VzKTtcclxuXHJcblx0XHRcdC8vIExvZyBlYWNoIHN0YXR1cyB1cGRhdGVcclxuXHRcdFx0Y29uc3QgdXBkYXRlUHJvbWlzZXMgPSBzdGF0dXNlcy5tYXAoKHN0YXR1cykgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHVwZGF0ZUxvZzogU3RhdHVzVXBkYXRlTG9nID0ge1xyXG5cdFx0XHRcdFx0ZXZlbnRJZCxcclxuXHRcdFx0XHRcdGFydGlzdElkOiBzdGF0dXMuYXJ0aXN0SWQsXHJcblx0XHRcdFx0XHRuZXdTdGF0dXM6IHN0YXR1cy5wZXJmb3JtYW5jZV9zdGF0dXMsXHJcblx0XHRcdFx0XHRwZXJmb3JtYW5jZV9vcmRlcjogc3RhdHVzLnBlcmZvcm1hbmNlX29yZGVyLFxyXG5cdFx0XHRcdFx0cGVyZm9ybWFuY2VfZGF0ZTogc3RhdHVzLnBlcmZvcm1hbmNlX2RhdGUsXHJcblx0XHRcdFx0XHR0aW1lc3RhbXA6IHN0YXR1cy50aW1lc3RhbXAsXHJcblx0XHRcdFx0XHR1c2VySWQ6IHVzZXJJZCB8fCBcInN5c3RlbVwiLFxyXG5cdFx0XHRcdFx0c291cmNlOiBcImFwaVwiLFxyXG5cdFx0XHRcdFx0dmVyc2lvbjogc3RhdHVzLnZlcnNpb24sXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHRoaXMubG9nU3RhdHVzVXBkYXRlKFxyXG5cdFx0XHRcdFx0ZXZlbnRJZCxcclxuXHRcdFx0XHRcdHBlcmZvcm1hbmNlRGF0ZSxcclxuXHRcdFx0XHRcdHVwZGF0ZUxvZ1xyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwodXBkYXRlUHJvbWlzZXMpO1xyXG5cclxuXHRcdFx0Ly8gVXBkYXRlIGNhY2hlIG1ldGFkYXRhXHJcblx0XHRcdGNvbnN0IG1ldGFkYXRhOiBTdGF0dXNDYWNoZU1ldGFkYXRhID0ge1xyXG5cdFx0XHRcdGV2ZW50SWQsXHJcblx0XHRcdFx0dmVyc2lvbjogRGF0ZS5ub3coKSxcclxuXHRcdFx0XHRsYXN0U3luYzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG5cdFx0XHRcdHRvdGFsU3RhdHVzZXM6IHN0YXR1c2VzLmxlbmd0aCxcclxuXHRcdFx0XHRjb25mbGljdENvdW50OiAwLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlQ2FjaGVNZXRhZGF0YShldmVudElkLCBtZXRhZGF0YSk7XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRgQmF0Y2ggc2F2ZWQgJHtzdGF0dXNlcy5sZW5ndGh9IHN0YXR1c2VzIGZvciBldmVudDogJHtldmVudElkfWBcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBiYXRjaCBzYXZpbmcgc3RhdHVzZXM6XCIsIGVycm9yKTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGJhdGNoIHNhdmUgc3RhdHVzZXMgdG8gR0NTXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGFydGlzdCBzdGF0dXMgd2l0aCB0aW1lc3RhbXAtYmFzZWQgY29uZmxpY3QgcmVzb2x1dGlvblxyXG5cdCAqL1xyXG5cdHN0YXRpYyBhc3luYyBnZXRBcnRpc3RTdGF0dXNXaXRoQ29uZmxpY3RSZXNvbHV0aW9uKFxyXG5cdFx0YXJ0aXN0SWQ6IHN0cmluZyxcclxuXHRcdGV2ZW50SWQ6IHN0cmluZyxcclxuXHRcdGxvY2FsU3RhdHVzPzogQ2FjaGVkQXJ0aXN0U3RhdHVzXHJcblx0KTogUHJvbWlzZTxDYWNoZWRBcnRpc3RTdGF0dXMgfCBudWxsPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBHZXQgY3VycmVudCBhcnRpc3QgZGF0YVxyXG5cdFx0XHRjb25zdCBhcnRpc3REYXRhID0gYXdhaXQgdGhpcy5nZXRBcnRpc3REYXRhKGFydGlzdElkKTtcclxuXHRcdFx0aWYgKCFhcnRpc3REYXRhKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENvbnZlcnQgdG8gY2FjaGVkIHN0YXR1cyBmb3JtYXRcclxuXHRcdFx0Y29uc3QgcmVtb3RlU3RhdHVzOiBDYWNoZWRBcnRpc3RTdGF0dXMgPSB7XHJcblx0XHRcdFx0YXJ0aXN0SWQsXHJcblx0XHRcdFx0ZXZlbnRJZCxcclxuXHRcdFx0XHRwZXJmb3JtYW5jZV9zdGF0dXM6XHJcblx0XHRcdFx0XHRhcnRpc3REYXRhLnBlcmZvcm1hbmNlX3N0YXR1cyB8fCBcIm5vdF9zdGFydGVkXCIsXHJcblx0XHRcdFx0cGVyZm9ybWFuY2Vfb3JkZXI6IGFydGlzdERhdGEucGVyZm9ybWFuY2Vfb3JkZXIsXHJcblx0XHRcdFx0cGVyZm9ybWFuY2VfZGF0ZTpcclxuXHRcdFx0XHRcdGFydGlzdERhdGEucGVyZm9ybWFuY2VfZGF0ZSB8fCBhcnRpc3REYXRhLnBlcmZvcm1hbmNlRGF0ZSxcclxuXHRcdFx0XHR0aW1lc3RhbXA6IGFydGlzdERhdGEudXBkYXRlZEF0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuXHRcdFx0XHR2ZXJzaW9uOiAxLFxyXG5cdFx0XHRcdGRpcnR5OiBmYWxzZSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIElmIG5vIGxvY2FsIHN0YXR1cywgcmV0dXJuIHJlbW90ZVxyXG5cdFx0XHRpZiAoIWxvY2FsU3RhdHVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlbW90ZVN0YXR1cztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUmVzb2x2ZSBjb25mbGljdHMgdXNpbmcgdGltZXN0YW1wc1xyXG5cdFx0XHRjb25zdCBsb2NhbFRpbWUgPSBuZXcgRGF0ZShsb2NhbFN0YXR1cy50aW1lc3RhbXApLmdldFRpbWUoKTtcclxuXHRcdFx0Y29uc3QgcmVtb3RlVGltZSA9IG5ldyBEYXRlKHJlbW90ZVN0YXR1cy50aW1lc3RhbXApLmdldFRpbWUoKTtcclxuXHJcblx0XHRcdGlmIChyZW1vdGVUaW1lID4gbG9jYWxUaW1lKSB7XHJcblx0XHRcdFx0Ly8gUmVtb3RlIGlzIG5ld2VyXHJcblx0XHRcdFx0cmV0dXJuIHJlbW90ZVN0YXR1cztcclxuXHRcdFx0fSBlbHNlIGlmIChsb2NhbFRpbWUgPiByZW1vdGVUaW1lKSB7XHJcblx0XHRcdFx0Ly8gTG9jYWwgaXMgbmV3ZXJcclxuXHRcdFx0XHRyZXR1cm4gbG9jYWxTdGF0dXM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gU2FtZSB0aW1lc3RhbXAsIHVzZSB2ZXJzaW9uIG51bWJlcnNcclxuXHRcdFx0XHRpZiAocmVtb3RlU3RhdHVzLnZlcnNpb24gPiBsb2NhbFN0YXR1cy52ZXJzaW9uKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVtb3RlU3RhdHVzO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbG9jYWxTdGF0dXM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKFxyXG5cdFx0XHRcdFwiRXJyb3IgZ2V0dGluZyBhcnRpc3Qgc3RhdHVzIHdpdGggY29uZmxpY3QgcmVzb2x1dGlvbjpcIixcclxuXHRcdFx0XHRlcnJvclxyXG5cdFx0XHQpO1xyXG5cdFx0XHRyZXR1cm4gbG9jYWxTdGF0dXMgfHwgbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsZWFudXAgb2xkIHN0YXR1cyBsb2dzIGFuZCBjb25mbGljdCByZXNvbHV0aW9uIGZpbGVzXHJcblx0ICovXHJcblx0c3RhdGljIGFzeW5jIGNsZWFudXBPbGRTdGF0dXNEYXRhKFxyXG5cdFx0ZXZlbnRJZDogc3RyaW5nLFxyXG5cdFx0ZGF5c1RvS2VlcDogbnVtYmVyID0gMzBcclxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGN1dG9mZkRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRjdXRvZmZEYXRlLnNldERhdGUoY3V0b2ZmRGF0ZS5nZXREYXRlKCkgLSBkYXlzVG9LZWVwKTtcclxuXHRcdFx0Y29uc3QgY3V0b2ZmVGltZXN0YW1wID0gY3V0b2ZmRGF0ZS50b0lTT1N0cmluZygpO1xyXG5cclxuXHRcdFx0Ly8gTGlzdCBhbGwgZmlsZXMgaW4gdGhlIGFydGlzdC1zdGF0dXNlcyBkaXJlY3RvcnlcclxuXHRcdFx0Y29uc3QgcHJlZml4ID0gYGV2ZW50cy8ke2V2ZW50SWR9L2FydGlzdC1zdGF0dXNlcy9gO1xyXG5cdFx0XHRjb25zdCBmaWxlcyA9IGF3YWl0IHRoaXMubGlzdEZpbGVzKHByZWZpeCk7XHJcblxyXG5cdFx0XHRjb25zdCBkZWxldGVQcm9taXNlcyA9IGZpbGVzXHJcblx0XHRcdFx0LmZpbHRlcigoZmlsZU5hbWUpID0+IHtcclxuXHRcdFx0XHRcdC8vIEV4dHJhY3QgdGltZXN0YW1wIGZyb20gZmlsZW5hbWUgaWYgcG9zc2libGVcclxuXHRcdFx0XHRcdGNvbnN0IHRpbWVzdGFtcE1hdGNoID1cclxuXHRcdFx0XHRcdFx0ZmlsZU5hbWUubWF0Y2goLyhcXGR7NH0tXFxkezJ9LVxcZHsyfSkvKTtcclxuXHRcdFx0XHRcdGlmICh0aW1lc3RhbXBNYXRjaCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gKFxyXG5cdFx0XHRcdFx0XHRcdHRpbWVzdGFtcE1hdGNoWzFdIDwgY3V0b2ZmVGltZXN0YW1wLnN1YnN0cmluZygwLCAxMClcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5tYXAoKGZpbGVOYW1lKSA9PiB0aGlzLmRlbGV0ZUZpbGUoZmlsZU5hbWUpKTtcclxuXHJcblx0XHRcdGF3YWl0IFByb21pc2UuYWxsKGRlbGV0ZVByb21pc2VzKTtcclxuXHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0YENsZWFuZWQgdXAgJHtkZWxldGVQcm9taXNlcy5sZW5ndGh9IG9sZCBzdGF0dXMgZmlsZXMgZm9yIGV2ZW50OiAke2V2ZW50SWR9YFxyXG5cdFx0XHQpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGNsZWFuaW5nIHVwIG9sZCBzdGF0dXMgZGF0YTpcIiwgZXJyb3IpO1xyXG5cdFx0XHQvLyBEb24ndCB0aHJvdyBlcnJvciBmb3IgY2xlYW51cCBmYWlsdXJlc1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR0NTU2VydmljZTtcclxuIl0sIm5hbWVzIjpbIlN0b3JhZ2UiLCJTZXJ2aWNlSXNvbGF0aW9uIiwiYnVpbGRMb2dnZXIiLCJzdG9yYWdlIiwiYnVja2V0IiwiYnVja2V0TmFtZSIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xPVURfQlVDS0VUX05BTUUiLCJpbml0aWFsaXplR0NTIiwiaXNTZXJ2aWNlRW5hYmxlZCIsInNlcnZpY2VTdGF0dXMiLCJHT09HTEVfQ0xPVURfUFJPSkVDVF9JRCIsInN0b3JhZ2VDb25maWciLCJwcm9qZWN0SWQiLCJHT09HTEVfQ0xPVURfS0VZX0ZJTEUiLCJrZXlGaWxlbmFtZSIsIkdPT0dMRV9DTE9VRF9DUkVERU5USUFMUyIsImNyZWRlbnRpYWxzIiwiSlNPTiIsInBhcnNlIiwiY29uc29sZSIsImVycm9yIiwic2lnbmVkVXJsQ2FjaGUiLCJNYXAiLCJHQ1NTZXJ2aWNlIiwiaXNCbG9iVXJsIiwidXJsIiwic3RhcnRzV2l0aCIsImNsZWFyRXhwaXJlZENhY2hlIiwibm93IiwiRGF0ZSIsImtleSIsImNhY2hlZCIsImVudHJpZXMiLCJleHBpcmVzQXQiLCJkZWxldGUiLCJmaWxlRXhpc3RzIiwicGF0aCIsImxvZyIsImdjc0ZpbGUiLCJmaWxlIiwiZXhpc3RzIiwidXBsb2FkRmlsZSIsImZpbGVuYW1lIiwiZm9sZGVyIiwiY29udGVudFR5cGUiLCJFcnJvciIsImdjc1BhdGgiLCJzYXZlIiwibWV0YWRhdGEiLCJwdWJsaWMiLCJzaWduZWRVcmwiLCJnZXRTaWduZWRVcmwiLCJzaXplIiwibGVuZ3RoIiwic2F2ZUpTT04iLCJkYXRhIiwianNvbkRhdGEiLCJzdHJpbmdpZnkiLCJyZWFkSlNPTiIsImNvbnRlbnRzIiwiZG93bmxvYWQiLCJ0b1N0cmluZyIsImxpc3RGaWxlcyIsInByZWZpeCIsImZpbGVzIiwiZ2V0RmlsZXMiLCJmaWxlTmFtZXMiLCJtYXAiLCJuYW1lIiwiZGVsZXRlRmlsZSIsImV4cGlyZXNJbiIsImNhY2hlS2V5IiwiZ2V0IiwiZXhwaXJhdGlvblRpbWUiLCJhY3Rpb24iLCJleHBpcmVzIiwic2V0Iiwic2F2ZUFydGlzdERhdGEiLCJhcnRpc3REYXRhIiwiYXJ0aXN0SWQiLCJpZCIsImV2ZW50SWQiLCJwZXJmb3JtYW5jZV9vcmRlciIsInBlcmZvcm1hbmNlX3N0YXR1cyIsInBlcmZvcm1hbmNlX2RhdGUiLCJwZXJmb3JtYW5jZURhdGUiLCJhcnRpc3ROYW1lIiwicmVhbE5hbWUiLCJlbWFpbCIsInBob25lIiwic3R5bGUiLCJwZXJmb3JtYW5jZVR5cGUiLCJwZXJmb3JtYW5jZUR1cmF0aW9uIiwiYmlvZ3JhcGh5IiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Iiwic3RhdHVzIiwic3RhdHVzSGlzdG9yeSIsImV2ZW50TmFtZSIsInVuZGVmaW5lZCIsInJlaGVhcnNhbF9kYXRlIiwicmVoZWFyc2FsX29yZGVyIiwicmVoZWFyc2FsX2NvbXBsZXRlZCIsInF1YWxpdHlfcmF0aW5nIiwiY29zdHVtZUNvbG9yIiwiY3VzdG9tQ29zdHVtZUNvbG9yIiwibGlnaHRDb2xvclNpbmdsZSIsImxpZ2h0Q29sb3JUd28iLCJsaWdodENvbG9yVGhyZWUiLCJsaWdodFJlcXVlc3RzIiwic3RhZ2VQb3NpdGlvblN0YXJ0Iiwic3RhZ2VQb3NpdGlvbkVuZCIsImN1c3RvbVN0YWdlUG9zaXRpb24iLCJlcXVpcG1lbnQiLCJzcGVjaWFsUmVxdWlyZW1lbnRzIiwic29jaWFsTWVkaWEiLCJzaG93TGluayIsIm1jTm90ZXMiLCJzdGFnZU1hbmFnZXJOb3RlcyIsIm5vdGVzIiwidHJhY2tzIiwibXVzaWNUcmFja3MiLCJnYWxsZXJ5RmlsZXMiLCJyZWdpc3RyYXRpb25EYXRlIiwiZ2V0QXJ0aXN0RGF0YSIsInByb2ZpbGUiLCJ0ZWNobmljYWwiLCJzb2NpYWwiLCJtdXNpYyIsImdhbGxlcnkiLCJQcm9taXNlIiwiYWxsIiwicmF3VHJhY2tzIiwiQXJyYXkiLCJpc0FycmF5IiwidCIsInRyYWNrIiwiaXNCbG9iIiwiZmlsZV91cmwiLCJmaWxlX3BhdGgiLCJlIiwicmF3RmlsZXMiLCJmIiwibWVyZ2VkRGF0YSIsImJhdGNoR2V0QXJ0aXN0RGF0YSIsImFydGlzdElkcyIsImFsbEZpbGVSZWFkcyIsImZsYXRNYXAiLCJhbGxSZXN1bHRzIiwiYXJ0aXN0cyIsImluZGV4IiwiYmFzZUluZGV4Iiwic2xpY2UiLCJyZW1haW5pbmdUcmFja3MiLCJuZWVkc1VybCIsInRvdGFsTXVzaWNUcmFja3MiLCJ0b3RhbEdhbGxlcnlGaWxlcyIsImZpbHRlciIsImFydGlzdCIsImxvYWRBcnRpc3RNZWRpYVVybHMiLCJtZWRpYVR5cGUiLCJzdGFydEluZGV4IiwiY291bnQiLCJtZWRpYURhdGEiLCJpdGVtcyIsInNlbGVjdGVkSXRlbXMiLCJpdGVtc1dpdGhVcmxzIiwiaXRlbSIsInVybEZpZWxkIiwicGF0aEZpZWxkIiwiZ2V0RXZlbnRBcnRpc3RzIiwic2FtcGxlQXJ0aXN0IiwiaW5zdGFncmFtIiwiZmFjZWJvb2siLCJ5b3V0dWJlIiwidGlrdG9rIiwid2Vic2l0ZSIsInNvbmdfdGl0bGUiLCJkdXJhdGlvbiIsImlzX21haW5fdHJhY2siLCJ0ZW1wbyIsInNhdmVUaW1pbmdTZXR0aW5ncyIsInNldHRpbmdzIiwidGltaW5nRGF0YSIsInVwZGF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsImdldFRpbWluZ1NldHRpbmdzIiwic2F2ZUN1ZSIsImN1ZSIsImN1ZURhdGEiLCJjcmVhdGVkX2F0IiwiZ2V0Q3VlcyIsImN1ZXMiLCJmaWxlTmFtZSIsInZhbGlkQ3VlcyIsImRlbGV0ZUN1ZSIsImN1ZUlkIiwic2F2ZVNob3dPcmRlciIsInNob3dPcmRlckl0ZW1zIiwic2hvd09yZGVyRGF0YSIsImdldFNob3dPcmRlciIsInNob3dPcmRlciIsInVwZGF0ZUFydGlzdFBlcmZvcm1hbmNlU3RhdHVzIiwidXBkYXRlcyIsImN1cnJlbnREYXRhIiwidXBkYXRlZFByb2ZpbGUiLCJzYXZlQ2FjaGVNZXRhZGF0YSIsImdldENhY2hlTWV0YWRhdGEiLCJzYXZlQ3VycmVudFN0YXR1c2VzIiwic3RhdHVzZXMiLCJzdGF0dXNEYXRhIiwidmVyc2lvbiIsImdldEN1cnJlbnRTdGF0dXNlcyIsImxvZ1N0YXR1c1VwZGF0ZSIsInVwZGF0ZUxvZyIsImxvZ1BhdGgiLCJleGlzdGluZ0xvZyIsInB1c2giLCJnZXRTdGF0dXNVcGRhdGVMb2ciLCJsaW1pdCIsImxvZ0RhdGEiLCJsb2dDb25mbGljdFJlc29sdXRpb24iLCJjb25mbGljdExvZyIsInRpbWVzdGFtcCIsImNvbmZsaWN0VGltZXN0YW1wIiwicmVwbGFjZSIsImJhdGNoU2F2ZVN0YXR1c2VzIiwidXNlcklkIiwidXBkYXRlUHJvbWlzZXMiLCJuZXdTdGF0dXMiLCJzb3VyY2UiLCJsYXN0U3luYyIsInRvdGFsU3RhdHVzZXMiLCJjb25mbGljdENvdW50IiwiZ2V0QXJ0aXN0U3RhdHVzV2l0aENvbmZsaWN0UmVzb2x1dGlvbiIsImxvY2FsU3RhdHVzIiwicmVtb3RlU3RhdHVzIiwiZGlydHkiLCJsb2NhbFRpbWUiLCJnZXRUaW1lIiwicmVtb3RlVGltZSIsImNsZWFudXBPbGRTdGF0dXNEYXRhIiwiZGF5c1RvS2VlcCIsImN1dG9mZkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImN1dG9mZlRpbWVzdGFtcCIsImRlbGV0ZVByb21pc2VzIiwidGltZXN0YW1wTWF0Y2giLCJtYXRjaCIsInN1YnN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/google-cloud-storage.ts\n");

/***/ }),

/***/ "(rsc)/./lib/service-isolation.ts":
/*!**********************************!*\
  !*** ./lib/service-isolation.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServiceIsolation: () => (/* binding */ ServiceIsolation)\n/* harmony export */ });\n/* harmony import */ var _build_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./build-context */ \"(rsc)/./lib/build-context.ts\");\n/**\r\n * Service isolation utility for build-time vs runtime separation\r\n * Prevents external services from being initialized during static generation\r\n */ \nclass ServiceIsolation {\n    static{\n        this.services = new Map();\n    }\n    /**\r\n\t * Register a service with its configuration\r\n\t */ static registerService(name, config = {}) {\n        const serviceConfig = {\n            name,\n            enabled: true,\n            buildTimeEnabled: false,\n            runtimeEnabled: true,\n            ...config\n        };\n        this.services.set(name, serviceConfig);\n        return serviceConfig;\n    }\n    /**\r\n\t * Check if a service should be enabled in the current context\r\n\t */ static isServiceEnabled(serviceName) {\n        const service = this.services.get(serviceName);\n        if (!service || !service.enabled) {\n            return false;\n        }\n        const isBuilding = _build_context__WEBPACK_IMPORTED_MODULE_0__.BuildContext.isBuilding();\n        if (isBuilding) {\n            return service.buildTimeEnabled;\n        } else {\n            return service.runtimeEnabled;\n        }\n    }\n    /**\r\n\t * Get service configuration\r\n\t */ static getServiceConfig(serviceName) {\n        return this.services.get(serviceName);\n    }\n    /**\r\n\t * List all registered services\r\n\t */ static getAllServices() {\n        return Array.from(this.services.values());\n    }\n    /**\r\n\t * Create a service wrapper that respects build-time isolation\r\n\t */ static createServiceWrapper(serviceName, serviceFactory, mockFactory) {\n        return ()=>{\n            if (this.isServiceEnabled(serviceName)) {\n                return serviceFactory();\n            } else {\n                console.log(`Service '${serviceName}' is disabled in current context (build: ${_build_context__WEBPACK_IMPORTED_MODULE_0__.BuildContext.isBuilding()})`);\n                return mockFactory ? mockFactory() : {};\n            }\n        };\n    }\n    /**\r\n\t * Execute a function only if the service is enabled\r\n\t */ static executeIfEnabled(serviceName, fn, fallback) {\n        if (this.isServiceEnabled(serviceName)) {\n            return fn();\n        } else {\n            console.log(`Skipping execution for service '${serviceName}' (disabled in current context)`);\n            return fallback ? fallback() : undefined;\n        }\n    }\n    /**\r\n\t * Create a mock implementation for build-time use\r\n\t */ static createBuildTimeMock(serviceName, methods) {\n        const mock = {};\n        for (const method of methods){\n            mock[method] = (...args)=>{\n                console.log(`Mock call to ${serviceName}.${String(method)}(${args.length} args) during build`);\n                return Promise.resolve(null);\n            };\n        }\n        return mock;\n    }\n    /**\r\n\t * Initialize service isolation with default configurations\r\n\t */ static initialize() {\n        // Register Google Cloud Storage service\n        this.registerService(\"google-cloud-storage\", {\n            buildTimeEnabled: false,\n            runtimeEnabled: true\n        });\n        // Register WebSocket service\n        this.registerService(\"websocket\", {\n            buildTimeEnabled: false,\n            runtimeEnabled: true\n        });\n        // Register external API services\n        this.registerService(\"external-apis\", {\n            buildTimeEnabled: false,\n            runtimeEnabled: true\n        });\n        // Register file system operations (allowed during build)\n        this.registerService(\"file-system\", {\n            buildTimeEnabled: true,\n            runtimeEnabled: true\n        });\n        console.log(`Service isolation initialized with ${this.services.size} services`);\n    }\n    /**\r\n\t * Get environment information for debugging\r\n\t */ static getEnvironmentInfo() {\n        return {\n            buildContext: _build_context__WEBPACK_IMPORTED_MODULE_0__.BuildContext.getEnvironmentInfo(),\n            services: Object.fromEntries(Array.from(this.services.entries()).map(([name, config])=>[\n                    name,\n                    {\n                        ...config,\n                        currentlyEnabled: this.isServiceEnabled(name)\n                    }\n                ]))\n        };\n    }\n}\n// Initialize service isolation on module load\nServiceIsolation.initialize();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNOLGVBQWUsQ0FBQyxpQkFBaUI7WUFDckNLLGtCQUFrQjtZQUNsQkMsZ0JBQWdCO1FBQ2pCO1FBRUEseURBQXlEO1FBQ3pELElBQUksQ0FBQ04sZUFBZSxDQUFDLGVBQWU7WUFDbkNLLGtCQUFrQjtZQUNsQkMsZ0JBQWdCO1FBQ2pCO1FBRUFlLFFBQVFDLEdBQUcsQ0FDVixDQUFDLG1DQUFtQyxFQUFFLElBQUksQ0FBQ3hCLFFBQVEsQ0FBQ3VDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFFckU7SUFFQTs7RUFFQyxHQUNELE9BQU9DLHFCQUFxQjtRQUMzQixPQUFPO1lBQ05DLGNBQWMzQyx3REFBWUEsQ0FBQzBDLGtCQUFrQjtZQUM3Q3hDLFVBQVUwQyxPQUFPQyxXQUFXLENBQzNCMUIsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQ2xCLFFBQVEsQ0FBQzRDLE9BQU8sSUFBSUMsR0FBRyxDQUFDLENBQUMsQ0FBQzFDLE1BQU1DLE9BQU8sR0FBSztvQkFDM0REO29CQUNBO3dCQUNDLEdBQUdDLE1BQU07d0JBQ1QwQyxrQkFBa0IsSUFBSSxDQUFDcEMsZ0JBQWdCLENBQUNQO29CQUN6QztpQkFDQTtRQUVIO0lBQ0Q7QUFDRDtBQUVBLDhDQUE4QztBQUM5Q0osaUJBQWlCdUMsVUFBVSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9saWIvc2VydmljZS1pc29sYXRpb24udHM/YTFiYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2VydmljZSBpc29sYXRpb24gdXRpbGl0eSBmb3IgYnVpbGQtdGltZSB2cyBydW50aW1lIHNlcGFyYXRpb25cclxuICogUHJldmVudHMgZXh0ZXJuYWwgc2VydmljZXMgZnJvbSBiZWluZyBpbml0aWFsaXplZCBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb25cclxuICovXHJcblxyXG5pbXBvcnQgeyBCdWlsZENvbnRleHQgfSBmcm9tIFwiLi9idWlsZC1jb250ZXh0XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNlcnZpY2VDb25maWcge1xyXG5cdG5hbWU6IHN0cmluZztcclxuXHRlbmFibGVkOiBib29sZWFuO1xyXG5cdGJ1aWxkVGltZUVuYWJsZWQ6IGJvb2xlYW47XHJcblx0cnVudGltZUVuYWJsZWQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTZXJ2aWNlSXNvbGF0aW9uIHtcclxuXHRwcml2YXRlIHN0YXRpYyBzZXJ2aWNlcyA9IG5ldyBNYXA8c3RyaW5nLCBTZXJ2aWNlQ29uZmlnPigpO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZWdpc3RlciBhIHNlcnZpY2Ugd2l0aCBpdHMgY29uZmlndXJhdGlvblxyXG5cdCAqL1xyXG5cdHN0YXRpYyByZWdpc3RlclNlcnZpY2UobmFtZTogc3RyaW5nLCBjb25maWc6IFBhcnRpYWw8U2VydmljZUNvbmZpZz4gPSB7fSkge1xyXG5cdFx0Y29uc3Qgc2VydmljZUNvbmZpZzogU2VydmljZUNvbmZpZyA9IHtcclxuXHRcdFx0bmFtZSxcclxuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdFx0YnVpbGRUaW1lRW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdHJ1bnRpbWVFbmFibGVkOiB0cnVlLFxyXG5cdFx0XHQuLi5jb25maWcsXHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuc2VydmljZXMuc2V0KG5hbWUsIHNlcnZpY2VDb25maWcpO1xyXG5cdFx0cmV0dXJuIHNlcnZpY2VDb25maWc7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDaGVjayBpZiBhIHNlcnZpY2Ugc2hvdWxkIGJlIGVuYWJsZWQgaW4gdGhlIGN1cnJlbnQgY29udGV4dFxyXG5cdCAqL1xyXG5cdHN0YXRpYyBpc1NlcnZpY2VFbmFibGVkKHNlcnZpY2VOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IHNlcnZpY2UgPSB0aGlzLnNlcnZpY2VzLmdldChzZXJ2aWNlTmFtZSk7XHJcblx0XHRpZiAoIXNlcnZpY2UgfHwgIXNlcnZpY2UuZW5hYmxlZCkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgaXNCdWlsZGluZyA9IEJ1aWxkQ29udGV4dC5pc0J1aWxkaW5nKCk7XHJcblxyXG5cdFx0aWYgKGlzQnVpbGRpbmcpIHtcclxuXHRcdFx0cmV0dXJuIHNlcnZpY2UuYnVpbGRUaW1lRW5hYmxlZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBzZXJ2aWNlLnJ1bnRpbWVFbmFibGVkO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHNlcnZpY2UgY29uZmlndXJhdGlvblxyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXRTZXJ2aWNlQ29uZmlnKHNlcnZpY2VOYW1lOiBzdHJpbmcpOiBTZXJ2aWNlQ29uZmlnIHwgdW5kZWZpbmVkIHtcclxuXHRcdHJldHVybiB0aGlzLnNlcnZpY2VzLmdldChzZXJ2aWNlTmFtZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMaXN0IGFsbCByZWdpc3RlcmVkIHNlcnZpY2VzXHJcblx0ICovXHJcblx0c3RhdGljIGdldEFsbFNlcnZpY2VzKCk6IFNlcnZpY2VDb25maWdbXSB7XHJcblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnNlcnZpY2VzLnZhbHVlcygpKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBhIHNlcnZpY2Ugd3JhcHBlciB0aGF0IHJlc3BlY3RzIGJ1aWxkLXRpbWUgaXNvbGF0aW9uXHJcblx0ICovXHJcblx0c3RhdGljIGNyZWF0ZVNlcnZpY2VXcmFwcGVyPFQ+KFxyXG5cdFx0c2VydmljZU5hbWU6IHN0cmluZyxcclxuXHRcdHNlcnZpY2VGYWN0b3J5OiAoKSA9PiBULFxyXG5cdFx0bW9ja0ZhY3Rvcnk/OiAoKSA9PiBQYXJ0aWFsPFQ+XHJcblx0KTogKCkgPT4gVCB8IFBhcnRpYWw8VD4ge1xyXG5cdFx0cmV0dXJuICgpID0+IHtcclxuXHRcdFx0aWYgKHRoaXMuaXNTZXJ2aWNlRW5hYmxlZChzZXJ2aWNlTmFtZSkpIHtcclxuXHRcdFx0XHRyZXR1cm4gc2VydmljZUZhY3RvcnkoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRcdGBTZXJ2aWNlICcke3NlcnZpY2VOYW1lfScgaXMgZGlzYWJsZWQgaW4gY3VycmVudCBjb250ZXh0IChidWlsZDogJHtCdWlsZENvbnRleHQuaXNCdWlsZGluZygpfSlgXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRyZXR1cm4gbW9ja0ZhY3RvcnkgPyBtb2NrRmFjdG9yeSgpIDogKHt9IGFzIFQpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXhlY3V0ZSBhIGZ1bmN0aW9uIG9ubHkgaWYgdGhlIHNlcnZpY2UgaXMgZW5hYmxlZFxyXG5cdCAqL1xyXG5cdHN0YXRpYyBleGVjdXRlSWZFbmFibGVkPFQ+KFxyXG5cdFx0c2VydmljZU5hbWU6IHN0cmluZyxcclxuXHRcdGZuOiAoKSA9PiBULFxyXG5cdFx0ZmFsbGJhY2s/OiAoKSA9PiBUXHJcblx0KTogVCB8IHVuZGVmaW5lZCB7XHJcblx0XHRpZiAodGhpcy5pc1NlcnZpY2VFbmFibGVkKHNlcnZpY2VOYW1lKSkge1xyXG5cdFx0XHRyZXR1cm4gZm4oKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdGBTa2lwcGluZyBleGVjdXRpb24gZm9yIHNlcnZpY2UgJyR7c2VydmljZU5hbWV9JyAoZGlzYWJsZWQgaW4gY3VycmVudCBjb250ZXh0KWBcclxuXHRcdFx0KTtcclxuXHRcdFx0cmV0dXJuIGZhbGxiYWNrID8gZmFsbGJhY2soKSA6IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBhIG1vY2sgaW1wbGVtZW50YXRpb24gZm9yIGJ1aWxkLXRpbWUgdXNlXHJcblx0ICovXHJcblx0c3RhdGljIGNyZWF0ZUJ1aWxkVGltZU1vY2s8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KFxyXG5cdFx0c2VydmljZU5hbWU6IHN0cmluZyxcclxuXHRcdG1ldGhvZHM6IChrZXlvZiBUKVtdXHJcblx0KTogUGFydGlhbDxUPiB7XHJcblx0XHRjb25zdCBtb2NrID0ge30gYXMgUGFydGlhbDxUPjtcclxuXHJcblx0XHRmb3IgKGNvbnN0IG1ldGhvZCBvZiBtZXRob2RzKSB7XHJcblx0XHRcdChtb2NrIGFzIGFueSlbbWV0aG9kXSA9ICguLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdFx0YE1vY2sgY2FsbCB0byAke3NlcnZpY2VOYW1lfS4ke1N0cmluZyhtZXRob2QpfSgke1xyXG5cdFx0XHRcdFx0XHRhcmdzLmxlbmd0aFxyXG5cdFx0XHRcdFx0fSBhcmdzKSBkdXJpbmcgYnVpbGRgXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBtb2NrO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGl6ZSBzZXJ2aWNlIGlzb2xhdGlvbiB3aXRoIGRlZmF1bHQgY29uZmlndXJhdGlvbnNcclxuXHQgKi9cclxuXHRzdGF0aWMgaW5pdGlhbGl6ZSgpIHtcclxuXHRcdC8vIFJlZ2lzdGVyIEdvb2dsZSBDbG91ZCBTdG9yYWdlIHNlcnZpY2VcclxuXHRcdHRoaXMucmVnaXN0ZXJTZXJ2aWNlKFwiZ29vZ2xlLWNsb3VkLXN0b3JhZ2VcIiwge1xyXG5cdFx0XHRidWlsZFRpbWVFbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0cnVudGltZUVuYWJsZWQ6IHRydWUsXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBSZWdpc3RlciBXZWJTb2NrZXQgc2VydmljZVxyXG5cdFx0dGhpcy5yZWdpc3RlclNlcnZpY2UoXCJ3ZWJzb2NrZXRcIiwge1xyXG5cdFx0XHRidWlsZFRpbWVFbmFibGVkOiBmYWxzZSxcclxuXHRcdFx0cnVudGltZUVuYWJsZWQ6IHRydWUsXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBSZWdpc3RlciBleHRlcm5hbCBBUEkgc2VydmljZXNcclxuXHRcdHRoaXMucmVnaXN0ZXJTZXJ2aWNlKFwiZXh0ZXJuYWwtYXBpc1wiLCB7XHJcblx0XHRcdGJ1aWxkVGltZUVuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRydW50aW1lRW5hYmxlZDogdHJ1ZSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFJlZ2lzdGVyIGZpbGUgc3lzdGVtIG9wZXJhdGlvbnMgKGFsbG93ZWQgZHVyaW5nIGJ1aWxkKVxyXG5cdFx0dGhpcy5yZWdpc3RlclNlcnZpY2UoXCJmaWxlLXN5c3RlbVwiLCB7XHJcblx0XHRcdGJ1aWxkVGltZUVuYWJsZWQ6IHRydWUsXHJcblx0XHRcdHJ1bnRpbWVFbmFibGVkOiB0cnVlLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdGBTZXJ2aWNlIGlzb2xhdGlvbiBpbml0aWFsaXplZCB3aXRoICR7dGhpcy5zZXJ2aWNlcy5zaXplfSBzZXJ2aWNlc2BcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgZW52aXJvbm1lbnQgaW5mb3JtYXRpb24gZm9yIGRlYnVnZ2luZ1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXRFbnZpcm9ubWVudEluZm8oKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRidWlsZENvbnRleHQ6IEJ1aWxkQ29udGV4dC5nZXRFbnZpcm9ubWVudEluZm8oKSxcclxuXHRcdFx0c2VydmljZXM6IE9iamVjdC5mcm9tRW50cmllcyhcclxuXHRcdFx0XHRBcnJheS5mcm9tKHRoaXMuc2VydmljZXMuZW50cmllcygpKS5tYXAoKFtuYW1lLCBjb25maWddKSA9PiBbXHJcblx0XHRcdFx0XHRuYW1lLFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQuLi5jb25maWcsXHJcblx0XHRcdFx0XHRcdGN1cnJlbnRseUVuYWJsZWQ6IHRoaXMuaXNTZXJ2aWNlRW5hYmxlZChuYW1lKSxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSlcclxuXHRcdFx0KSxcclxuXHRcdH07XHJcblx0fVxyXG59XHJcblxyXG4vLyBJbml0aWFsaXplIHNlcnZpY2UgaXNvbGF0aW9uIG9uIG1vZHVsZSBsb2FkXHJcblNlcnZpY2VJc29sYXRpb24uaW5pdGlhbGl6ZSgpO1xyXG4iXSwibmFtZXMiOlsiQnVpbGRDb250ZXh0IiwiU2VydmljZUlzb2xhdGlvbiIsInNlcnZpY2VzIiwiTWFwIiwicmVnaXN0ZXJTZXJ2aWNlIiwibmFtZSIsImNvbmZpZyIsInNlcnZpY2VDb25maWciLCJlbmFibGVkIiwiYnVpbGRUaW1lRW5hYmxlZCIsInJ1bnRpbWVFbmFibGVkIiwic2V0IiwiaXNTZXJ2aWNlRW5hYmxlZCIsInNlcnZpY2VOYW1lIiwic2VydmljZSIsImdldCIsImlzQnVpbGRpbmciLCJnZXRTZXJ2aWNlQ29uZmlnIiwiZ2V0QWxsU2VydmljZXMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJjcmVhdGVTZXJ2aWNlV3JhcHBlciIsInNlcnZpY2VGYWN0b3J5IiwibW9ja0ZhY3RvcnkiLCJjb25zb2xlIiwibG9nIiwiZXhlY3V0ZUlmRW5hYmxlZCIsImZuIiwiZmFsbGJhY2siLCJ1bmRlZmluZWQiLCJjcmVhdGVCdWlsZFRpbWVNb2NrIiwibWV0aG9kcyIsIm1vY2siLCJtZXRob2QiLCJhcmdzIiwiU3RyaW5nIiwibGVuZ3RoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbml0aWFsaXplIiwic2l6ZSIsImdldEVudmlyb25tZW50SW5mbyIsImJ1aWxkQ29udGV4dCIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsIm1hcCIsImN1cnJlbnRseUVuYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/service-isolation.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/lodash.once","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fme%2Froute&page=%2Fapi%2Fauth%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fme%2Froute.ts&appDir=C%3A%5CUsers%5CASUS%5COneDrive%5CDesktop%5CFAME%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CASUS%5COneDrive%5CDesktop%5CFAME&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();